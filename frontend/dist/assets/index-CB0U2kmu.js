var j0=i=>{throw TypeError(i)};var oh=(i,s,n)=>s.has(i)||j0("Cannot "+n);var N=(i,s,n)=>(oh(i,s,"read from private field"),n?n.call(i):s.get(i)),ne=(i,s,n)=>s.has(i)?j0("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(i):s.set(i,n),Y=(i,s,n,o)=>(oh(i,s,"write to private field"),o?o.call(i,n):s.set(i,n),n),ve=(i,s,n)=>(oh(i,s,"access private method"),n);var oc=(i,s,n,o)=>({set _(u){Y(i,s,u,n)},get _(){return N(i,s,o)}});import{j as l,V as Hv,R as $v,A as Iv,C as Vv,T as Gv,D as Pv,P as Iw,c as Vw,_ as te,t as Gw,a as Vc,b as Pw,d as Qw,e as Fw,f as Kw,g as Xw,h as Yw,O as Jw,i as Zw,k as Ww,I as e_,l as t_,m as s_,n as a_,o as n_,p as i_,q as r_,r as l_,S as o_,s as c_}from"./ui-vendor-CitjgyYj.js";import{d as u_,e as d_,g as Qv,r as G,c as h_,f as Dl,u as f_,h as fr,R as yt,L as vt,i as m_,N as g_,B as p_,j as v_,k as Rn}from"./react-vendor-Bs7MmQws.js";function y_(i,s){for(var n=0;n<s.length;n++){const o=s[n];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in i)){const d=Object.getOwnPropertyDescriptor(o,u);d&&Object.defineProperty(i,u,d.get?d:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=n(u);fetch(u.href,d)}})();var ch={exports:{}},ml={},uh={exports:{}},dh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function x_(){return S0||(S0=1,(function(i){function s(B,F){var V=B.length;B.push(F);e:for(;0<V;){var Oe=V-1>>>1,Re=B[Oe];if(0<u(Re,F))B[Oe]=F,B[V]=Re,V=Oe;else break e}}function n(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var F=B[0],V=B.pop();if(V!==F){B[0]=V;e:for(var Oe=0,Re=B.length,rt=Re>>>1;Oe<rt;){var ke=2*(Oe+1)-1,oe=B[ke],Ne=ke+1,Ke=B[Ne];if(0>u(oe,V))Ne<Re&&0>u(Ke,oe)?(B[Oe]=Ke,B[Ne]=V,Oe=Ne):(B[Oe]=oe,B[ke]=V,Oe=ke);else if(Ne<Re&&0>u(Ke,V))B[Oe]=Ke,B[Ne]=V,Oe=Ne;else break e}}return F}function u(B,F){var V=B.sortIndex-F.sortIndex;return V!==0?V:B.id-F.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var m=[],v=[],y=1,b=null,w=3,_=!1,k=!1,E=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var F=n(v);F!==null;){if(F.callback===null)o(v);else if(F.startTime<=B)o(v),F.sortIndex=F.expirationTime,s(m,F);else break;F=n(v)}}function Q(B){if(E=!1,R(B),!k)if(n(m)!==null)k=!0,X||(X=!0,Ce());else{var F=n(v);F!==null&&st(Q,F.startTime-B)}}var X=!1,J=-1,P=5,he=-1;function de(){return j?!0:!(i.unstable_now()-he<P)}function Le(){if(j=!1,X){var B=i.unstable_now();he=B;var F=!0;try{e:{k=!1,E&&(E=!1,O(J),J=-1),_=!0;var V=w;try{t:{for(R(B),b=n(m);b!==null&&!(b.expirationTime>B&&de());){var Oe=b.callback;if(typeof Oe=="function"){b.callback=null,w=b.priorityLevel;var Re=Oe(b.expirationTime<=B);if(B=i.unstable_now(),typeof Re=="function"){b.callback=Re,R(B),F=!0;break t}b===n(m)&&o(m),R(B)}else o(m);b=n(m)}if(b!==null)F=!0;else{var rt=n(v);rt!==null&&st(Q,rt.startTime-B),F=!1}}break e}finally{b=null,w=V,_=!1}F=void 0}}finally{F?Ce():X=!1}}}var Ce;if(typeof T=="function")Ce=function(){T(Le)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,ze=Rt.port2;Rt.port1.onmessage=Le,Ce=function(){ze.postMessage(null)}}else Ce=function(){z(Le,0)};function st(B,F){J=z(function(){B(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(B){switch(w){case 1:case 2:case 3:var F=3;break;default:F=w}var V=w;w=F;try{return B()}finally{w=V}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=w;w=B;try{return F()}finally{w=V}},i.unstable_scheduleCallback=function(B,F,V){var Oe=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Oe+V:Oe):V=Oe,B){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=V+Re,B={id:y++,callback:F,priorityLevel:B,startTime:V,expirationTime:Re,sortIndex:-1},V>Oe?(B.sortIndex=V,s(v,B),n(m)===null&&B===n(v)&&(E?(O(J),J=-1):E=!0,st(Q,V-Oe))):(B.sortIndex=Re,s(m,B),k||_||(k=!0,X||(X=!0,Ce()))),B},i.unstable_shouldYield=de,i.unstable_wrapCallback=function(B){var F=w;return function(){var V=w;w=F;try{return B.apply(this,arguments)}finally{w=V}}}})(dh)),dh}var N0;function b_(){return N0||(N0=1,uh.exports=x_()),uh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function w_(){if(E0)return ml;E0=1;var i=b_(),s=u_(),n=d_();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(o(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,r=t;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return m(c),e;if(h===r)return m(c),t;h=h.sibling}throw Error(o(188))}if(a.return!==r.return)a=c,r=h;else{for(var p=!1,x=c.child;x;){if(x===a){p=!0,a=c,r=h;break}if(x===r){p=!0,r=c,a=h;break}x=x.sibling}if(!p){for(x=h.child;x;){if(x===a){p=!0,a=h,r=c;break}if(x===r){p=!0,r=h,a=c;break}x=x.sibling}if(!p)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=Le&&e[Le]||e["@@iterator"],typeof e=="function"?e:null)}var Rt=Symbol.for("react.client.reference");function ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Rt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case z:return"Profiler";case j:return"StrictMode";case Q:return"Suspense";case X:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case T:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case R:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:ze(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return ze(e(t))}catch{}}return null}var st=Array.isArray,B=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Oe=[],Re=-1;function rt(e){return{current:e}}function ke(e){0>Re||(e.current=Oe[Re],Oe[Re]=null,Re--)}function oe(e,t){Re++,Oe[Re]=e.current,e.current=t}var Ne=rt(null),Ke=rt(null),$t=rt(null),Xe=rt(null);function Js(e,t){switch(oe($t,t),oe(Ke,e),oe(Ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qp(t),e=Fp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ke(Ne),oe(Ne,e)}function It(){ke(Ne),ke(Ke),ke($t)}function As(e){e.memoizedState!==null&&oe(Xe,e);var t=Ne.current,a=Fp(t,e.type);t!==a&&(oe(Ke,e),oe(Ne,a))}function Bs(e){Ke.current===e&&(ke(Ne),ke(Ke)),Xe.current===e&&(ke(Xe),ul._currentValue=V)}var Hs,Vl;function Zs(e){if(Hs===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Hs=t&&t[1]||"",Vl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+e+Vl}var xr=!1;function br(e,t){if(!e||xr)return"";xr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(L){var M=L}Reflect.construct(e,[],I)}else{try{I.call()}catch(L){M=L}e.call(I.prototype)}}else{try{throw Error()}catch(L){M=L}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(L){if(L&&M&&typeof L.stack=="string")return[L.stack,M.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),p=h[0],x=h[1];if(p&&x){var S=p.split(`
`),U=x.split(`
`);for(c=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(r===S.length||c===U.length)for(r=S.length-1,c=U.length-1;1<=r&&0<=c&&S[r]!==U[c];)c--;for(;1<=r&&0<=c;r--,c--)if(S[r]!==U[c]){if(r!==1||c!==1)do if(r--,c--,0>c||S[r]!==U[c]){var H=`
`+S[r].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=r&&0<=c);break}}}finally{xr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zs(a):""}function Xc(e,t){switch(e.tag){case 26:case 27:case 5:return Zs(e.type);case 16:return Zs("Lazy");case 13:return e.child!==t&&t!==null?Zs("Suspense Fallback"):Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 15:return br(e.type,!1);case 11:return br(e.type.render,!1);case 1:return br(e.type,!0);case 31:return Zs("Activity");default:return""}}function q(e){try{var t="",a=null;do t+=Xc(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var xe=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,ms=i.unstable_cancelCallback,wr=i.unstable_shouldYield,jt=i.unstable_requestPaint,Mt=i.unstable_now,_x=i.unstable_getCurrentPriorityLevel,Sf=i.unstable_ImmediatePriority,Nf=i.unstable_UserBlockingPriority,Gl=i.unstable_NormalPriority,jx=i.unstable_LowPriority,Ef=i.unstable_IdlePriority,Sx=i.log,Nx=i.unstable_setDisableYieldValue,_r=null,ss=null;function Aa(e){if(typeof Sx=="function"&&Nx(e),ss&&typeof ss.setStrictMode=="function")try{ss.setStrictMode(_r,e)}catch{}}var as=Math.clz32?Math.clz32:Ax,Ex=Math.log,Tx=Math.LN2;function Ax(e){return e>>>=0,e===0?32:31-(Ex(e)/Tx|0)|0}var Pl=256,Ql=262144,Fl=4194304;function mn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kl(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var c=0,h=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=r&134217727;return x!==0?(r=x&~h,r!==0?c=mn(r):(p&=x,p!==0?c=mn(p):a||(a=x&~e,a!==0&&(c=mn(a))))):(x=r&~h,x!==0?c=mn(x):p!==0?c=mn(p):a||(a=r&~e,a!==0&&(c=mn(a)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,a=t&-t,h>=a||h===32&&(a&4194048)!==0)?t:c}function jr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function kx(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tf(){var e=Fl;return Fl<<=1,(Fl&62914560)===0&&(Fl=4194304),e}function Yc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Sr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cx(e,t,a,r,c,h){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,S=e.expirationTimes,U=e.hiddenUpdates;for(a=p&~a;0<a;){var H=31-as(a),I=1<<H;x[H]=0,S[H]=-1;var M=U[H];if(M!==null)for(U[H]=null,H=0;H<M.length;H++){var L=M[H];L!==null&&(L.lane&=-536870913)}a&=~I}r!==0&&Af(e,r,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(p&~t))}function Af(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-as(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function kf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-as(a),c=1<<r;c&t|e[r]&t&&(e[r]|=t),a&=~c}}function Cf(e,t){var a=t&-t;return a=(a&42)!==0?1:Jc(a),(a&(e.suspendedLanes|t))!==0?0:a}function Jc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Of(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:p0(e.type))}function Rf(e,t){var a=F.p;try{return F.p=e,t()}finally{F.p=a}}var ka=Math.random().toString(36).slice(2),St="__reactFiber$"+ka,Gt="__reactProps$"+ka,ei="__reactContainer$"+ka,Wc="__reactEvents$"+ka,Ox="__reactListeners$"+ka,Rx="__reactHandles$"+ka,Df="__reactResources$"+ka,Nr="__reactMarker$"+ka;function eu(e){delete e[St],delete e[Gt],delete e[Wc],delete e[Ox],delete e[Rx]}function ti(e){var t=e[St];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ei]||a[St]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=e0(e);e!==null;){if(a=e[St])return a;e=e0(e)}return t}e=a,a=e.parentNode}return null}function si(e){if(e=e[St]||e[ei]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Er(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ai(e){var t=e[Df];return t||(t=e[Df]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[Nr]=!0}var Uf=new Set,Mf={};function gn(e,t){ni(e,t),ni(e+"Capture",t)}function ni(e,t){for(Mf[e]=t,e=0;e<t.length;e++)Uf.add(t[e])}var Dx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zf={},qf={};function Ux(e){return xe.call(qf,e)?!0:xe.call(zf,e)?!1:Dx.test(e)?qf[e]=!0:(zf[e]=!0,!1)}function Xl(e,t,a){if(Ux(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Yl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ws(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function gs(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mx(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,h.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tu(e){if(!e._valueTracker){var t=Lf(e)?"checked":"value";e._valueTracker=Mx(e,t,""+e[t])}}function Bf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=Lf(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function Jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zx=/[\n"\\]/g;function ps(e){return e.replace(zx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function su(e,t,a,r,c,h,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+gs(t)):e.value!==""+gs(t)&&(e.value=""+gs(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?au(e,p,gs(t)):a!=null?au(e,p,gs(a)):r!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+gs(x):e.removeAttribute("name")}function Hf(e,t,a,r,c,h,p,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){tu(e);return}a=a!=null?""+gs(a):"",t=t!=null?""+gs(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=x?e.checked:!!r,e.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),tu(e)}function au(e,t,a){t==="number"&&Jl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ii(e,t,a,r){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&r&&(e[a].defaultSelected=!0)}else{for(a=""+gs(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function $f(e,t,a){if(t!=null&&(t=""+gs(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+gs(a):""}function If(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(o(92));if(st(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=gs(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),tu(e)}function ri(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var qx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vf(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||qx.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Gf(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&a[c]!==r&&Vf(e,c,r)}else for(var h in t)t.hasOwnProperty(h)&&Vf(e,h,t[h])}function nu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(e){return Bx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var iu=null;function ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var li=null,oi=null;function Pf(e){var t=si(e);if(t&&(e=t.stateNode)){var a=e[Gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(su(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ps(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var c=r[Gt]||null;if(!c)throw Error(o(90));su(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Bf(r)}break e;case"textarea":$f(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ii(e,!!a.multiple,t,!1)}}}var lu=!1;function Qf(e,t,a){if(lu)return e(t,a);lu=!0;try{var r=e(t);return r}finally{if(lu=!1,(li!==null||oi!==null)&&(Ho(),li&&(t=li,e=oi,oi=li=null,Pf(t),e)))for(t=0;t<e.length;t++)Pf(e[t])}}function Tr(e,t){var a=e.stateNode;if(a===null)return null;var r=a[Gt]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=!1;if(ta)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){ou=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{ou=!1}var Ca=null,cu=null,Wl=null;function Ff(){if(Wl)return Wl;var e,t=cu,a=t.length,r,c="value"in Ca?Ca.value:Ca.textContent,h=c.length;for(e=0;e<a&&t[e]===c[e];e++);var p=a-e;for(r=1;r<=p&&t[a-r]===c[h-r];r++);return Wl=c.slice(e,1<r?1-r:void 0)}function eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function to(){return!0}function Kf(){return!1}function Pt(e){function t(a,r,c,h,p){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?to:Kf,this.isPropagationStopped=Kf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),t}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Pt(pn),kr=b({},pn,{view:0,detail:0}),Hx=Pt(kr),uu,du,Cr,ao=b({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(uu=e.screenX-Cr.screenX,du=e.screenY-Cr.screenY):du=uu=0,Cr=e),uu)},movementY:function(e){return"movementY"in e?e.movementY:du}}),Xf=Pt(ao),$x=b({},ao,{dataTransfer:0}),Ix=Pt($x),Vx=b({},kr,{relatedTarget:0}),hu=Pt(Vx),Gx=b({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=Pt(Gx),Qx=b({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fx=Pt(Qx),Kx=b({},pn,{data:0}),Yf=Pt(Kx),Xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jx[e])?!!t[e]:!1}function fu(){return Zx}var Wx=b({},kr,{key:function(e){if(e.key){var t=Xx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(e){return e.type==="keypress"?eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eb=Pt(Wx),tb=b({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jf=Pt(tb),sb=b({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),ab=Pt(sb),nb=b({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ib=Pt(nb),rb=b({},ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lb=Pt(rb),ob=b({},pn,{newState:0,oldState:0}),cb=Pt(ob),ub=[9,13,27,32],mu=ta&&"CompositionEvent"in window,Or=null;ta&&"documentMode"in document&&(Or=document.documentMode);var db=ta&&"TextEvent"in window&&!Or,Zf=ta&&(!mu||Or&&8<Or&&11>=Or),Wf=" ",em=!1;function tm(e,t){switch(e){case"keyup":return ub.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ci=!1;function hb(e,t){switch(e){case"compositionend":return sm(t);case"keypress":return t.which!==32?null:(em=!0,Wf);case"textInput":return e=t.data,e===Wf&&em?null:e;default:return null}}function fb(e,t){if(ci)return e==="compositionend"||!mu&&tm(e,t)?(e=Ff(),Wl=cu=Ca=null,ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zf&&t.locale!=="ko"?null:t.data;default:return null}}var mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mb[e.type]:t==="textarea"}function nm(e,t,a,r){li?oi?oi.push(r):oi=[r]:li=r,t=Fo(t,"onChange"),0<t.length&&(a=new so("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var Rr=null,Dr=null;function gb(e){Hp(e,0)}function no(e){var t=Er(e);if(Bf(t))return e}function im(e,t){if(e==="change")return t}var rm=!1;if(ta){var gu;if(ta){var pu="oninput"in document;if(!pu){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),pu=typeof lm.oninput=="function"}gu=pu}else gu=!1;rm=gu&&(!document.documentMode||9<document.documentMode)}function om(){Rr&&(Rr.detachEvent("onpropertychange",cm),Dr=Rr=null)}function cm(e){if(e.propertyName==="value"&&no(Dr)){var t=[];nm(t,Dr,e,ru(e)),Qf(gb,t)}}function pb(e,t,a){e==="focusin"?(om(),Rr=t,Dr=a,Rr.attachEvent("onpropertychange",cm)):e==="focusout"&&om()}function vb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return no(Dr)}function yb(e,t){if(e==="click")return no(t)}function xb(e,t){if(e==="input"||e==="change")return no(t)}function bb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ns=typeof Object.is=="function"?Object.is:bb;function Ur(e,t){if(ns(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!xe.call(t,c)||!ns(e[c],t[c]))return!1}return!0}function um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dm(e,t){var a=um(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=um(a)}}function hm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Jl(e.document)}return t}function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var wb=ta&&"documentMode"in document&&11>=document.documentMode,ui=null,yu=null,Mr=null,xu=!1;function mm(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xu||ui==null||ui!==Jl(r)||(r=ui,"selectionStart"in r&&vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mr&&Ur(Mr,r)||(Mr=r,r=Fo(yu,"onSelect"),0<r.length&&(t=new so("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=ui)))}function vn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var di={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},bu={},gm={};ta&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function yn(e){if(bu[e])return bu[e];if(!di[e])return e;var t=di[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in gm)return bu[e]=t[a];return e}var pm=yn("animationend"),vm=yn("animationiteration"),ym=yn("animationstart"),_b=yn("transitionrun"),jb=yn("transitionstart"),Sb=yn("transitioncancel"),xm=yn("transitionend"),bm=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function ks(e,t){bm.set(e,t),gn(t,[e])}var io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vs=[],hi=0,_u=0;function ro(){for(var e=hi,t=_u=hi=0;t<e;){var a=vs[t];vs[t++]=null;var r=vs[t];vs[t++]=null;var c=vs[t];vs[t++]=null;var h=vs[t];if(vs[t++]=null,r!==null&&c!==null){var p=r.pending;p===null?c.next=c:(c.next=p.next,p.next=c),r.pending=c}h!==0&&wm(a,c,h)}}function lo(e,t,a,r){vs[hi++]=e,vs[hi++]=t,vs[hi++]=a,vs[hi++]=r,_u|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ju(e,t,a,r){return lo(e,t,a,r),oo(e)}function xn(e,t){return lo(e,null,null,t),oo(e)}function wm(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var c=!1,h=e.return;h!==null;)h.childLanes|=a,r=h.alternate,r!==null&&(r.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-as(a),e=h.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=a|536870912),h):null}function oo(e){if(50<al)throw al=0,Rd=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fi={};function Nb(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(e,t,a,r){return new Nb(e,t,a,r)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sa(e,t){var a=e.alternate;return a===null?(a=is(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function _m(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function co(e,t,a,r,c,h){var p=0;if(r=e,typeof e=="function")Su(e)&&(p=1);else if(typeof e=="string")p=Cw(e,a,Ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=is(31,a,t,c),e.elementType=he,e.lanes=h,e;case E:return bn(a.children,c,h,t);case j:p=8,c|=24;break;case z:return e=is(12,a,t,c|2),e.elementType=z,e.lanes=h,e;case Q:return e=is(13,a,t,c),e.elementType=Q,e.lanes=h,e;case X:return e=is(19,a,t,c),e.elementType=X,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:p=10;break e;case O:p=9;break e;case R:p=11;break e;case J:p=14;break e;case P:p=16,r=null;break e}p=29,a=Error(o(130,e===null?"null":typeof e,"")),r=null}return t=is(p,a,t,c),t.elementType=e,t.type=r,t.lanes=h,t}function bn(e,t,a,r){return e=is(7,e,r,t),e.lanes=a,e}function Nu(e,t,a){return e=is(6,e,null,t),e.lanes=a,e}function jm(e){var t=is(18,null,null,0);return t.stateNode=e,t}function Eu(e,t,a){return t=is(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sm=new WeakMap;function ys(e,t){if(typeof e=="object"&&e!==null){var a=Sm.get(e);return a!==void 0?a:(t={value:e,source:t,stack:q(t)},Sm.set(e,t),t)}return{value:e,source:t,stack:q(t)}}var mi=[],gi=0,uo=null,zr=0,xs=[],bs=0,Oa=null,$s=1,Is="";function aa(e,t){mi[gi++]=zr,mi[gi++]=uo,uo=e,zr=t}function Nm(e,t,a){xs[bs++]=$s,xs[bs++]=Is,xs[bs++]=Oa,Oa=e;var r=$s;e=Is;var c=32-as(r)-1;r&=~(1<<c),a+=1;var h=32-as(t)+c;if(30<h){var p=c-c%5;h=(r&(1<<p)-1).toString(32),r>>=p,c-=p,$s=1<<32-as(t)+c|a<<c|r,Is=h+e}else $s=1<<h|a<<c|r,Is=e}function Tu(e){e.return!==null&&(aa(e,1),Nm(e,1,0))}function Au(e){for(;e===uo;)uo=mi[--gi],mi[gi]=null,zr=mi[--gi],mi[gi]=null;for(;e===Oa;)Oa=xs[--bs],xs[bs]=null,Is=xs[--bs],xs[bs]=null,$s=xs[--bs],xs[bs]=null}function Em(e,t){xs[bs++]=$s,xs[bs++]=Is,xs[bs++]=Oa,$s=t.id,Is=t.overflow,Oa=e}var Nt=null,Ye=null,Ee=!1,Ra=null,ws=!1,ku=Error(o(519));function Da(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qr(ys(t,e)),ku}function Tm(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[St]=e,t[Gt]=r,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<il.length;a++)we(il[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Hf(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),If(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||Gp(t.textContent,a)?(r.popover!=null&&(we("beforetoggle",t),we("toggle",t)),r.onScroll!=null&&we("scroll",t),r.onScrollEnd!=null&&we("scrollend",t),r.onClick!=null&&(t.onclick=ea),t=!0):t=!1,t||Da(e,!0)}function Am(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:ws=!1;return;case 27:case 3:ws=!0;return;default:Nt=Nt.return}}function pi(e){if(e!==Nt)return!1;if(!Ee)return Am(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Fd(e.type,e.memoizedProps)),a=!a),a&&Ye&&Da(e),Am(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ye=Wp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ye=Wp(e)}else t===27?(t=Ye,Fa(e.type)?(e=Zd,Zd=null,Ye=e):Ye=t):Ye=Nt?js(e.stateNode.nextSibling):null;return!0}function wn(){Ye=Nt=null,Ee=!1}function Cu(){var e=Ra;return e!==null&&(Xt===null?Xt=e:Xt.push.apply(Xt,e),Ra=null),e}function qr(e){Ra===null?Ra=[e]:Ra.push(e)}var Ou=rt(null),_n=null,na=null;function Ua(e,t,a){oe(Ou,t._currentValue),t._currentValue=a}function ia(e){e._currentValue=Ou.current,ke(Ou)}function Ru(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function Du(e,t,a,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var p=c.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=c;for(var S=0;S<t.length;S++)if(x.context===t[S]){h.lanes|=a,x=h.alternate,x!==null&&(x.lanes|=a),Ru(h.return,a,e),r||(p=null);break e}h=x.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(o(341));p.lanes|=a,h=p.alternate,h!==null&&(h.lanes|=a),Ru(p,a,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function vi(e,t,a,r){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var x=c.type;ns(c.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(c===Xe.current){if(p=c.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}c=c.return}e!==null&&Du(t,e,a,r),t.flags|=262144}function ho(e){for(e=e.firstContext;e!==null;){if(!ns(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jn(e){_n=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return km(_n,e)}function fo(e,t){return _n===null&&jn(e),km(e,t)}function km(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},na===null){if(e===null)throw Error(o(308));na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else na=na.next=t;return a}var Eb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Tb=i.unstable_scheduleCallback,Ab=i.unstable_NormalPriority,ct={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new Eb,data:new Map,refCount:0}}function Lr(e){e.refCount--,e.refCount===0&&Tb(Ab,function(){e.controller.abort()})}var Br=null,Mu=0,yi=0,xi=null;function kb(e,t){if(Br===null){var a=Br=[];Mu=0,yi=Ld(),xi={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Mu++,t.then(Cm,Cm),t}function Cm(){if(--Mu===0&&Br!==null){xi!==null&&(xi.status="fulfilled");var e=Br;Br=null,yi=0,xi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cb(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var Om=B.S;B.S=function(e,t){mp=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&kb(e,t),Om!==null&&Om(e,t)};var Sn=rt(null);function zu(){var e=Sn.current;return e!==null?e:Ge.pooledCache}function mo(e,t){t===null?oe(Sn,Sn.current):oe(Sn,t.pool)}function Rm(){var e=zu();return e===null?null:{parent:ct._currentValue,pool:e}}var bi=Error(o(460)),qu=Error(o(474)),go=Error(o(542)),po={then:function(){}};function Dm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Um(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ea,ea),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zm(e),e;default:if(typeof t.status=="string")t.then(ea,ea);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zm(e),e}throw En=t,bi}}function Nn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(En=a,bi):a}}var En=null;function Mm(){if(En===null)throw Error(o(459));var e=En;return En=null,e}function zm(e){if(e===bi||e===go)throw Error(o(483))}var wi=null,Hr=0;function vo(e){var t=Hr;return Hr+=1,wi===null&&(wi=[]),Um(wi,e,t)}function $r(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yo(e,t){throw t.$$typeof===w?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qm(e){function t(C,A){if(e){var D=C.deletions;D===null?(C.deletions=[A],C.flags|=16):D.push(A)}}function a(C,A){if(!e)return null;for(;A!==null;)t(C,A),A=A.sibling;return null}function r(C){for(var A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function c(C,A){return C=sa(C,A),C.index=0,C.sibling=null,C}function h(C,A,D){return C.index=D,e?(D=C.alternate,D!==null?(D=D.index,D<A?(C.flags|=67108866,A):D):(C.flags|=67108866,A)):(C.flags|=1048576,A)}function p(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function x(C,A,D,$){return A===null||A.tag!==6?(A=Nu(D,C.mode,$),A.return=C,A):(A=c(A,D),A.return=C,A)}function S(C,A,D,$){var ie=D.type;return ie===E?H(C,A,D.props.children,$,D.key):A!==null&&(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===P&&Nn(ie)===A.type)?(A=c(A,D.props),$r(A,D),A.return=C,A):(A=co(D.type,D.key,D.props,null,C.mode,$),$r(A,D),A.return=C,A)}function U(C,A,D,$){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=Eu(D,C.mode,$),A.return=C,A):(A=c(A,D.children||[]),A.return=C,A)}function H(C,A,D,$,ie){return A===null||A.tag!==7?(A=bn(D,C.mode,$,ie),A.return=C,A):(A=c(A,D),A.return=C,A)}function I(C,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Nu(""+A,C.mode,D),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return D=co(A.type,A.key,A.props,null,C.mode,D),$r(D,A),D.return=C,D;case k:return A=Eu(A,C.mode,D),A.return=C,A;case P:return A=Nn(A),I(C,A,D)}if(st(A)||Ce(A))return A=bn(A,C.mode,D,null),A.return=C,A;if(typeof A.then=="function")return I(C,vo(A),D);if(A.$$typeof===T)return I(C,fo(C,A),D);yo(C,A)}return null}function M(C,A,D,$){var ie=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ie!==null?null:x(C,A,""+D,$);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===ie?S(C,A,D,$):null;case k:return D.key===ie?U(C,A,D,$):null;case P:return D=Nn(D),M(C,A,D,$)}if(st(D)||Ce(D))return ie!==null?null:H(C,A,D,$,null);if(typeof D.then=="function")return M(C,A,vo(D),$);if(D.$$typeof===T)return M(C,A,fo(C,D),$);yo(C,D)}return null}function L(C,A,D,$,ie){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return C=C.get(D)||null,x(A,C,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return C=C.get($.key===null?D:$.key)||null,S(A,C,$,ie);case k:return C=C.get($.key===null?D:$.key)||null,U(A,C,$,ie);case P:return $=Nn($),L(C,A,D,$,ie)}if(st($)||Ce($))return C=C.get(D)||null,H(A,C,$,ie,null);if(typeof $.then=="function")return L(C,A,D,vo($),ie);if($.$$typeof===T)return L(C,A,D,fo(A,$),ie);yo(A,$)}return null}function Z(C,A,D,$){for(var ie=null,De=null,se=A,ge=A=0,Se=null;se!==null&&ge<D.length;ge++){se.index>ge?(Se=se,se=null):Se=se.sibling;var Ue=M(C,se,D[ge],$);if(Ue===null){se===null&&(se=Se);break}e&&se&&Ue.alternate===null&&t(C,se),A=h(Ue,A,ge),De===null?ie=Ue:De.sibling=Ue,De=Ue,se=Se}if(ge===D.length)return a(C,se),Ee&&aa(C,ge),ie;if(se===null){for(;ge<D.length;ge++)se=I(C,D[ge],$),se!==null&&(A=h(se,A,ge),De===null?ie=se:De.sibling=se,De=se);return Ee&&aa(C,ge),ie}for(se=r(se);ge<D.length;ge++)Se=L(se,C,ge,D[ge],$),Se!==null&&(e&&Se.alternate!==null&&se.delete(Se.key===null?ge:Se.key),A=h(Se,A,ge),De===null?ie=Se:De.sibling=Se,De=Se);return e&&se.forEach(function(Za){return t(C,Za)}),Ee&&aa(C,ge),ie}function le(C,A,D,$){if(D==null)throw Error(o(151));for(var ie=null,De=null,se=A,ge=A=0,Se=null,Ue=D.next();se!==null&&!Ue.done;ge++,Ue=D.next()){se.index>ge?(Se=se,se=null):Se=se.sibling;var Za=M(C,se,Ue.value,$);if(Za===null){se===null&&(se=Se);break}e&&se&&Za.alternate===null&&t(C,se),A=h(Za,A,ge),De===null?ie=Za:De.sibling=Za,De=Za,se=Se}if(Ue.done)return a(C,se),Ee&&aa(C,ge),ie;if(se===null){for(;!Ue.done;ge++,Ue=D.next())Ue=I(C,Ue.value,$),Ue!==null&&(A=h(Ue,A,ge),De===null?ie=Ue:De.sibling=Ue,De=Ue);return Ee&&aa(C,ge),ie}for(se=r(se);!Ue.done;ge++,Ue=D.next())Ue=L(se,C,ge,Ue.value,$),Ue!==null&&(e&&Ue.alternate!==null&&se.delete(Ue.key===null?ge:Ue.key),A=h(Ue,A,ge),De===null?ie=Ue:De.sibling=Ue,De=Ue);return e&&se.forEach(function($w){return t(C,$w)}),Ee&&aa(C,ge),ie}function Ve(C,A,D,$){if(typeof D=="object"&&D!==null&&D.type===E&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var ie=D.key;A!==null;){if(A.key===ie){if(ie=D.type,ie===E){if(A.tag===7){a(C,A.sibling),$=c(A,D.props.children),$.return=C,C=$;break e}}else if(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===P&&Nn(ie)===A.type){a(C,A.sibling),$=c(A,D.props),$r($,D),$.return=C,C=$;break e}a(C,A);break}else t(C,A);A=A.sibling}D.type===E?($=bn(D.props.children,C.mode,$,D.key),$.return=C,C=$):($=co(D.type,D.key,D.props,null,C.mode,$),$r($,D),$.return=C,C=$)}return p(C);case k:e:{for(ie=D.key;A!==null;){if(A.key===ie)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){a(C,A.sibling),$=c(A,D.children||[]),$.return=C,C=$;break e}else{a(C,A);break}else t(C,A);A=A.sibling}$=Eu(D,C.mode,$),$.return=C,C=$}return p(C);case P:return D=Nn(D),Ve(C,A,D,$)}if(st(D))return Z(C,A,D,$);if(Ce(D)){if(ie=Ce(D),typeof ie!="function")throw Error(o(150));return D=ie.call(D),le(C,A,D,$)}if(typeof D.then=="function")return Ve(C,A,vo(D),$);if(D.$$typeof===T)return Ve(C,A,fo(C,D),$);yo(C,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(a(C,A.sibling),$=c(A,D),$.return=C,C=$):(a(C,A),$=Nu(D,C.mode,$),$.return=C,C=$),p(C)):a(C,A)}return function(C,A,D,$){try{Hr=0;var ie=Ve(C,A,D,$);return wi=null,ie}catch(se){if(se===bi||se===go)throw se;var De=is(29,se,null,C.mode);return De.lanes=$,De.return=C,De}finally{}}}var Tn=qm(!0),Lm=qm(!1),Ma=!1;function Lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Me&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=oo(e),wm(e,null,a),t}return lo(e,r,t,a),oo(e)}function Ir(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,kf(e,a)}}function Hu(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=p:h=h.next=p,a=a.next}while(a!==null);h===null?c=h=t:h=h.next=t}else c=h=t;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var $u=!1;function Vr(){if($u){var e=xi;if(e!==null)throw e}}function Gr(e,t,a,r){$u=!1;var c=e.updateQueue;Ma=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var S=x,U=S.next;S.next=null,p===null?h=U:p.next=U,p=S;var H=e.alternate;H!==null&&(H=H.updateQueue,x=H.lastBaseUpdate,x!==p&&(x===null?H.firstBaseUpdate=U:x.next=U,H.lastBaseUpdate=S))}if(h!==null){var I=c.baseState;p=0,H=U=S=null,x=h;do{var M=x.lane&-536870913,L=M!==x.lane;if(L?(je&M)===M:(r&M)===M){M!==0&&M===yi&&($u=!0),H!==null&&(H=H.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Z=e,le=x;M=t;var Ve=a;switch(le.tag){case 1:if(Z=le.payload,typeof Z=="function"){I=Z.call(Ve,I,M);break e}I=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=le.payload,M=typeof Z=="function"?Z.call(Ve,I,M):Z,M==null)break e;I=b({},I,M);break e;case 2:Ma=!0}}M=x.callback,M!==null&&(e.flags|=64,L&&(e.flags|=8192),L=c.callbacks,L===null?c.callbacks=[M]:L.push(M))}else L={lane:M,tag:x.tag,payload:x.payload,callback:x.callback,next:null},H===null?(U=H=L,S=I):H=H.next=L,p|=M;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;L=x,x=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);H===null&&(S=I),c.baseState=S,c.firstBaseUpdate=U,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),Ia|=p,e.lanes=p,e.memoizedState=I}}function Bm(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Hm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bm(a[e],t)}var _i=rt(null),xo=rt(0);function $m(e,t){e=ma,oe(xo,e),oe(_i,t),ma=e|t.baseLanes}function Iu(){oe(xo,ma),oe(_i,_i.current)}function Vu(){ma=xo.current,ke(_i),ke(xo)}var rs=rt(null),_s=null;function La(e){var t=e.alternate;oe(lt,lt.current&1),oe(rs,e),_s===null&&(t===null||_i.current!==null||t.memoizedState!==null)&&(_s=e)}function Gu(e){oe(lt,lt.current),oe(rs,e),_s===null&&(_s=e)}function Im(e){e.tag===22?(oe(lt,lt.current),oe(rs,e),_s===null&&(_s=e)):Ba()}function Ba(){oe(lt,lt.current),oe(rs,rs.current)}function ls(e){ke(rs),_s===e&&(_s=null),ke(lt)}var lt=rt(0);function bo(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||Jd(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,me=null,$e=null,ut=null,wo=!1,ji=!1,An=!1,_o=0,Pr=0,Si=null,Ob=0;function at(){throw Error(o(321))}function Pu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ns(e[a],t[a]))return!1;return!0}function Qu(e,t,a,r,c,h){return ra=h,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Ng:ld,An=!1,h=a(r,c),An=!1,ji&&(h=Gm(t,a,r,c)),Vm(e),h}function Vm(e){B.H=Kr;var t=$e!==null&&$e.next!==null;if(ra=0,ut=$e=me=null,wo=!1,Pr=0,Si=null,t)throw Error(o(300));e===null||dt||(e=e.dependencies,e!==null&&ho(e)&&(dt=!0))}function Gm(e,t,a,r){me=e;var c=0;do{if(ji&&(Si=null),Pr=0,ji=!1,25<=c)throw Error(o(301));if(c+=1,ut=$e=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=Eg,h=t(a,r)}while(ji);return h}function Rb(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Qr(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(me.flags|=1024),t}function Fu(){var e=_o!==0;return _o=0,e}function Ku(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Xu(e){if(wo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wo=!1}ra=0,ut=$e=me=null,ji=!1,Pr=_o=0,Si=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?me.memoizedState=ut=e:ut=ut.next=e,ut}function ot(){if($e===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=ut===null?me.memoizedState:ut.next;if(t!==null)ut=t,$e=e;else{if(e===null)throw me.alternate===null?Error(o(467)):Error(o(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ut===null?me.memoizedState=ut=e:ut=ut.next=e}return ut}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qr(e){var t=Pr;return Pr+=1,Si===null&&(Si=[]),e=Um(Si,e,t),t=me,(ut===null?t.memoizedState:ut.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Ng:ld),e}function So(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qr(e);if(e.$$typeof===T)return Et(e)}throw Error(o(438,String(e)))}function Yu(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=me.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=jo(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=de;return t.index++,a}function la(e,t){return typeof t=="function"?t(e):t}function No(e){var t=ot();return Ju(t,$e,e)}function Ju(e,t,a){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var c=e.baseQueue,h=r.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}t.baseQueue=c=h,r.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var x=p=null,S=null,U=t,H=!1;do{var I=U.lane&-536870913;if(I!==U.lane?(je&I)===I:(ra&I)===I){var M=U.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),I===yi&&(H=!0);else if((ra&M)===M){U=U.next,M===yi&&(H=!0);continue}else I={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(x=S=I,p=h):S=S.next=I,me.lanes|=M,Ia|=M;I=U.action,An&&a(h,I),h=U.hasEagerState?U.eagerState:a(h,I)}else M={lane:I,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(x=S=M,p=h):S=S.next=M,me.lanes|=I,Ia|=I;U=U.next}while(U!==null&&U!==t);if(S===null?p=h:S.next=x,!ns(h,e.memoizedState)&&(dt=!0,H&&(a=xi,a!==null)))throw a;e.memoizedState=h,e.baseState=p,e.baseQueue=S,r.lastRenderedState=h}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Zu(e){var t=ot(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var r=a.dispatch,c=a.pending,h=t.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do h=e(h,p.action),p=p.next;while(p!==c);ns(h,t.memoizedState)||(dt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),a.lastRenderedState=h}return[h,r]}function Pm(e,t,a){var r=me,c=ot(),h=Ee;if(h){if(a===void 0)throw Error(o(407));a=a()}else a=t();var p=!ns(($e||c).memoizedState,a);if(p&&(c.memoizedState=a,dt=!0),c=c.queue,td(Km.bind(null,r,c,e),[e]),c.getSnapshot!==t||p||ut!==null&&ut.memoizedState.tag&1){if(r.flags|=2048,Ni(9,{destroy:void 0},Fm.bind(null,r,c,a,t),null),Ge===null)throw Error(o(349));h||(ra&127)!==0||Qm(r,t,a)}return a}function Qm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=jo(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Fm(e,t,a,r){t.value=a,t.getSnapshot=r,Xm(t)&&Ym(e)}function Km(e,t,a){return a(function(){Xm(t)&&Ym(e)})}function Xm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ns(e,a)}catch{return!0}}function Ym(e){var t=xn(e,2);t!==null&&Yt(t,e,2)}function Wu(e){var t=zt();if(typeof e=="function"){var a=e;if(e=a(),An){Aa(!0);try{a()}finally{Aa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function Jm(e,t,a,r){return e.baseState=a,Ju(e,$e,typeof r=="function"?r:la)}function Db(e,t,a,r,c){if(Ao(e))throw Error(o(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};B.T!==null?a(!0):h.isTransition=!1,r(h),a=t.pending,a===null?(h.next=t.pending=h,Zm(t,h)):(h.next=a.next,t.pending=a.next=h)}}function Zm(e,t){var a=t.action,r=t.payload,c=e.state;if(t.isTransition){var h=B.T,p={};B.T=p;try{var x=a(c,r),S=B.S;S!==null&&S(p,x),Wm(e,t,x)}catch(U){ed(e,t,U)}finally{h!==null&&p.types!==null&&(h.types=p.types),B.T=h}}else try{h=a(c,r),Wm(e,t,h)}catch(U){ed(e,t,U)}}function Wm(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){eg(e,t,r)},function(r){return ed(e,t,r)}):eg(e,t,a)}function eg(e,t,a){t.status="fulfilled",t.value=a,tg(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Zm(e,a)))}function ed(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,tg(t),t=t.next;while(t!==r)}e.action=null}function tg(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sg(e,t){return t}function ag(e,t){if(Ee){var a=Ge.formState;if(a!==null){e:{var r=me;if(Ee){if(Ye){t:{for(var c=Ye,h=ws;c.nodeType!==8;){if(!h){c=null;break t}if(c=js(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Ye=js(c.nextSibling),r=c.data==="F!";break e}}Da(r)}r=!1}r&&(t=a[0])}}return a=zt(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:t},a.queue=r,a=_g.bind(null,me,r),r.dispatch=a,r=Wu(!1),h=rd.bind(null,me,!1,r.queue),r=zt(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,a=Db.bind(null,me,c,h,a),c.dispatch=a,r.memoizedState=e,[t,a,!1]}function ng(e){var t=ot();return ig(t,$e,e)}function ig(e,t,a){if(t=Ju(e,t,sg)[0],e=No(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Qr(t)}catch(p){throw p===bi?go:p}else r=t;t=ot();var c=t.queue,h=c.dispatch;return a!==t.memoizedState&&(me.flags|=2048,Ni(9,{destroy:void 0},Ub.bind(null,c,a),null)),[r,h,e]}function Ub(e,t){e.action=t}function rg(e){var t=ot(),a=$e;if(a!==null)return ig(t,a,e);ot(),t=t.memoizedState,a=ot();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function Ni(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=me.updateQueue,t===null&&(t=jo(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function lg(){return ot().memoizedState}function Eo(e,t,a,r){var c=zt();me.flags|=e,c.memoizedState=Ni(1|t,{destroy:void 0},a,r===void 0?null:r)}function To(e,t,a,r){var c=ot();r=r===void 0?null:r;var h=c.memoizedState.inst;$e!==null&&r!==null&&Pu(r,$e.memoizedState.deps)?c.memoizedState=Ni(t,h,a,r):(me.flags|=e,c.memoizedState=Ni(1|t,h,a,r))}function og(e,t){Eo(8390656,8,e,t)}function td(e,t){To(2048,8,e,t)}function Mb(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=jo(),me.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function cg(e){var t=ot().memoizedState;return Mb({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function ug(e,t){return To(4,2,e,t)}function dg(e,t){return To(4,4,e,t)}function hg(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fg(e,t,a){a=a!=null?a.concat([e]):null,To(4,4,hg.bind(null,t,e),a)}function sd(){}function mg(e,t){var a=ot();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&Pu(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function gg(e,t){var a=ot();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&Pu(t,r[1]))return r[0];if(r=e(),An){Aa(!0);try{e()}finally{Aa(!1)}}return a.memoizedState=[r,t],r}function ad(e,t,a){return a===void 0||(ra&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=pp(),me.lanes|=e,Ia|=e,a)}function pg(e,t,a,r){return ns(a,t)?a:_i.current!==null?(e=ad(e,a,r),ns(e,t)||(dt=!0),e):(ra&42)===0||(ra&1073741824)!==0&&(je&261930)===0?(dt=!0,e.memoizedState=a):(e=pp(),me.lanes|=e,Ia|=e,t)}function vg(e,t,a,r,c){var h=F.p;F.p=h!==0&&8>h?h:8;var p=B.T,x={};B.T=x,rd(e,!1,t,a);try{var S=c(),U=B.S;if(U!==null&&U(x,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=Cb(S,r);Fr(e,t,H,us(e))}else Fr(e,t,r,us(e))}catch(I){Fr(e,t,{then:function(){},status:"rejected",reason:I},us())}finally{F.p=h,p!==null&&x.types!==null&&(p.types=x.types),B.T=p}}function zb(){}function nd(e,t,a,r){if(e.tag!==5)throw Error(o(476));var c=yg(e).queue;vg(e,c,t,V,a===null?zb:function(){return xg(e),a(r)})}function yg(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:V},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xg(e){var t=yg(e);t.next===null&&(t=e.alternate.memoizedState),Fr(e,t.next.queue,{},us())}function id(){return Et(ul)}function bg(){return ot().memoizedState}function wg(){return ot().memoizedState}function qb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=us();e=za(a);var r=qa(t,e,a);r!==null&&(Yt(r,t,a),Ir(r,t,a)),t={cache:Uu()},e.payload=t;return}t=t.return}}function Lb(e,t,a){var r=us();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ao(e)?jg(t,a):(a=ju(e,t,a,r),a!==null&&(Yt(a,e,r),Sg(a,t,r)))}function _g(e,t,a){var r=us();Fr(e,t,a,r)}function Fr(e,t,a,r){var c={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ao(e))jg(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,x=h(p,a);if(c.hasEagerState=!0,c.eagerState=x,ns(x,p))return lo(e,t,c,0),Ge===null&&ro(),!1}catch{}finally{}if(a=ju(e,t,c,r),a!==null)return Yt(a,e,r),Sg(a,t,r),!0}return!1}function rd(e,t,a,r){if(r={lane:2,revertLane:Ld(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ao(e)){if(t)throw Error(o(479))}else t=ju(e,a,r,2),t!==null&&Yt(t,e,2)}function Ao(e){var t=e.alternate;return e===me||t!==null&&t===me}function jg(e,t){ji=wo=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sg(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,kf(e,a)}}var Kr={readContext:Et,use:So,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};Kr.useEffectEvent=at;var Ng={readContext:Et,use:So,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:og,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Eo(4194308,4,hg.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Eo(4194308,4,e,t)},useInsertionEffect:function(e,t){Eo(4,2,e,t)},useMemo:function(e,t){var a=zt();t=t===void 0?null:t;var r=e();if(An){Aa(!0);try{e()}finally{Aa(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=zt();if(a!==void 0){var c=a(t);if(An){Aa(!0);try{a(t)}finally{Aa(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Lb.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Wu(e);var t=e.queue,a=_g.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(e,t){var a=zt();return ad(a,e,t)},useTransition:function(){var e=Wu(!1);return e=vg.bind(null,me,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=me,c=zt();if(Ee){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Ge===null)throw Error(o(349));(je&127)!==0||Qm(r,t,a)}c.memoizedState=a;var h={value:a,getSnapshot:t};return c.queue=h,og(Km.bind(null,r,h,e),[e]),r.flags|=2048,Ni(9,{destroy:void 0},Fm.bind(null,r,h,a,t),null),a},useId:function(){var e=zt(),t=Ge.identifierPrefix;if(Ee){var a=Is,r=$s;a=(r&~(1<<32-as(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=_o++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ob++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:id,useFormState:ag,useActionState:ag,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=rd.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:Yu,useCacheRefresh:function(){return zt().memoizedState=qb.bind(null,me)},useEffectEvent:function(e){var t=zt(),a={impl:e};return t.memoizedState=a,function(){if((Me&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},ld={readContext:Et,use:So,useCallback:mg,useContext:Et,useEffect:td,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:dg,useMemo:gg,useReducer:No,useRef:lg,useState:function(){return No(la)},useDebugValue:sd,useDeferredValue:function(e,t){var a=ot();return pg(a,$e.memoizedState,e,t)},useTransition:function(){var e=No(la)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Qr(e),t]},useSyncExternalStore:Pm,useId:bg,useHostTransitionStatus:id,useFormState:ng,useActionState:ng,useOptimistic:function(e,t){var a=ot();return Jm(a,$e,e,t)},useMemoCache:Yu,useCacheRefresh:wg};ld.useEffectEvent=cg;var Eg={readContext:Et,use:So,useCallback:mg,useContext:Et,useEffect:td,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:dg,useMemo:gg,useReducer:Zu,useRef:lg,useState:function(){return Zu(la)},useDebugValue:sd,useDeferredValue:function(e,t){var a=ot();return $e===null?ad(a,e,t):pg(a,$e.memoizedState,e,t)},useTransition:function(){var e=Zu(la)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Qr(e),t]},useSyncExternalStore:Pm,useId:bg,useHostTransitionStatus:id,useFormState:rg,useActionState:rg,useOptimistic:function(e,t){var a=ot();return $e!==null?Jm(a,$e,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Yu,useCacheRefresh:wg};Eg.useEffectEvent=cg;function od(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cd={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=us(),c=za(r);c.payload=t,a!=null&&(c.callback=a),t=qa(e,c,r),t!==null&&(Yt(t,e,r),Ir(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=us(),c=za(r);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=qa(e,c,r),t!==null&&(Yt(t,e,r),Ir(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=us(),r=za(a);r.tag=2,t!=null&&(r.callback=t),t=qa(e,r,a),t!==null&&(Yt(t,e,a),Ir(t,e,a))}};function Tg(e,t,a,r,c,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,p):t.prototype&&t.prototype.isPureReactComponent?!Ur(a,r)||!Ur(c,h):!0}function Ag(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&cd.enqueueReplaceState(t,t.state,null)}function kn(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function kg(e){io(e)}function Cg(e){console.error(e)}function Og(e){io(e)}function ko(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Rg(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ud(e,t,a){return a=za(a),a.tag=3,a.payload={element:null},a.callback=function(){ko(e,t)},a}function Dg(e){return e=za(e),e.tag=3,e}function Ug(e,t,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;e.payload=function(){return c(h)},e.callback=function(){Rg(t,a,r)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Rg(t,a,r),typeof c!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function Bb(e,t,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&vi(t,a,c,!0),a=rs.current,a!==null){switch(a.tag){case 31:case 13:return _s===null?$o():a.alternate===null&&nt===0&&(nt=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===po?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),Md(e,r,c)),!1;case 22:return a.flags|=65536,r===po?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),Md(e,r,c)),!1}throw Error(o(435,a.tag))}return Md(e,r,c),$o(),!1}if(Ee)return t=rs.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==ku&&(e=Error(o(422),{cause:r}),qr(ys(e,a)))):(r!==ku&&(t=Error(o(423),{cause:r}),qr(ys(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=ys(r,a),c=ud(e.stateNode,r,c),Hu(e,c),nt!==4&&(nt=2)),!1;var h=Error(o(520),{cause:r});if(h=ys(h,a),sl===null?sl=[h]:sl.push(h),nt!==4&&(nt=2),t===null)return!0;r=ys(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=ud(a.stateNode,r,e),Hu(a,e),!1;case 1:if(t=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Va===null||!Va.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Dg(c),Ug(c,e,a,r),Hu(a,c),!1}a=a.return}while(a!==null);return!1}var dd=Error(o(461)),dt=!1;function Tt(e,t,a,r){t.child=e===null?Lm(t,null,a,r):Tn(t,e.child,a,r)}function Mg(e,t,a,r,c){a=a.render;var h=t.ref;if("ref"in r){var p={};for(var x in r)x!=="ref"&&(p[x]=r[x])}else p=r;return jn(t),r=Qu(e,t,a,p,h,c),x=Fu(),e!==null&&!dt?(Ku(e,t,c),oa(e,t,c)):(Ee&&x&&Tu(t),t.flags|=1,Tt(e,t,r,c),t.child)}function zg(e,t,a,r,c){if(e===null){var h=a.type;return typeof h=="function"&&!Su(h)&&h.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=h,qg(e,t,h,r,c)):(e=co(a.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!xd(e,c)){var p=h.memoizedProps;if(a=a.compare,a=a!==null?a:Ur,a(p,r)&&e.ref===t.ref)return oa(e,t,c)}return t.flags|=1,e=sa(h,r),e.ref=t.ref,e.return=t,t.child=e}function qg(e,t,a,r,c){if(e!==null){var h=e.memoizedProps;if(Ur(h,r)&&e.ref===t.ref)if(dt=!1,t.pendingProps=r=h,xd(e,c))(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,oa(e,t,c)}return hd(e,t,a,r,c)}function Lg(e,t,a,r){var c=r.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~h}else r=0,t.child=null;return Bg(e,t,h,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mo(t,h!==null?h.cachePool:null),h!==null?$m(t,h):Iu(),Im(t);else return r=t.lanes=536870912,Bg(e,t,h!==null?h.baseLanes|a:a,a,r)}else h!==null?(mo(t,h.cachePool),$m(t,h),Ba(),t.memoizedState=null):(e!==null&&mo(t,null),Iu(),Ba());return Tt(e,t,c,a),t.child}function Xr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bg(e,t,a,r,c){var h=zu();return h=h===null?null:{parent:ct._currentValue,pool:h},t.memoizedState={baseLanes:a,cachePool:h},e!==null&&mo(t,null),Iu(),Im(t),e!==null&&vi(e,t,r,!0),t.childLanes=c,null}function Co(e,t){return t=Ro({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Hg(e,t,a){return Tn(t,e.child,null,a),e=Co(t,t.pendingProps),e.flags|=2,ls(t),t.memoizedState=null,e}function Hb(e,t,a){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(r.mode==="hidden")return e=Co(t,r),t.lanes=536870912,Xr(null,e);if(Gu(t),(e=Ye)?(e=Zp(e,ws),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:$s,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},a=jm(e),a.return=t,t.child=a,Nt=t,Ye=null)):e=null,e===null)throw Da(t);return t.lanes=536870912,null}return Co(t,r)}var h=e.memoizedState;if(h!==null){var p=h.dehydrated;if(Gu(t),c)if(t.flags&256)t.flags&=-257,t=Hg(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(dt||vi(e,t,a,!1),c=(a&e.childLanes)!==0,dt||c){if(r=Ge,r!==null&&(p=Cf(r,a),p!==0&&p!==h.retryLane))throw h.retryLane=p,xn(e,p),Yt(r,e,p),dd;$o(),t=Hg(e,t,a)}else e=h.treeContext,Ye=js(p.nextSibling),Nt=t,Ee=!0,Ra=null,ws=!1,e!==null&&Em(t,e),t=Co(t,r),t.flags|=4096;return t}return e=sa(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Oo(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function hd(e,t,a,r,c){return jn(t),a=Qu(e,t,a,r,void 0,c),r=Fu(),e!==null&&!dt?(Ku(e,t,c),oa(e,t,c)):(Ee&&r&&Tu(t),t.flags|=1,Tt(e,t,a,c),t.child)}function $g(e,t,a,r,c,h){return jn(t),t.updateQueue=null,a=Gm(t,r,a,c),Vm(e),r=Fu(),e!==null&&!dt?(Ku(e,t,h),oa(e,t,h)):(Ee&&r&&Tu(t),t.flags|=1,Tt(e,t,a,h),t.child)}function Ig(e,t,a,r,c){if(jn(t),t.stateNode===null){var h=fi,p=a.contextType;typeof p=="object"&&p!==null&&(h=Et(p)),h=new a(r,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=cd,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=r,h.state=t.memoizedState,h.refs={},Lu(t),p=a.contextType,h.context=typeof p=="object"&&p!==null?Et(p):fi,h.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(od(t,a,p,r),h.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&cd.enqueueReplaceState(h,h.state,null),Gr(t,r,h,c),Vr(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){h=t.stateNode;var x=t.memoizedProps,S=kn(a,x);h.props=S;var U=h.context,H=a.contextType;p=fi,typeof H=="object"&&H!==null&&(p=Et(H));var I=a.getDerivedStateFromProps;H=typeof I=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||U!==p)&&Ag(t,h,r,p),Ma=!1;var M=t.memoizedState;h.state=M,Gr(t,r,h,c),Vr(),U=t.memoizedState,x||M!==U||Ma?(typeof I=="function"&&(od(t,a,I,r),U=t.memoizedState),(S=Ma||Tg(t,a,S,r,M,U,p))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=U),h.props=r,h.state=U,h.context=p,r=S):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,Bu(e,t),p=t.memoizedProps,H=kn(a,p),h.props=H,I=t.pendingProps,M=h.context,U=a.contextType,S=fi,typeof U=="object"&&U!==null&&(S=Et(U)),x=a.getDerivedStateFromProps,(U=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==I||M!==S)&&Ag(t,h,r,S),Ma=!1,M=t.memoizedState,h.state=M,Gr(t,r,h,c),Vr();var L=t.memoizedState;p!==I||M!==L||Ma||e!==null&&e.dependencies!==null&&ho(e.dependencies)?(typeof x=="function"&&(od(t,a,x,r),L=t.memoizedState),(H=Ma||Tg(t,a,H,r,M,L,S)||e!==null&&e.dependencies!==null&&ho(e.dependencies))?(U||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,L,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,L,S)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=L),h.props=r,h.state=L,h.context=S,r=H):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),r=!1)}return h=r,Oo(e,t),r=(t.flags&128)!==0,h||r?(h=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&r?(t.child=Tn(t,e.child,null,c),t.child=Tn(t,null,a,c)):Tt(e,t,a,c),t.memoizedState=h.state,e=t.child):e=oa(e,t,c),e}function Vg(e,t,a,r){return wn(),t.flags|=256,Tt(e,t,a,r),t.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(e){return{baseLanes:e,cachePool:Rm()}}function gd(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=cs),e}function Gg(e,t,a){var r=t.pendingProps,c=!1,h=(t.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(c?La(t):Ba(),(e=Ye)?(e=Zp(e,ws),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:$s,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},a=jm(e),a.return=t,t.child=a,Nt=t,Ye=null)):e=null,e===null)throw Da(t);return Jd(e)?t.lanes=32:t.lanes=536870912,null}var x=r.children;return r=r.fallback,c?(Ba(),c=t.mode,x=Ro({mode:"hidden",children:x},c),r=bn(r,c,a,null),x.return=t,r.return=t,x.sibling=r,t.child=x,r=t.child,r.memoizedState=md(a),r.childLanes=gd(e,p,a),t.memoizedState=fd,Xr(null,r)):(La(t),pd(t,x))}var S=e.memoizedState;if(S!==null&&(x=S.dehydrated,x!==null)){if(h)t.flags&256?(La(t),t.flags&=-257,t=vd(e,t,a)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),x=r.fallback,c=t.mode,r=Ro({mode:"visible",children:r.children},c),x=bn(x,c,a,null),x.flags|=2,r.return=t,x.return=t,r.sibling=x,t.child=r,Tn(t,e.child,null,a),r=t.child,r.memoizedState=md(a),r.childLanes=gd(e,p,a),t.memoizedState=fd,t=Xr(null,r));else if(La(t),Jd(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var U=p.dgst;p=U,r=Error(o(419)),r.stack="",r.digest=p,qr({value:r,source:null,stack:null}),t=vd(e,t,a)}else if(dt||vi(e,t,a,!1),p=(a&e.childLanes)!==0,dt||p){if(p=Ge,p!==null&&(r=Cf(p,a),r!==0&&r!==S.retryLane))throw S.retryLane=r,xn(e,r),Yt(p,e,r),dd;Yd(x)||$o(),t=vd(e,t,a)}else Yd(x)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Ye=js(x.nextSibling),Nt=t,Ee=!0,Ra=null,ws=!1,e!==null&&Em(t,e),t=pd(t,r.children),t.flags|=4096);return t}return c?(Ba(),x=r.fallback,c=t.mode,S=e.child,U=S.sibling,r=sa(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,U!==null?x=sa(U,x):(x=bn(x,c,a,null),x.flags|=2),x.return=t,r.return=t,r.sibling=x,t.child=r,Xr(null,r),r=t.child,x=e.child.memoizedState,x===null?x=md(a):(c=x.cachePool,c!==null?(S=ct._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=Rm(),x={baseLanes:x.baseLanes|a,cachePool:c}),r.memoizedState=x,r.childLanes=gd(e,p,a),t.memoizedState=fd,Xr(e.child,r)):(La(t),a=e.child,e=a.sibling,a=sa(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function pd(e,t){return t=Ro({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ro(e,t){return e=is(22,e,null,t),e.lanes=0,e}function vd(e,t,a){return Tn(t,e.child,null,a),e=pd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pg(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ru(e.return,t,a)}function yd(e,t,a,r,c,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c,treeForkCount:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=a,p.tailMode=c,p.treeForkCount=h)}function Qg(e,t,a){var r=t.pendingProps,c=r.revealOrder,h=r.tail;r=r.children;var p=lt.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,oe(lt,p),Tt(e,t,r,a),r=Ee?zr:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pg(e,a,t);else if(e.tag===19)Pg(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&bo(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),yd(t,!1,c,a,h,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&bo(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}yd(t,!0,a,null,h,r);break;case"together":yd(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(vi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=sa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=sa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function xd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ho(e)))}function $b(e,t,a){switch(t.tag){case 3:Js(t,t.stateNode.containerInfo),Ua(t,ct,e.memoizedState.cache),wn();break;case 27:case 5:As(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:Ua(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gu(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(La(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Gg(e,t,a):(La(t),e=oa(e,t,a),e!==null?e.sibling:null);La(t);break;case 19:var c=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(vi(e,t,a,!1),r=(a&t.childLanes)!==0),c){if(r)return Qg(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),oe(lt,lt.current),r)break;return null;case 22:return t.lanes=0,Lg(e,t,a,t.pendingProps);case 24:Ua(t,ct,e.memoizedState.cache)}return oa(e,t,a)}function Fg(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)dt=!0;else{if(!xd(e,a)&&(t.flags&128)===0)return dt=!1,$b(e,t,a);dt=(e.flags&131072)!==0}else dt=!1,Ee&&(t.flags&1048576)!==0&&Nm(t,zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Nn(t.elementType),t.type=e,typeof e=="function")Su(e)?(r=kn(e,r),t.tag=1,t=Ig(null,t,e,r,a)):(t.tag=0,t=hd(null,t,e,r,a));else{if(e!=null){var c=e.$$typeof;if(c===R){t.tag=11,t=Mg(null,t,e,r,a);break e}else if(c===J){t.tag=14,t=zg(null,t,e,r,a);break e}}throw t=ze(e)||e,Error(o(306,t,""))}}return t;case 0:return hd(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,c=kn(r,t.pendingProps),Ig(e,t,r,c,a);case 3:e:{if(Js(t,t.stateNode.containerInfo),e===null)throw Error(o(387));r=t.pendingProps;var h=t.memoizedState;c=h.element,Bu(e,t),Gr(t,r,null,a);var p=t.memoizedState;if(r=p.cache,Ua(t,ct,r),r!==h.cache&&Du(t,[ct],a,!0),Vr(),r=p.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Vg(e,t,r,a);break e}else if(r!==c){c=ys(Error(o(424)),t),qr(c),t=Vg(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=js(e.firstChild),Nt=t,Ee=!0,Ra=null,ws=!0,a=Lm(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wn(),r===c){t=oa(e,t,a);break e}Tt(e,t,r,a)}t=t.child}return t;case 26:return Oo(e,t),e===null?(a=n0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,r=Ko($t.current).createElement(a),r[St]=t,r[Gt]=e,At(r,a,e),bt(r),t.stateNode=r):t.memoizedState=n0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return As(t),e===null&&Ee&&(r=t.stateNode=t0(t.type,t.pendingProps,$t.current),Nt=t,ws=!0,c=Ye,Fa(t.type)?(Zd=c,Ye=js(r.firstChild)):Ye=c),Tt(e,t,t.pendingProps.children,a),Oo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((c=r=Ye)&&(r=vw(r,t.type,t.pendingProps,ws),r!==null?(t.stateNode=r,Nt=t,Ye=js(r.firstChild),ws=!1,c=!0):c=!1),c||Da(t)),As(t),c=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,r=h.children,Fd(c,h)?r=null:p!==null&&Fd(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Qu(e,t,Rb,null,null,a),ul._currentValue=c),Oo(e,t),Tt(e,t,r,a),t.child;case 6:return e===null&&Ee&&((e=a=Ye)&&(a=yw(a,t.pendingProps,ws),a!==null?(t.stateNode=a,Nt=t,Ye=null,e=!0):e=!1),e||Da(t)),null;case 13:return Gg(e,t,a);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tn(t,null,r,a):Tt(e,t,r,a),t.child;case 11:return Mg(e,t,t.type,t.pendingProps,a);case 7:return Tt(e,t,t.pendingProps,a),t.child;case 8:return Tt(e,t,t.pendingProps.children,a),t.child;case 12:return Tt(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,Ua(t,t.type,r.value),Tt(e,t,r.children,a),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,jn(t),c=Et(c),r=r(c),t.flags|=1,Tt(e,t,r,a),t.child;case 14:return zg(e,t,t.type,t.pendingProps,a);case 15:return qg(e,t,t.type,t.pendingProps,a);case 19:return Qg(e,t,a);case 31:return Hb(e,t,a);case 22:return Lg(e,t,a,t.pendingProps);case 24:return jn(t),r=Et(ct),e===null?(c=zu(),c===null&&(c=Ge,h=Uu(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),t.memoizedState={parent:r,cache:c},Lu(t),Ua(t,ct,c)):((e.lanes&a)!==0&&(Bu(e,t),Gr(t,null,null,a),Vr()),c=e.memoizedState,h=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ua(t,ct,r)):(r=h.cache,Ua(t,ct,r),r!==c.cache&&Du(t,[ct],a,!0))),Tt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ca(e){e.flags|=4}function bd(e,t,a,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(bp())e.flags|=8192;else throw En=po,qu}else e.flags&=-16777217}function Kg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c0(t))if(bp())e.flags|=8192;else throw En=po,qu}function Do(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Tf():536870912,e.lanes|=t,ki|=t)}function Yr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function Ib(e,t,a){var r=t.pendingProps;switch(Au(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ia(ct),It(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(pi(t)?ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),Je(t),null;case 26:var c=t.type,h=t.memoizedState;return e===null?(ca(t),h!==null?(Je(t),Kg(t,h)):(Je(t),bd(t,c,null,r,a))):h?h!==e.memoizedState?(ca(t),Je(t),Kg(t,h)):(Je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ca(t),Je(t),bd(t,c,e,r,a)),null;case 27:if(Bs(t),a=$t.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ca(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Je(t),null}e=Ne.current,pi(t)?Tm(t):(e=t0(c,r,a),t.stateNode=e,ca(t))}return Je(t),null;case 5:if(Bs(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ca(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Je(t),null}if(h=Ne.current,pi(t))Tm(t);else{var p=Ko($t.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?p.createElement("select",{is:r.is}):p.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?p.createElement(c,{is:r.is}):p.createElement(c)}}h[St]=t,h[Gt]=r;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=h;e:switch(At(h,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ca(t)}}return Je(t),bd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ca(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(e=$t.current,pi(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,c=Nt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[St]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Gp(e.nodeValue,a)),e||Da(t,!0)}else e=Ko(e).createTextNode(r),e[St]=t,t.stateNode=e}return Je(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=pi(t),a!==null){if(e===null){if(!r)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[St]=t}else wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),e=!1}else a=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(ls(t),t):(ls(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Je(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[St]=t}else wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),c=!1}else c=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ls(t),t):(ls(t),null)}return ls(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Do(t,t.updateQueue),Je(t),null);case 4:return It(),e===null&&Id(t.stateNode.containerInfo),Je(t),null;case 10:return ia(t.type),Je(t),null;case 19:if(ke(lt),r=t.memoizedState,r===null)return Je(t),null;if(c=(t.flags&128)!==0,h=r.rendering,h===null)if(c)Yr(r,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=bo(e),h!==null){for(t.flags|=128,Yr(r,!1),e=h.updateQueue,t.updateQueue=e,Do(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)_m(a,e),a=a.sibling;return oe(lt,lt.current&1|2),Ee&&aa(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Mt()>Lo&&(t.flags|=128,c=!0,Yr(r,!1),t.lanes=4194304)}else{if(!c)if(e=bo(h),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Do(t,e),Yr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!Ee)return Je(t),null}else 2*Mt()-r.renderingStartTime>Lo&&a!==536870912&&(t.flags|=128,c=!0,Yr(r,!1),t.lanes=4194304);r.isBackwards?(h.sibling=t.child,t.child=h):(e=r.last,e!==null?e.sibling=h:t.child=h,r.last=h)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Mt(),e.sibling=null,a=lt.current,oe(lt,c?a&1|2:a&1),Ee&&aa(t,r.treeForkCount),e):(Je(t),null);case 22:case 23:return ls(t),Vu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),a=t.updateQueue,a!==null&&Do(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&ke(Sn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ia(ct),Je(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Vb(e,t){switch(Au(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ia(ct),It(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Bs(t),null;case 31:if(t.memoizedState!==null){if(ls(t),t.alternate===null)throw Error(o(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ls(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(lt),null;case 4:return It(),null;case 10:return ia(t.type),null;case 22:case 23:return ls(t),Vu(),e!==null&&ke(Sn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ia(ct),null;case 25:return null;default:return null}}function Xg(e,t){switch(Au(t),t.tag){case 3:ia(ct),It();break;case 26:case 27:case 5:Bs(t);break;case 4:It();break;case 31:t.memoizedState!==null&&ls(t);break;case 13:ls(t);break;case 19:ke(lt);break;case 10:ia(t.type);break;case 22:case 23:ls(t),Vu(),e!==null&&ke(Sn);break;case 24:ia(ct)}}function Jr(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){r=void 0;var h=a.create,p=a.inst;r=h(),p.destroy=r}a=a.next}while(a!==c)}}catch(x){He(t,t.return,x)}}function Ha(e,t,a){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var h=c.next;r=h;do{if((r.tag&e)===e){var p=r.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,c=t;var S=a,U=x;try{U()}catch(H){He(c,S,H)}}}r=r.next}while(r!==h)}}catch(H){He(t,t.return,H)}}function Yg(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Hm(t,a)}catch(r){He(e,e.return,r)}}}function Jg(e,t,a){a.props=kn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){He(e,t,r)}}function Zr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(c){He(e,t,c)}}function Vs(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){He(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){He(e,t,c)}else a.current=null}function Zg(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){He(e,e.return,c)}}function wd(e,t,a){try{var r=e.stateNode;dw(r,e.type,a,t),r[Gt]=t}catch(c){He(e,e.return,c)}}function Wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fa(e.type)||e.tag===4}function _d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jd(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ea));else if(r!==4&&(r===27&&Fa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(jd(e,t,a),e=e.sibling;e!==null;)jd(e,t,a),e=e.sibling}function Uo(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&Fa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Uo(e,t,a),e=e.sibling;e!==null;)Uo(e,t,a),e=e.sibling}function ep(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);At(t,r,a),t[St]=e,t[Gt]=a}catch(h){He(e,e.return,h)}}var ua=!1,ht=!1,Sd=!1,tp=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Gb(e,t){if(e=e.containerInfo,Pd=tc,e=fm(e),vu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var p=0,x=-1,S=-1,U=0,H=0,I=e,M=null;t:for(;;){for(var L;I!==a||c!==0&&I.nodeType!==3||(x=p+c),I!==h||r!==0&&I.nodeType!==3||(S=p+r),I.nodeType===3&&(p+=I.nodeValue.length),(L=I.firstChild)!==null;)M=I,I=L;for(;;){if(I===e)break t;if(M===a&&++U===c&&(x=p),M===h&&++H===r&&(S=p),(L=I.nextSibling)!==null)break;I=M,M=I.parentNode}I=L}a=x===-1||S===-1?null:{start:x,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:e,selectionRange:a},tc=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=t,c=h.memoizedProps,h=h.memoizedState,r=a.stateNode;try{var Z=kn(a.type,c);e=r.getSnapshotBeforeUpdate(Z,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(le){He(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function sp(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:ha(e,a),r&4&&Jr(5,a);break;case 1:if(ha(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){He(a,a.return,p)}else{var c=kn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){He(a,a.return,p)}}r&64&&Yg(a),r&512&&Zr(a,a.return);break;case 3:if(ha(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Hm(e,t)}catch(p){He(a,a.return,p)}}break;case 27:t===null&&r&4&&ep(a);case 26:case 5:ha(e,a),t===null&&r&4&&Zg(a),r&512&&Zr(a,a.return);break;case 12:ha(e,a);break;case 31:ha(e,a),r&4&&ip(e,a);break;case 13:ha(e,a),r&4&&rp(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Wb.bind(null,a),xw(e,a))));break;case 22:if(r=a.memoizedState!==null||ua,!r){t=t!==null&&t.memoizedState!==null||ht,c=ua;var h=ht;ua=r,(ht=t)&&!h?fa(e,a,(a.subtreeFlags&8772)!==0):ha(e,a),ua=c,ht=h}break;case 30:break;default:ha(e,a)}}function ap(e){var t=e.alternate;t!==null&&(e.alternate=null,ap(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&eu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,Qt=!1;function da(e,t,a){for(a=a.child;a!==null;)np(e,t,a),a=a.sibling}function np(e,t,a){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(_r,a)}catch{}switch(a.tag){case 26:ht||Vs(a,t),da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||Vs(a,t);var r=Ze,c=Qt;Fa(a.type)&&(Ze=a.stateNode,Qt=!1),da(e,t,a),ll(a.stateNode),Ze=r,Qt=c;break;case 5:ht||Vs(a,t);case 6:if(r=Ze,c=Qt,Ze=null,da(e,t,a),Ze=r,Qt=c,Ze!==null)if(Qt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(h){He(a,t,h)}else try{Ze.removeChild(a.stateNode)}catch(h){He(a,t,h)}break;case 18:Ze!==null&&(Qt?(e=Ze,Yp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qi(e)):Yp(Ze,a.stateNode));break;case 4:r=Ze,c=Qt,Ze=a.stateNode.containerInfo,Qt=!0,da(e,t,a),Ze=r,Qt=c;break;case 0:case 11:case 14:case 15:Ha(2,a,t),ht||Ha(4,a,t),da(e,t,a);break;case 1:ht||(Vs(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Jg(a,t,r)),da(e,t,a);break;case 21:da(e,t,a);break;case 22:ht=(r=ht)||a.memoizedState!==null,da(e,t,a),ht=r;break;default:da(e,t,a)}}function ip(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qi(e)}catch(a){He(t,t.return,a)}}}function rp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qi(e)}catch(a){He(t,t.return,a)}}function Pb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new tp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new tp),t;default:throw Error(o(435,e.tag))}}function Mo(e,t){var a=Pb(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var c=ew.bind(null,e,r);r.then(c,c)}})}function Ft(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],h=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(Fa(x.type)){Ze=x.stateNode,Qt=!1;break e}break;case 5:Ze=x.stateNode,Qt=!1;break e;case 3:case 4:Ze=x.stateNode.containerInfo,Qt=!0;break e}x=x.return}if(Ze===null)throw Error(o(160));np(h,p,c),Ze=null,Qt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)lp(t,e),t=t.sibling}var Cs=null;function lp(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),Kt(e),r&4&&(Ha(3,e,e.return),Jr(3,e),Ha(5,e,e.return));break;case 1:Ft(t,e),Kt(e),r&512&&(ht||a===null||Vs(a,a.return)),r&64&&ua&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=Cs;if(Ft(t,e),Kt(e),r&512&&(ht||a===null||Vs(a,a.return)),r&4){var h=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Nr]||h[St]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(r),c.head.insertBefore(h,c.querySelector("head > title"))),At(h,r,a),h[St]=e,bt(h),r=h;break e;case"link":var p=l0("link","href",c).get(r+(a.href||""));if(p){for(var x=0;x<p.length;x++)if(h=p[x],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(x,1);break t}}h=c.createElement(r),At(h,r,a),c.head.appendChild(h);break;case"meta":if(p=l0("meta","content",c).get(r+(a.content||""))){for(x=0;x<p.length;x++)if(h=p[x],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(x,1);break t}}h=c.createElement(r),At(h,r,a),c.head.appendChild(h);break;default:throw Error(o(468,r))}h[St]=e,bt(h),r=h}e.stateNode=r}else o0(c,e.type,e.stateNode);else e.stateNode=r0(c,r,e.memoizedProps);else h!==r?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,r===null?o0(c,e.type,e.stateNode):r0(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&wd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ft(t,e),Kt(e),r&512&&(ht||a===null||Vs(a,a.return)),a!==null&&r&4&&wd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ft(t,e),Kt(e),r&512&&(ht||a===null||Vs(a,a.return)),e.flags&32){c=e.stateNode;try{ri(c,"")}catch(Z){He(e,e.return,Z)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,wd(e,c,a!==null?a.memoizedProps:c)),r&1024&&(Sd=!0);break;case 6:if(Ft(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(Z){He(e,e.return,Z)}}break;case 3:if(Jo=null,c=Cs,Cs=Xo(t.containerInfo),Ft(t,e),Cs=c,Kt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{qi(t.containerInfo)}catch(Z){He(e,e.return,Z)}Sd&&(Sd=!1,op(e));break;case 4:r=Cs,Cs=Xo(e.stateNode.containerInfo),Ft(t,e),Kt(e),Cs=r;break;case 12:Ft(t,e),Kt(e);break;case 31:Ft(t,e),Kt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mo(e,r)));break;case 13:Ft(t,e),Kt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qo=Mt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mo(e,r)));break;case 22:c=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,U=ua,H=ht;if(ua=U||c,ht=H||S,Ft(t,e),ht=H,ua=U,Kt(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||S||ua||ht||Cn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(h=S.stateNode,c)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=S.stateNode;var I=S.memoizedProps.style,M=I!=null&&I.hasOwnProperty("display")?I.display:null;x.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(Z){He(S,S.return,Z)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(Z){He(S,S.return,Z)}}}else if(t.tag===18){if(a===null){S=t;try{var L=S.stateNode;c?Jp(L,!0):Jp(S.stateNode,!1)}catch(Z){He(S,S.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Mo(e,a))));break;case 19:Ft(t,e),Kt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mo(e,r)));break;case 30:break;case 21:break;default:Ft(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(Wg(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,h=_d(e);Uo(e,h,c);break;case 5:var p=a.stateNode;a.flags&32&&(ri(p,""),a.flags&=-33);var x=_d(e);Uo(e,x,p);break;case 3:case 4:var S=a.stateNode.containerInfo,U=_d(e);jd(e,U,S);break;default:throw Error(o(161))}}catch(H){He(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function op(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;op(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sp(e,t.alternate,t),t=t.sibling}function Cn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ha(4,t,t.return),Cn(t);break;case 1:Vs(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Jg(t,t.return,a),Cn(t);break;case 27:ll(t.stateNode);case 26:case 5:Vs(t,t.return),Cn(t);break;case 22:t.memoizedState===null&&Cn(t);break;case 30:Cn(t);break;default:Cn(t)}e=e.sibling}}function fa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,h=t,p=h.flags;switch(h.tag){case 0:case 11:case 15:fa(c,h,a),Jr(4,h);break;case 1:if(fa(c,h,a),r=h,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){He(r,r.return,U)}if(r=h,c=r.updateQueue,c!==null){var x=r.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Bm(S[c],x)}catch(U){He(r,r.return,U)}}a&&p&64&&Yg(h),Zr(h,h.return);break;case 27:ep(h);case 26:case 5:fa(c,h,a),a&&r===null&&p&4&&Zg(h),Zr(h,h.return);break;case 12:fa(c,h,a);break;case 31:fa(c,h,a),a&&p&4&&ip(c,h);break;case 13:fa(c,h,a),a&&p&4&&rp(c,h);break;case 22:h.memoizedState===null&&fa(c,h,a),Zr(h,h.return);break;case 30:break;default:fa(c,h,a)}t=t.sibling}}function Nd(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lr(a))}function Ed(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lr(e))}function Os(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cp(e,t,a,r),t=t.sibling}function cp(e,t,a,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Os(e,t,a,r),c&2048&&Jr(9,t);break;case 1:Os(e,t,a,r);break;case 3:Os(e,t,a,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lr(e)));break;case 12:if(c&2048){Os(e,t,a,r),e=t.stateNode;try{var h=t.memoizedProps,p=h.id,x=h.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){He(t,t.return,S)}}else Os(e,t,a,r);break;case 31:Os(e,t,a,r);break;case 13:Os(e,t,a,r);break;case 23:break;case 22:h=t.stateNode,p=t.alternate,t.memoizedState!==null?h._visibility&2?Os(e,t,a,r):Wr(e,t):h._visibility&2?Os(e,t,a,r):(h._visibility|=2,Ei(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Nd(p,t);break;case 24:Os(e,t,a,r),c&2048&&Ed(t.alternate,t);break;default:Os(e,t,a,r)}}function Ei(e,t,a,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,p=t,x=a,S=r,U=p.flags;switch(p.tag){case 0:case 11:case 15:Ei(h,p,x,S,c),Jr(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Ei(h,p,x,S,c):Wr(h,p):(H._visibility|=2,Ei(h,p,x,S,c)),c&&U&2048&&Nd(p.alternate,p);break;case 24:Ei(h,p,x,S,c),c&&U&2048&&Ed(p.alternate,p);break;default:Ei(h,p,x,S,c)}t=t.sibling}}function Wr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,c=r.flags;switch(r.tag){case 22:Wr(a,r),c&2048&&Nd(r.alternate,r);break;case 24:Wr(a,r),c&2048&&Ed(r.alternate,r);break;default:Wr(a,r)}t=t.sibling}}var el=8192;function Ti(e,t,a){if(e.subtreeFlags&el)for(e=e.child;e!==null;)up(e,t,a),e=e.sibling}function up(e,t,a){switch(e.tag){case 26:Ti(e,t,a),e.flags&el&&e.memoizedState!==null&&Ow(a,Cs,e.memoizedState,e.memoizedProps);break;case 5:Ti(e,t,a);break;case 3:case 4:var r=Cs;Cs=Xo(e.stateNode.containerInfo),Ti(e,t,a),Cs=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=el,el=16777216,Ti(e,t,a),el=r):Ti(e,t,a));break;default:Ti(e,t,a)}}function dp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function tl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];wt=r,fp(r,e)}dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hp(e),e=e.sibling}function hp(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Ha(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zo(e)):tl(e);break;default:tl(e)}}function zo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];wt=r,fp(r,e)}dp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ha(8,t,t.return),zo(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,zo(t));break;default:zo(t)}e=e.sibling}}function fp(e,t){for(;wt!==null;){var a=wt;switch(a.tag){case 0:case 11:case 15:Ha(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Lr(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,wt=r;else e:for(a=e;wt!==null;){r=wt;var c=r.sibling,h=r.return;if(ap(r),r===a){wt=null;break e}if(c!==null){c.return=h,wt=c;break e}wt=h}}}var Qb={getCacheForType:function(e){var t=Et(ct),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Et(ct).controller.signal}},Fb=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ge=null,be=null,je=0,Be=0,os=null,$a=!1,Ai=!1,Td=!1,ma=0,nt=0,Ia=0,On=0,Ad=0,cs=0,ki=0,sl=null,Xt=null,kd=!1,qo=0,mp=0,Lo=1/0,Bo=null,Va=null,gt=0,Ga=null,Ci=null,ga=0,Cd=0,Od=null,gp=null,al=0,Rd=null;function us(){return(Me&2)!==0&&je!==0?je&-je:B.T!==null?Ld():Of()}function pp(){if(cs===0)if((je&536870912)===0||Ee){var e=Ql;Ql<<=1,(Ql&3932160)===0&&(Ql=262144),cs=e}else cs=536870912;return e=rs.current,e!==null&&(e.flags|=32),cs}function Yt(e,t,a){(e===Ge&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Oi(e,0),Pa(e,je,cs,!1)),Sr(e,a),((Me&2)===0||e!==Ge)&&(e===Ge&&((Me&2)===0&&(On|=a),nt===4&&Pa(e,je,cs,!1)),Gs(e))}function vp(e,t,a){if((Me&6)!==0)throw Error(o(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||jr(e,t),c=r?Yb(e,t):Ud(e,t,!0),h=r;do{if(c===0){Ai&&!r&&Pa(e,t,0,!1);break}else{if(a=e.current.alternate,h&&!Kb(a)){c=Ud(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;c=sl;var S=x.current.memoizedState.isDehydrated;if(S&&(Oi(x,p).flags|=256),p=Ud(x,p,!1),p!==2){if(Td&&!S){x.errorRecoveryDisabledLanes|=h,On|=h,c=4;break e}h=Xt,Xt=c,h!==null&&(Xt===null?Xt=h:Xt.push.apply(Xt,h))}c=p}if(h=!1,c!==2)continue}}if(c===1){Oi(e,0),Pa(e,t,0,!0);break}e:{switch(r=e,h=c,h){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Pa(r,t,cs,!$a);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=qo+300-Mt(),10<c)){if(Pa(r,t,cs,!$a),Kl(r,0,!0)!==0)break e;ga=t,r.timeoutHandle=Kp(yp.bind(null,r,a,Xt,Bo,kd,t,cs,On,ki,$a,h,"Throttled",-0,0),c);break e}yp(r,a,Xt,Bo,kd,t,cs,On,ki,$a,h,null,-0,0)}}break}while(!0);Gs(e)}function yp(e,t,a,r,c,h,p,x,S,U,H,I,M,L){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},up(t,h,I);var Z=(h&62914560)===h?qo-Mt():(h&4194048)===h?mp-Mt():0;if(Z=Rw(I,Z),Z!==null){ga=h,e.cancelPendingCommit=Z(Ep.bind(null,e,t,h,a,r,c,p,x,S,H,I,null,M,L)),Pa(e,h,p,!U);return}}Ep(e,t,h,a,r,c,p,x,S)}function Kb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],h=c.getSnapshot;c=c.value;try{if(!ns(h(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t,a,r){t&=~Ad,t&=~On,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var h=31-as(c),p=1<<h;r[h]=-1,c&=~p}a!==0&&Af(e,a,t)}function Ho(){return(Me&6)===0?(nl(0),!1):!0}function Dd(){if(be!==null){if(Be===0)var e=be.return;else e=be,na=_n=null,Xu(e),wi=null,Hr=0,e=be;for(;e!==null;)Xg(e.alternate,e),e=e.return;be=null}}function Oi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,mw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ga=0,Dd(),Ge=e,be=a=sa(e.current,null),je=t,Be=0,os=null,$a=!1,Ai=jr(e,t),Td=!1,ki=cs=Ad=On=Ia=nt=0,Xt=sl=null,kd=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-as(r),h=1<<c;t|=e[c],r&=~h}return ma=t,ro(),a}function xp(e,t){me=null,B.H=Kr,t===bi||t===go?(t=Mm(),Be=3):t===qu?(t=Mm(),Be=4):Be=t===dd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,os=t,be===null&&(nt=1,ko(e,ys(t,e.current)))}function bp(){var e=rs.current;return e===null?!0:(je&4194048)===je?_s===null:(je&62914560)===je||(je&536870912)!==0?e===_s:!1}function wp(){var e=B.H;return B.H=Kr,e===null?Kr:e}function _p(){var e=B.A;return B.A=Qb,e}function $o(){nt=4,$a||(je&4194048)!==je&&rs.current!==null||(Ai=!0),(Ia&134217727)===0&&(On&134217727)===0||Ge===null||Pa(Ge,je,cs,!1)}function Ud(e,t,a){var r=Me;Me|=2;var c=wp(),h=_p();(Ge!==e||je!==t)&&(Bo=null,Oi(e,t)),t=!1;var p=nt;e:do try{if(Be!==0&&be!==null){var x=be,S=os;switch(Be){case 8:Dd(),p=6;break e;case 3:case 2:case 9:case 6:rs.current===null&&(t=!0);var U=Be;if(Be=0,os=null,Ri(e,x,S,U),a&&Ai){p=0;break e}break;default:U=Be,Be=0,os=null,Ri(e,x,S,U)}}Xb(),p=nt;break}catch(H){xp(e,H)}while(!0);return t&&e.shellSuspendCounter++,na=_n=null,Me=r,B.H=c,B.A=h,be===null&&(Ge=null,je=0,ro()),p}function Xb(){for(;be!==null;)jp(be)}function Yb(e,t){var a=Me;Me|=2;var r=wp(),c=_p();Ge!==e||je!==t?(Bo=null,Lo=Mt()+500,Oi(e,t)):Ai=jr(e,t);e:do try{if(Be!==0&&be!==null){t=be;var h=os;t:switch(Be){case 1:Be=0,os=null,Ri(e,t,h,1);break;case 2:case 9:if(Dm(h)){Be=0,os=null,Sp(t);break}t=function(){Be!==2&&Be!==9||Ge!==e||(Be=7),Gs(e)},h.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Dm(h)?(Be=0,os=null,Sp(t)):(Be=0,os=null,Ri(e,t,h,7));break;case 5:var p=null;switch(be.tag){case 26:p=be.memoizedState;case 5:case 27:var x=be;if(p?c0(p):x.stateNode.complete){Be=0,os=null;var S=x.sibling;if(S!==null)be=S;else{var U=x.return;U!==null?(be=U,Io(U)):be=null}break t}}Be=0,os=null,Ri(e,t,h,5);break;case 6:Be=0,os=null,Ri(e,t,h,6);break;case 8:Dd(),nt=6;break e;default:throw Error(o(462))}}Jb();break}catch(H){xp(e,H)}while(!0);return na=_n=null,B.H=r,B.A=c,Me=a,be!==null?0:(Ge=null,je=0,ro(),nt)}function Jb(){for(;be!==null&&!wr();)jp(be)}function jp(e){var t=Fg(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?Io(e):be=t}function Sp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=$g(a,t,t.pendingProps,t.type,void 0,je);break;case 11:t=$g(a,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Xu(t);default:Xg(a,t),t=be=_m(t,ma),t=Fg(a,t,ma)}e.memoizedProps=e.pendingProps,t===null?Io(e):be=t}function Ri(e,t,a,r){na=_n=null,Xu(t),wi=null,Hr=0;var c=t.return;try{if(Bb(e,c,t,a,je)){nt=1,ko(e,ys(a,e.current)),be=null;return}}catch(h){if(c!==null)throw be=c,h;nt=1,ko(e,ys(a,e.current)),be=null;return}t.flags&32768?(Ee||r===1?e=!0:Ai||(je&536870912)!==0?e=!1:($a=e=!0,(r===2||r===9||r===3||r===6)&&(r=rs.current,r!==null&&r.tag===13&&(r.flags|=16384))),Np(t,e)):Io(t)}function Io(e){var t=e;do{if((t.flags&32768)!==0){Np(t,$a);return}e=t.return;var a=Ib(t.alternate,t,ma);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);nt===0&&(nt=5)}function Np(e,t){do{var a=Vb(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);nt=6,be=null}function Ep(e,t,a,r,c,h,p,x,S){e.cancelPendingCommit=null;do Vo();while(gt!==0);if((Me&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(h=t.lanes|t.childLanes,h|=_u,Cx(e,a,h,p,x,S),e===Ge&&(be=Ge=null,je=0),Ci=t,Ga=e,ga=a,Cd=h,Od=c,gp=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tw(Gl,function(){return Op(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=B.T,B.T=null,c=F.p,F.p=2,p=Me,Me|=4;try{Gb(e,t,a)}finally{Me=p,F.p=c,B.T=r}}gt=1,Tp(),Ap(),kp()}}function Tp(){if(gt===1){gt=0;var e=Ga,t=Ci,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var r=F.p;F.p=2;var c=Me;Me|=4;try{lp(t,e);var h=Qd,p=fm(e.containerInfo),x=h.focusedElem,S=h.selectionRange;if(p!==x&&x&&x.ownerDocument&&hm(x.ownerDocument.documentElement,x)){if(S!==null&&vu(x)){var U=S.start,H=S.end;if(H===void 0&&(H=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min(H,x.value.length);else{var I=x.ownerDocument||document,M=I&&I.defaultView||window;if(M.getSelection){var L=M.getSelection(),Z=x.textContent.length,le=Math.min(S.start,Z),Ve=S.end===void 0?le:Math.min(S.end,Z);!L.extend&&le>Ve&&(p=Ve,Ve=le,le=p);var C=dm(x,le),A=dm(x,Ve);if(C&&A&&(L.rangeCount!==1||L.anchorNode!==C.node||L.anchorOffset!==C.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var D=I.createRange();D.setStart(C.node,C.offset),L.removeAllRanges(),le>Ve?(L.addRange(D),L.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),L.addRange(D))}}}}for(I=[],L=x;L=L.parentNode;)L.nodeType===1&&I.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<I.length;x++){var $=I[x];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}tc=!!Pd,Qd=Pd=null}finally{Me=c,F.p=r,B.T=a}}e.current=t,gt=2}}function Ap(){if(gt===2){gt=0;var e=Ga,t=Ci,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var r=F.p;F.p=2;var c=Me;Me|=4;try{sp(e,t.alternate,t)}finally{Me=c,F.p=r,B.T=a}}gt=3}}function kp(){if(gt===4||gt===3){gt=0,jt();var e=Ga,t=Ci,a=ga,r=gp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?gt=5:(gt=0,Ci=Ga=null,Cp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Va=null),Zc(a),t=t.stateNode,ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(_r,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=B.T,c=F.p,F.p=2,B.T=null;try{for(var h=e.onRecoverableError,p=0;p<r.length;p++){var x=r[p];h(x.value,{componentStack:x.stack})}}finally{B.T=t,F.p=c}}(ga&3)!==0&&Vo(),Gs(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===Rd?al++:(al=0,Rd=e):al=0,nl(0)}}function Cp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Lr(t)))}function Vo(){return Tp(),Ap(),kp(),Op()}function Op(){if(gt!==5)return!1;var e=Ga,t=Cd;Cd=0;var a=Zc(ga),r=B.T,c=F.p;try{F.p=32>a?32:a,B.T=null,a=Od,Od=null;var h=Ga,p=ga;if(gt=0,Ci=Ga=null,ga=0,(Me&6)!==0)throw Error(o(331));var x=Me;if(Me|=4,hp(h.current),cp(h,h.current,p,a),Me=x,nl(0,!1),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(_r,h)}catch{}return!0}finally{F.p=c,B.T=r,Cp(e,t)}}function Rp(e,t,a){t=ys(a,t),t=ud(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(Sr(e,2),Gs(e))}function He(e,t,a){if(e.tag===3)Rp(e,e,a);else for(;t!==null;){if(t.tag===3){Rp(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Va===null||!Va.has(r))){e=ys(a,e),a=Dg(2),r=qa(t,a,2),r!==null&&(Ug(a,r,t,e),Sr(r,2),Gs(r));break}}t=t.return}}function Md(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new Fb;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(a)||(Td=!0,c.add(a),e=Zb.bind(null,e,t,a),t.then(e,e))}function Zb(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(je&a)===a&&(nt===4||nt===3&&(je&62914560)===je&&300>Mt()-qo?(Me&2)===0&&Oi(e,0):Ad|=a,ki===je&&(ki=0)),Gs(e)}function Dp(e,t){t===0&&(t=Tf()),e=xn(e,t),e!==null&&(Sr(e,t),Gs(e))}function Wb(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Dp(e,a)}function ew(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(t),Dp(e,a)}function tw(e,t){return Vt(e,t)}var Go=null,Di=null,zd=!1,Po=!1,qd=!1,Qa=0;function Gs(e){e!==Di&&e.next===null&&(Di===null?Go=Di=e:Di=Di.next=e),Po=!0,zd||(zd=!0,aw())}function nl(e,t){if(!qd&&Po){qd=!0;do for(var a=!1,r=Go;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var h=0;else{var p=r.suspendedLanes,x=r.pingedLanes;h=(1<<31-as(42|e)+1)-1,h&=c&~(p&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,qp(r,h))}else h=je,h=Kl(r,r===Ge?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||jr(r,h)||(a=!0,qp(r,h));r=r.next}while(a);qd=!1}}function sw(){Up()}function Up(){Po=zd=!1;var e=0;Qa!==0&&fw()&&(e=Qa);for(var t=Mt(),a=null,r=Go;r!==null;){var c=r.next,h=Mp(r,t);h===0?(r.next=null,a===null?Go=c:a.next=c,c===null&&(Di=a)):(a=r,(e!==0||(h&3)!==0)&&(Po=!0)),r=c}gt!==0&&gt!==5||nl(e),Qa!==0&&(Qa=0)}function Mp(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var p=31-as(h),x=1<<p,S=c[p];S===-1?((x&a)===0||(x&r)!==0)&&(c[p]=kx(x,t)):S<=t&&(e.expiredLanes|=x),h&=~x}if(t=Ge,a=je,a=Kl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ms(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&ms(r),Zc(a)){case 2:case 8:a=Nf;break;case 32:a=Gl;break;case 268435456:a=Ef;break;default:a=Gl}return r=zp.bind(null,e),a=Vt(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&ms(r),e.callbackPriority=2,e.callbackNode=null,2}function zp(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vo()&&e.callbackNode!==a)return null;var r=je;return r=Kl(e,e===Ge?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(vp(e,r,t),Mp(e,Mt()),e.callbackNode!=null&&e.callbackNode===a?zp.bind(null,e):null)}function qp(e,t){if(Vo())return null;vp(e,t,!0)}function aw(){gw(function(){(Me&6)!==0?Vt(Sf,sw):Up()})}function Ld(){if(Qa===0){var e=yi;e===0&&(e=Pl,Pl<<=1,(Pl&261888)===0&&(Pl=256)),Qa=e}return Qa}function Lp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zl(""+e)}function Bp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function nw(e,t,a,r,c){if(t==="submit"&&a&&a.stateNode===c){var h=Lp((c[Gt]||null).action),p=r.submitter;p&&(t=(t=p[Gt]||null)?Lp(t.formAction):p.getAttribute("formAction"),t!==null&&(h=t,p=null));var x=new so("action","action",null,r,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Qa!==0){var S=p?Bp(c,p):new FormData(c);nd(a,{pending:!0,data:S,method:c.method,action:h},null,S)}}else typeof h=="function"&&(x.preventDefault(),S=p?Bp(c,p):new FormData(c),nd(a,{pending:!0,data:S,method:c.method,action:h},h,S))},currentTarget:c}]})}}for(var Bd=0;Bd<wu.length;Bd++){var Hd=wu[Bd],iw=Hd.toLowerCase(),rw=Hd[0].toUpperCase()+Hd.slice(1);ks(iw,"on"+rw)}ks(pm,"onAnimationEnd"),ks(vm,"onAnimationIteration"),ks(ym,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(_b,"onTransitionRun"),ks(jb,"onTransitionStart"),ks(Sb,"onTransitionCancel"),ks(xm,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Hp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],c=r.event;r=r.listeners;e:{var h=void 0;if(t)for(var p=r.length-1;0<=p;p--){var x=r[p],S=x.instance,U=x.currentTarget;if(x=x.listener,S!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=U;try{h(c)}catch(H){io(H)}c.currentTarget=null,h=S}else for(p=0;p<r.length;p++){if(x=r[p],S=x.instance,U=x.currentTarget,x=x.listener,S!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=U;try{h(c)}catch(H){io(H)}c.currentTarget=null,h=S}}}}function we(e,t){var a=t[Wc];a===void 0&&(a=t[Wc]=new Set);var r=e+"__bubble";a.has(r)||($p(t,e,2,!1),a.add(r))}function $d(e,t,a){var r=0;t&&(r|=4),$p(a,e,r,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[Qo]){e[Qo]=!0,Uf.forEach(function(a){a!=="selectionchange"&&(lw.has(a)||$d(a,!1,e),$d(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,$d("selectionchange",!1,t))}}function $p(e,t,a,r){switch(p0(t)){case 2:var c=Mw;break;case 8:c=zw;break;default:c=ah}a=c.bind(null,t,a,e),c=void 0,!ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function Vd(e,t,a,r,c){var h=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var x=r.stateNode.containerInfo;if(x===c)break;if(p===4)for(p=r.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;x!==null;){if(p=ti(x),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){r=h=p;continue e}x=x.parentNode}}r=r.return}Qf(function(){var U=h,H=ru(a),I=[];e:{var M=bm.get(e);if(M!==void 0){var L=so,Z=e;switch(e){case"keypress":if(eo(a)===0)break e;case"keydown":case"keyup":L=eb;break;case"focusin":Z="focus",L=hu;break;case"focusout":Z="blur",L=hu;break;case"beforeblur":case"afterblur":L=hu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=ab;break;case pm:case vm:case ym:L=Px;break;case xm:L=ib;break;case"scroll":case"scrollend":L=Hx;break;case"wheel":L=lb;break;case"copy":case"cut":case"paste":L=Fx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Jf;break;case"toggle":case"beforetoggle":L=cb}var le=(t&4)!==0,Ve=!le&&(e==="scroll"||e==="scrollend"),C=le?M!==null?M+"Capture":null:M;le=[];for(var A=U,D;A!==null;){var $=A;if(D=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||D===null||C===null||($=Tr(A,C),$!=null&&le.push(rl(A,$,D))),Ve)break;A=A.return}0<le.length&&(M=new L(M,Z,null,a,H),I.push({event:M,listeners:le}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",M&&a!==iu&&(Z=a.relatedTarget||a.fromElement)&&(ti(Z)||Z[ei]))break e;if((L||M)&&(M=H.window===H?H:(M=H.ownerDocument)?M.defaultView||M.parentWindow:window,L?(Z=a.relatedTarget||a.toElement,L=U,Z=Z?ti(Z):null,Z!==null&&(Ve=d(Z),le=Z.tag,Z!==Ve||le!==5&&le!==27&&le!==6)&&(Z=null)):(L=null,Z=U),L!==Z)){if(le=Xf,$="onMouseLeave",C="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(le=Jf,$="onPointerLeave",C="onPointerEnter",A="pointer"),Ve=L==null?M:Er(L),D=Z==null?M:Er(Z),M=new le($,A+"leave",L,a,H),M.target=Ve,M.relatedTarget=D,$=null,ti(H)===U&&(le=new le(C,A+"enter",Z,a,H),le.target=D,le.relatedTarget=Ve,$=le),Ve=$,L&&Z)t:{for(le=ow,C=L,A=Z,D=0,$=C;$;$=le($))D++;$=0;for(var ie=A;ie;ie=le(ie))$++;for(;0<D-$;)C=le(C),D--;for(;0<$-D;)A=le(A),$--;for(;D--;){if(C===A||A!==null&&C===A.alternate){le=C;break t}C=le(C),A=le(A)}le=null}else le=null;L!==null&&Ip(I,M,L,le,!1),Z!==null&&Ve!==null&&Ip(I,Ve,Z,le,!0)}}e:{if(M=U?Er(U):window,L=M.nodeName&&M.nodeName.toLowerCase(),L==="select"||L==="input"&&M.type==="file")var De=im;else if(am(M))if(rm)De=xb;else{De=vb;var se=pb}else L=M.nodeName,!L||L.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?U&&nu(U.elementType)&&(De=im):De=yb;if(De&&(De=De(e,U))){nm(I,De,a,H);break e}se&&se(e,M,U),e==="focusout"&&U&&M.type==="number"&&U.memoizedProps.value!=null&&au(M,"number",M.value)}switch(se=U?Er(U):window,e){case"focusin":(am(se)||se.contentEditable==="true")&&(ui=se,yu=U,Mr=null);break;case"focusout":Mr=yu=ui=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,mm(I,a,H);break;case"selectionchange":if(wb)break;case"keydown":case"keyup":mm(I,a,H)}var ge;if(mu)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else ci?tm(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Zf&&a.locale!=="ko"&&(ci||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&ci&&(ge=Ff()):(Ca=H,cu="value"in Ca?Ca.value:Ca.textContent,ci=!0)),se=Fo(U,Se),0<se.length&&(Se=new Yf(Se,e,null,a,H),I.push({event:Se,listeners:se}),ge?Se.data=ge:(ge=sm(a),ge!==null&&(Se.data=ge)))),(ge=db?hb(e,a):fb(e,a))&&(Se=Fo(U,"onBeforeInput"),0<Se.length&&(se=new Yf("onBeforeInput","beforeinput",null,a,H),I.push({event:se,listeners:Se}),se.data=ge)),nw(I,e,U,a,H)}Hp(I,t)})}function rl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Fo(e,t){for(var a=t+"Capture",r=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Tr(e,a),c!=null&&r.unshift(rl(e,c,h)),c=Tr(e,t),c!=null&&r.push(rl(e,c,h))),e.tag===3)return r;e=e.return}return[]}function ow(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ip(e,t,a,r,c){for(var h=t._reactName,p=[];a!==null&&a!==r;){var x=a,S=x.alternate,U=x.stateNode;if(x=x.tag,S!==null&&S===r)break;x!==5&&x!==26&&x!==27||U===null||(S=U,c?(U=Tr(a,h),U!=null&&p.unshift(rl(a,U,S))):c||(U=Tr(a,h),U!=null&&p.push(rl(a,U,S)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var cw=/\r\n?/g,uw=/\u0000|\uFFFD/g;function Vp(e){return(typeof e=="string"?e:""+e).replace(cw,`
`).replace(uw,"")}function Gp(e,t){return t=Vp(t),Vp(e)===t}function Ie(e,t,a,r,c,h){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ri(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ri(e,""+r);break;case"className":Yl(e,"class",r);break;case"tabIndex":Yl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(e,a,r);break;case"style":Gf(e,r,h);break;case"data":if(t!=="object"){Yl(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Zl(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(t!=="input"&&Ie(e,t,"name",c.name,c,null),Ie(e,t,"formEncType",c.formEncType,c,null),Ie(e,t,"formMethod",c.formMethod,c,null),Ie(e,t,"formTarget",c.formTarget,c,null)):(Ie(e,t,"encType",c.encType,c,null),Ie(e,t,"method",c.method,c,null),Ie(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Zl(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=ea);break;case"onScroll":r!=null&&we("scroll",e);break;case"onScrollEnd":r!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Zl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":we("beforetoggle",e),we("toggle",e),Xl(e,"popover",r);break;case"xlinkActuate":Ws(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ws(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ws(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ws(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ws(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ws(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ws(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ws(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ws(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Xl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lx.get(a)||a,Xl(e,a,r))}}function Gd(e,t,a,r,c,h){switch(a){case"style":Gf(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof r=="string"?ri(e,r):(typeof r=="number"||typeof r=="bigint")&&ri(e,""+r);break;case"onScroll":r!=null&&we("scroll",e);break;case"onScrollEnd":r!=null&&we("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),h=e[Gt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof r=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,c);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Xl(e,a,r)}}}function At(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var r=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var p=a[h];if(p!=null)switch(h){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ie(e,t,h,p,a,null)}}c&&Ie(e,t,"srcSet",a.srcSet,a,null),r&&Ie(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var x=h=p=c=null,S=null,U=null;for(r in a)if(a.hasOwnProperty(r)){var H=a[r];if(H!=null)switch(r){case"name":c=H;break;case"type":p=H;break;case"checked":S=H;break;case"defaultChecked":U=H;break;case"value":h=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,t));break;default:Ie(e,t,r,H,a,null)}}Hf(e,h,x,S,U,p,c,!1);return;case"select":we("invalid",e),r=p=h=null;for(c in a)if(a.hasOwnProperty(c)&&(x=a[c],x!=null))switch(c){case"value":h=x;break;case"defaultValue":p=x;break;case"multiple":r=x;default:Ie(e,t,c,x,a,null)}t=h,a=p,e.multiple=!!r,t!=null?ii(e,!!r,t,!1):a!=null&&ii(e,!!r,a,!0);return;case"textarea":we("invalid",e),h=c=r=null;for(p in a)if(a.hasOwnProperty(p)&&(x=a[p],x!=null))switch(p){case"value":r=x;break;case"defaultValue":c=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:Ie(e,t,p,x,a,null)}If(e,r,c,h);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(r=a[S],r!=null))switch(S){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ie(e,t,S,r,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(r=0;r<il.length;r++)we(il[r],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(r=a[U],r!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ie(e,t,U,r,a,null)}return;default:if(nu(t)){for(H in a)a.hasOwnProperty(H)&&(r=a[H],r!==void 0&&Gd(e,t,H,r,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(r=a[x],r!=null&&Ie(e,t,x,r,a,null))}function dw(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,p=null,x=null,S=null,U=null,H=null;for(L in a){var I=a[L];if(a.hasOwnProperty(L)&&I!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":S=I;default:r.hasOwnProperty(L)||Ie(e,t,L,null,r,I)}}for(var M in r){var L=r[M];if(I=a[M],r.hasOwnProperty(M)&&(L!=null||I!=null))switch(M){case"type":h=L;break;case"name":c=L;break;case"checked":U=L;break;case"defaultChecked":H=L;break;case"value":p=L;break;case"defaultValue":x=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,t));break;default:L!==I&&Ie(e,t,M,L,r,I)}}su(e,p,x,S,U,H,h,c);return;case"select":L=p=x=M=null;for(h in a)if(S=a[h],a.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":L=S;default:r.hasOwnProperty(h)||Ie(e,t,h,null,r,S)}for(c in r)if(h=r[c],S=a[c],r.hasOwnProperty(c)&&(h!=null||S!=null))switch(c){case"value":M=h;break;case"defaultValue":x=h;break;case"multiple":p=h;default:h!==S&&Ie(e,t,c,h,r,S)}t=x,a=p,r=L,M!=null?ii(e,!!a,M,!1):!!r!=!!a&&(t!=null?ii(e,!!a,t,!0):ii(e,!!a,a?[]:"",!1));return;case"textarea":L=M=null;for(x in a)if(c=a[x],a.hasOwnProperty(x)&&c!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ie(e,t,x,null,r,c)}for(p in r)if(c=r[p],h=a[p],r.hasOwnProperty(p)&&(c!=null||h!=null))switch(p){case"value":M=c;break;case"defaultValue":L=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==h&&Ie(e,t,p,c,r,h)}$f(e,M,L);return;case"option":for(var Z in a)if(M=a[Z],a.hasOwnProperty(Z)&&M!=null&&!r.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:Ie(e,t,Z,null,r,M)}for(S in r)if(M=r[S],L=a[S],r.hasOwnProperty(S)&&M!==L&&(M!=null||L!=null))switch(S){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ie(e,t,S,M,r,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)M=a[le],a.hasOwnProperty(le)&&M!=null&&!r.hasOwnProperty(le)&&Ie(e,t,le,null,r,M);for(U in r)if(M=r[U],L=a[U],r.hasOwnProperty(U)&&M!==L&&(M!=null||L!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(137,t));break;default:Ie(e,t,U,M,r,L)}return;default:if(nu(t)){for(var Ve in a)M=a[Ve],a.hasOwnProperty(Ve)&&M!==void 0&&!r.hasOwnProperty(Ve)&&Gd(e,t,Ve,void 0,r,M);for(H in r)M=r[H],L=a[H],!r.hasOwnProperty(H)||M===L||M===void 0&&L===void 0||Gd(e,t,H,M,r,L);return}}for(var C in a)M=a[C],a.hasOwnProperty(C)&&M!=null&&!r.hasOwnProperty(C)&&Ie(e,t,C,null,r,M);for(I in r)M=r[I],L=a[I],!r.hasOwnProperty(I)||M===L||M==null&&L==null||Ie(e,t,I,M,r,L)}function Pp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var c=a[r],h=c.transferSize,p=c.initiatorType,x=c.duration;if(h&&x&&Pp(p)){for(p=0,x=c.responseEnd,r+=1;r<a.length;r++){var S=a[r],U=S.startTime;if(U>x)break;var H=S.transferSize,I=S.initiatorType;H&&Pp(I)&&(S=S.responseEnd,p+=H*(S<x?1:(x-U)/(S-U)))}if(--r,t+=8*(h+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pd=null,Qd=null;function Ko(e){return e.nodeType===9?e:e.ownerDocument}function Qp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kd=null;function fw(){var e=window.event;return e&&e.type==="popstate"?e===Kd?!1:(Kd=e,!0):(Kd=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(pw)}:Kp;function pw(e){setTimeout(function(){throw e})}function Fa(e){return e==="head"}function Yp(e,t){var a=t,r=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(c),qi(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")ll(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ll(a);for(var h=a.firstChild;h;){var p=h.nextSibling,x=h.nodeName;h[Nr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=p}}else a==="body"&&ll(e.ownerDocument.body);a=c}while(a);qi(t)}function Jp(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function Xd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),eu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vw(e,t,a,r){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Nr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=js(e.nextSibling),e===null)break}return null}function yw(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=js(e.nextSibling),e===null))return null;return e}function Zp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=js(e.nextSibling),e===null))return null;return e}function Yd(e){return e.data==="$?"||e.data==="$~"}function Jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xw(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function js(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zd=null;function Wp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return js(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function e0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function t0(e,t,a){switch(t=Ko(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ll(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);eu(e)}var Ss=new Map,s0=new Set;function Xo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=F.d;F.d={f:bw,r:ww,D:_w,C:jw,L:Sw,m:Nw,X:Tw,S:Ew,M:Aw};function bw(){var e=pa.f(),t=Ho();return e||t}function ww(e){var t=si(e);t!==null&&t.tag===5&&t.type==="form"?xg(t):pa.r(e)}var Ui=typeof document>"u"?null:document;function a0(e,t,a){var r=Ui;if(r&&typeof t=="string"&&t){var c=ps(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),s0.has(c)||(s0.add(c),e={rel:e,crossOrigin:a,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),At(t,"link",e),bt(t),r.head.appendChild(t)))}}function _w(e){pa.D(e),a0("dns-prefetch",e,null)}function jw(e,t){pa.C(e,t),a0("preconnect",e,t)}function Sw(e,t,a){pa.L(e,t,a);var r=Ui;if(r&&e&&t){var c='link[rel="preload"][as="'+ps(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ps(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ps(a.imageSizes)+'"]')):c+='[href="'+ps(e)+'"]';var h=c;switch(t){case"style":h=Mi(e);break;case"script":h=zi(e)}Ss.has(h)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ss.set(h,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(ol(h))||t==="script"&&r.querySelector(cl(h))||(t=r.createElement("link"),At(t,"link",e),bt(t),r.head.appendChild(t)))}}function Nw(e,t){pa.m(e,t);var a=Ui;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+ps(r)+'"][href="'+ps(e)+'"]',h=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=zi(e)}if(!Ss.has(h)&&(e=b({rel:"modulepreload",href:e},t),Ss.set(h,e),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(h)))return}r=a.createElement("link"),At(r,"link",e),bt(r),a.head.appendChild(r)}}}function Ew(e,t,a){pa.S(e,t,a);var r=Ui;if(r&&e){var c=ai(r).hoistableStyles,h=Mi(e);t=t||"default";var p=c.get(h);if(!p){var x={loading:0,preload:null};if(p=r.querySelector(ol(h)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ss.get(h))&&Wd(e,a);var S=p=r.createElement("link");bt(S),At(S,"link",e),S._p=new Promise(function(U,H){S.onload=U,S.onerror=H}),S.addEventListener("load",function(){x.loading|=1}),S.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Yo(p,t,r)}p={type:"stylesheet",instance:p,count:1,state:x},c.set(h,p)}}}function Tw(e,t){pa.X(e,t);var a=Ui;if(a&&e){var r=ai(a).hoistableScripts,c=zi(e),h=r.get(c);h||(h=a.querySelector(cl(c)),h||(e=b({src:e,async:!0},t),(t=Ss.get(c))&&eh(e,t),h=a.createElement("script"),bt(h),At(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function Aw(e,t){pa.M(e,t);var a=Ui;if(a&&e){var r=ai(a).hoistableScripts,c=zi(e),h=r.get(c);h||(h=a.querySelector(cl(c)),h||(e=b({src:e,async:!0,type:"module"},t),(t=Ss.get(c))&&eh(e,t),h=a.createElement("script"),bt(h),At(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function n0(e,t,a,r){var c=(c=$t.current)?Xo(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Mi(a.href),a=ai(c).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Mi(a.href);var h=ai(c).hoistableStyles,p=h.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,p),(h=c.querySelector(ol(e)))&&!h._p&&(p.instance=h,p.state.loading=5),Ss.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ss.set(e,a),h||kw(c,e,a,p.state))),t&&r===null)throw Error(o(528,""));return p}if(t&&r!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zi(a),a=ai(c).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Mi(e){return'href="'+ps(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function i0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function kw(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),At(t,"link",a),bt(t),e.head.appendChild(t))}function zi(e){return'[src="'+ps(e)+'"]'}function cl(e){return"script[async]"+e}function r0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ps(a.href)+'"]');if(r)return t.instance=r,bt(r),r;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),bt(r),At(r,"style",c),Yo(r,a.precedence,e),t.instance=r;case"stylesheet":c=Mi(a.href);var h=e.querySelector(ol(c));if(h)return t.state.loading|=4,t.instance=h,bt(h),h;r=i0(a),(c=Ss.get(c))&&Wd(r,c),h=(e.ownerDocument||e).createElement("link"),bt(h);var p=h;return p._p=new Promise(function(x,S){p.onload=x,p.onerror=S}),At(h,"link",r),t.state.loading|=4,Yo(h,a.precedence,e),t.instance=h;case"script":return h=zi(a.src),(c=e.querySelector(cl(h)))?(t.instance=c,bt(c),c):(r=a,(c=Ss.get(h))&&(r=b({},a),eh(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),bt(c),At(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Yo(r,a.precedence,e));return t.instance}function Yo(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,h=c,p=0;p<r.length;p++){var x=r[p];if(x.dataset.precedence===t)h=x;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Wd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function eh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Jo=null;function l0(e,t,a){if(Jo===null){var r=new Map,c=Jo=new Map;c.set(a,r)}else c=Jo,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var h=a[c];if(!(h[Nr]||h[St]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(t)||"";p=e+p;var x=r.get(p);x?x.push(h):r.set(p,[h])}}return r}function o0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Cw(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function c0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ow(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Mi(r.href),h=t.querySelector(ol(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zo.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=h,bt(h);return}h=t.ownerDocument||t,r=i0(r),(c=Ss.get(c))&&Wd(r,c),h=h.createElement("link"),bt(h);var p=h;p._p=new Promise(function(x,S){p.onload=x,p.onerror=S}),At(h,"link",r),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Zo.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var th=0;function Rw(e,t){return e.stylesheets&&e.count===0&&ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&th===0&&(th=62500*hw());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>th?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Zo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wo=null;function ec(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wo=new Map,t.forEach(Dw,e),Wo=null,Zo.call(e))}function Dw(e,t){if(!(t.state.loading&4)){var a=Wo.get(e);if(a)var r=a.get(null);else{a=new Map,Wo.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var p=c[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),r=p)}r&&a.set(null,r)}c=t.instance,p=c.getAttribute("data-precedence"),h=a.get(p)||r,h===r&&a.set(null,c),a.set(p,c),this.count++,r=Zo.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ul={$$typeof:T,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Uw(e,t,a,r,c,h,p,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.hiddenUpdates=Yc(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function u0(e,t,a,r,c,h,p,x,S,U,H,I){return e=new Uw(e,t,a,p,S,U,H,I,x),t=1,h===!0&&(t|=24),h=is(3,null,null,t),e.current=h,h.stateNode=e,t=Uu(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:r,isDehydrated:a,cache:t},Lu(h),e}function d0(e){return e?(e=fi,e):fi}function h0(e,t,a,r,c,h){c=d0(c),r.context===null?r.context=c:r.pendingContext=c,r=za(t),r.payload={element:a},h=h===void 0?null:h,h!==null&&(r.callback=h),a=qa(e,r,t),a!==null&&(Yt(a,e,t),Ir(a,e,t))}function f0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function sh(e,t){f0(e,t),(e=e.alternate)&&f0(e,t)}function m0(e){if(e.tag===13||e.tag===31){var t=xn(e,67108864);t!==null&&Yt(t,e,67108864),sh(e,67108864)}}function g0(e){if(e.tag===13||e.tag===31){var t=us();t=Jc(t);var a=xn(e,t);a!==null&&Yt(a,e,t),sh(e,t)}}var tc=!0;function Mw(e,t,a,r){var c=B.T;B.T=null;var h=F.p;try{F.p=2,ah(e,t,a,r)}finally{F.p=h,B.T=c}}function zw(e,t,a,r){var c=B.T;B.T=null;var h=F.p;try{F.p=8,ah(e,t,a,r)}finally{F.p=h,B.T=c}}function ah(e,t,a,r){if(tc){var c=nh(r);if(c===null)Vd(e,t,r,sc,a),v0(e,r);else if(Lw(c,e,t,a,r))r.stopPropagation();else if(v0(e,r),t&4&&-1<qw.indexOf(e)){for(;c!==null;){var h=si(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=mn(h.pendingLanes);if(p!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var S=1<<31-as(p);x.entanglements[1]|=S,p&=~S}Gs(h),(Me&6)===0&&(Lo=Mt()+500,nl(0))}}break;case 31:case 13:x=xn(h,2),x!==null&&Yt(x,h,2),Ho(),sh(h,2)}if(h=nh(r),h===null&&Vd(e,t,r,sc,a),h===c)break;c=h}c!==null&&r.stopPropagation()}else Vd(e,t,r,null,a)}}function nh(e){return e=ru(e),ih(e)}var sc=null;function ih(e){if(sc=null,e=ti(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sc=e,null}function p0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_x()){case Sf:return 2;case Nf:return 8;case Gl:case jx:return 32;case Ef:return 268435456;default:return 32}default:return 32}}var rh=!1,Ka=null,Xa=null,Ya=null,dl=new Map,hl=new Map,Ja=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(t.pointerId)}}function fl(e,t,a,r,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:h,targetContainers:[c]},t!==null&&(t=si(t),t!==null&&m0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Lw(e,t,a,r,c){switch(t){case"focusin":return Ka=fl(Ka,e,t,a,r,c),!0;case"dragenter":return Xa=fl(Xa,e,t,a,r,c),!0;case"mouseover":return Ya=fl(Ya,e,t,a,r,c),!0;case"pointerover":var h=c.pointerId;return dl.set(h,fl(dl.get(h)||null,e,t,a,r,c)),!0;case"gotpointercapture":return h=c.pointerId,hl.set(h,fl(hl.get(h)||null,e,t,a,r,c)),!0}return!1}function y0(e){var t=ti(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Rf(e.priority,function(){g0(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Rf(e.priority,function(){g0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ac(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=nh(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);iu=r,a.target.dispatchEvent(r),iu=null}else return t=si(a),t!==null&&m0(t),e.blockedOn=a,!1;t.shift()}return!0}function x0(e,t,a){ac(e)&&a.delete(t)}function Bw(){rh=!1,Ka!==null&&ac(Ka)&&(Ka=null),Xa!==null&&ac(Xa)&&(Xa=null),Ya!==null&&ac(Ya)&&(Ya=null),dl.forEach(x0),hl.forEach(x0)}function nc(e,t){e.blockedOn===t&&(e.blockedOn=null,rh||(rh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bw)))}var ic=null;function b0(e){ic!==e&&(ic=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ic===e&&(ic=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(ih(r||a)===null)continue;break}var h=si(a);h!==null&&(e.splice(t,3),t-=3,nd(h,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function qi(e){function t(S){return nc(S,e)}Ka!==null&&nc(Ka,e),Xa!==null&&nc(Xa,e),Ya!==null&&nc(Ya,e),dl.forEach(t),hl.forEach(t);for(var a=0;a<Ja.length;a++){var r=Ja[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ja.length&&(a=Ja[0],a.blockedOn===null);)y0(a),a.blockedOn===null&&Ja.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],h=a[r+1],p=c[Gt]||null;if(typeof h=="function")p||b0(a);else if(p){var x=null;if(h&&h.hasAttribute("formAction")){if(c=h,p=h[Gt]||null)x=p.formAction;else if(ih(c)!==null)continue}else x=p.action;typeof x=="function"?a[r+1]=x:(a.splice(r,3),r-=3),b0(a)}}}function w0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function lh(e){this._internalRoot=e}rc.prototype.render=lh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,r=us();h0(a,r,e,t,null,null)},rc.prototype.unmount=lh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;h0(e.current,2,null,e,null,null),Ho(),t[ei]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Of();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ja.length&&t!==0&&t<Ja[a].priority;a++);Ja.splice(a,0,e),a===0&&y0(e)}};var _0=s.version;if(_0!=="19.2.1")throw Error(o(527,_0,"19.2.1"));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=v(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Hw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{_r=lc.inject(Hw),ss=lc}catch{}}return ml.createRoot=function(e,t){if(!u(e))throw Error(o(299));var a=!1,r="",c=kg,h=Cg,p=Og;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=u0(e,1,!1,null,null,a,r,null,c,h,p,w0),e[ei]=t.current,Id(e),new lh(t)},ml.hydrateRoot=function(e,t,a){if(!u(e))throw Error(o(299));var r=!1,c="",h=kg,p=Cg,x=Og,S=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=u0(e,1,!0,t,a??null,r,c,S,h,p,x,w0),t.context=d0(null),a=t.current,r=us(),r=Jc(r),c=za(r),c.callback=null,qa(a,c,r),a=r,t.current.lanes=a,Sr(t,a),Gs(t),e[ei]=t.current,Id(e),new rc(t)},ml.version="19.2.1",ml}var T0;function __(){if(T0)return ch.exports;T0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),ch.exports=w_(),ch.exports}var j_=__();const S_=Qv(j_);var mr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},N_={setTimeout:(i,s)=>setTimeout(i,s),clearTimeout:i=>clearTimeout(i),setInterval:(i,s)=>setInterval(i,s),clearInterval:i=>clearInterval(i)},an,sf,kv,E_=(kv=class{constructor(){ne(this,an,N_);ne(this,sf,!1)}setTimeoutProvider(i){Y(this,an,i)}setTimeout(i,s){return N(this,an).setTimeout(i,s)}clearTimeout(i){N(this,an).clearTimeout(i)}setInterval(i,s){return N(this,an).setInterval(i,s)}clearInterval(i){N(this,an).clearInterval(i)}},an=new WeakMap,sf=new WeakMap,kv),$n=new E_;function T_(i){setTimeout(i,0)}var Zn=typeof window>"u"||"Deno"in globalThis;function Bt(){}function A_(i,s){return typeof i=="function"?i(s):i}function Sh(i){return typeof i=="number"&&i>=0&&i!==1/0}function Fv(i,s){return Math.max(i+(s||0)-Date.now(),0)}function fn(i,s){return typeof i=="function"?i(s):i}function Es(i,s){return typeof i=="function"?i(s):i}function A0(i,s){const{type:n="all",exact:o,fetchStatus:u,predicate:d,queryKey:f,stale:g}=i;if(f){if(o){if(s.queryHash!==af(f,s.options))return!1}else if(!Sl(s.queryKey,f))return!1}if(n!=="all"){const m=s.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof g=="boolean"&&s.isStale()!==g||u&&u!==s.state.fetchStatus||d&&!d(s))}function k0(i,s){const{exact:n,status:o,predicate:u,mutationKey:d}=i;if(d){if(!s.options.mutationKey)return!1;if(n){if(Wn(s.options.mutationKey)!==Wn(d))return!1}else if(!Sl(s.options.mutationKey,d))return!1}return!(o&&s.state.status!==o||u&&!u(s))}function af(i,s){return((s==null?void 0:s.queryKeyHashFn)||Wn)(i)}function Wn(i){return JSON.stringify(i,(s,n)=>Nh(n)?Object.keys(n).sort().reduce((o,u)=>(o[u]=n[u],o),{}):n)}function Sl(i,s){return i===s?!0:typeof i!=typeof s?!1:i&&s&&typeof i=="object"&&typeof s=="object"?Object.keys(s).every(n=>Sl(i[n],s[n])):!1}var k_=Object.prototype.hasOwnProperty;function Kv(i,s){if(i===s)return i;const n=C0(i)&&C0(s);if(!n&&!(Nh(i)&&Nh(s)))return s;const u=(n?i:Object.keys(i)).length,d=n?s:Object.keys(s),f=d.length,g=n?new Array(f):{};let m=0;for(let v=0;v<f;v++){const y=n?v:d[v],b=i[y],w=s[y];if(b===w){g[y]=b,(n?v<u:k_.call(i,y))&&m++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){g[y]=w;continue}const _=Kv(b,w);g[y]=_,_===b&&m++}return u===f&&m===u?i:g}function kc(i,s){if(!s||Object.keys(i).length!==Object.keys(s).length)return!1;for(const n in i)if(i[n]!==s[n])return!1;return!0}function C0(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function Nh(i){if(!O0(i))return!1;const s=i.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!O0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function O0(i){return Object.prototype.toString.call(i)==="[object Object]"}function C_(i){return new Promise(s=>{$n.setTimeout(s,i)})}function Eh(i,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(i,s):n.structuralSharing!==!1?Kv(i,s):s}function O_(i,s,n=0){const o=[...i,s];return n&&o.length>n?o.slice(1):o}function R_(i,s,n=0){const o=[s,...i];return n&&o.length>n?o.slice(0,-1):o}var nf=Symbol();function Xv(i,s){return!i.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!i.queryFn||i.queryFn===nf?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function Yv(i,s){return typeof i=="function"?i(...s):!!i}var Vn,nn,Zi,Cv,D_=(Cv=class extends mr{constructor(){super();ne(this,Vn);ne(this,nn);ne(this,Zi);Y(this,Zi,s=>{if(!Zn&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,nn)||this.setEventListener(N(this,Zi))}onUnsubscribe(){var s;this.hasListeners()||((s=N(this,nn))==null||s.call(this),Y(this,nn,void 0))}setEventListener(s){var n;Y(this,Zi,s),(n=N(this,nn))==null||n.call(this),Y(this,nn,s(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(s){N(this,Vn)!==s&&(Y(this,Vn,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){var s;return typeof N(this,Vn)=="boolean"?N(this,Vn):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Vn=new WeakMap,nn=new WeakMap,Zi=new WeakMap,Cv),rf=new D_;function Th(){let i,s;const n=new Promise((u,d)=>{i=u,s=d});n.status="pending",n.catch(()=>{});function o(u){Object.assign(n,u),delete n.resolve,delete n.reject}return n.resolve=u=>{o({status:"fulfilled",value:u}),i(u)},n.reject=u=>{o({status:"rejected",reason:u}),s(u)},n}var U_=T_;function M_(){let i=[],s=0,n=g=>{g()},o=g=>{g()},u=U_;const d=g=>{s?i.push(g):u(()=>{n(g)})},f=()=>{const g=i;i=[],g.length&&u(()=>{o(()=>{g.forEach(m=>{n(m)})})})};return{batch:g=>{let m;s++;try{m=g()}finally{s--,s||f()}return m},batchCalls:g=>(...m)=>{d(()=>{g(...m)})},schedule:d,setNotifyFunction:g=>{n=g},setBatchNotifyFunction:g=>{o=g},setScheduler:g=>{u=g}}}var xt=M_(),Wi,rn,er,Ov,z_=(Ov=class extends mr{constructor(){super();ne(this,Wi,!0);ne(this,rn);ne(this,er);Y(this,er,s=>{if(!Zn&&window.addEventListener){const n=()=>s(!0),o=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",o)}}})}onSubscribe(){N(this,rn)||this.setEventListener(N(this,er))}onUnsubscribe(){var s;this.hasListeners()||((s=N(this,rn))==null||s.call(this),Y(this,rn,void 0))}setEventListener(s){var n;Y(this,er,s),(n=N(this,rn))==null||n.call(this),Y(this,rn,s(this.setOnline.bind(this)))}setOnline(s){N(this,Wi)!==s&&(Y(this,Wi,s),this.listeners.forEach(o=>{o(s)}))}isOnline(){return N(this,Wi)}},Wi=new WeakMap,rn=new WeakMap,er=new WeakMap,Ov),Cc=new z_;function q_(i){return Math.min(1e3*2**i,3e4)}function Jv(i){return(i??"online")==="online"?Cc.isOnline():!0}var Ah=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function Zv(i){let s=!1,n=0,o;const u=Th(),d=()=>u.status!=="pending",f=E=>{var j;if(!d()){const z=new Ah(E);w(z),(j=i.onCancel)==null||j.call(i,z)}},g=()=>{s=!0},m=()=>{s=!1},v=()=>rf.isFocused()&&(i.networkMode==="always"||Cc.isOnline())&&i.canRun(),y=()=>Jv(i.networkMode)&&i.canRun(),b=E=>{d()||(o==null||o(),u.resolve(E))},w=E=>{d()||(o==null||o(),u.reject(E))},_=()=>new Promise(E=>{var j;o=z=>{(d()||v())&&E(z)},(j=i.onPause)==null||j.call(i)}).then(()=>{var E;o=void 0,d()||(E=i.onContinue)==null||E.call(i)}),k=()=>{if(d())return;let E;const j=n===0?i.initialPromise:void 0;try{E=j??i.fn()}catch(z){E=Promise.reject(z)}Promise.resolve(E).then(b).catch(z=>{var X;if(d())return;const O=i.retry??(Zn?0:3),T=i.retryDelay??q_,R=typeof T=="function"?T(n,z):T,Q=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,z);if(s||!Q){w(z);return}n++,(X=i.onFail)==null||X.call(i,n,z),C_(R).then(()=>v()?void 0:_()).then(()=>{s?w(z):k()})})};return{promise:u,status:()=>u.status,cancel:f,continue:()=>(o==null||o(),u),cancelRetry:g,continueRetry:m,canStart:y,start:()=>(y()?k():_().then(k),u)}}var Gn,Rv,Wv=(Rv=class{constructor(){ne(this,Gn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sh(this.gcTime)&&Y(this,Gn,$n.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(Zn?1/0:300*1e3))}clearGcTimeout(){N(this,Gn)&&($n.clearTimeout(N(this,Gn)),Y(this,Gn,void 0))}},Gn=new WeakMap,Rv),Pn,tr,Ns,Qn,_t,Al,Fn,Us,ba,Dv,L_=(Dv=class extends Wv{constructor(s){super();ne(this,Us);ne(this,Pn);ne(this,tr);ne(this,Ns);ne(this,Qn);ne(this,_t);ne(this,Al);ne(this,Fn);Y(this,Fn,!1),Y(this,Al,s.defaultOptions),this.setOptions(s.options),this.observers=[],Y(this,Qn,s.client),Y(this,Ns,N(this,Qn).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,Y(this,Pn,D0(this.options)),this.state=s.state??N(this,Pn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=N(this,_t))==null?void 0:s.promise}setOptions(s){if(this.options={...N(this,Al),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=D0(this.options);n.data!==void 0&&(this.setState(R0(n.data,n.dataUpdatedAt)),Y(this,Pn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Ns).remove(this)}setData(s,n){const o=Eh(this.state.data,s,this.options);return ve(this,Us,ba).call(this,{data:o,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),o}setState(s,n){ve(this,Us,ba).call(this,{type:"setState",state:s,setStateOptions:n})}cancel(s){var o,u;const n=(o=N(this,_t))==null?void 0:o.promise;return(u=N(this,_t))==null||u.cancel(s),n?n.then(Bt).catch(Bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Pn))}isActive(){return this.observers.some(s=>Es(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>fn(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Fv(this.state.dataUpdatedAt,s)}onFocus(){var n;const s=this.observers.find(o=>o.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(n=N(this,_t))==null||n.continue()}onOnline(){var n;const s=this.observers.find(o=>o.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(n=N(this,_t))==null||n.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),N(this,Ns).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(N(this,_t)&&(N(this,Fn)?N(this,_t).cancel({revert:!0}):N(this,_t).cancelRetry()),this.scheduleGc()),N(this,Ns).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ve(this,Us,ba).call(this,{type:"invalidate"})}async fetch(s,n){var m,v,y,b,w,_,k,E,j,z,O,T;if(this.state.fetchStatus!=="idle"&&((m=N(this,_t))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,_t))return N(this,_t).continueRetry(),N(this,_t).promise}if(s&&this.setOptions(s),!this.options.queryFn){const R=this.observers.find(Q=>Q.options.queryFn);R&&this.setOptions(R.options)}const o=new AbortController,u=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(Y(this,Fn,!0),o.signal)})},d=()=>{const R=Xv(this.options,n),X=(()=>{const J={client:N(this,Qn),queryKey:this.queryKey,meta:this.meta};return u(J),J})();return Y(this,Fn,!1),this.options.persister?this.options.persister(R,X,this):R(X)},g=(()=>{const R={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,Qn),state:this.state,fetchFn:d};return u(R),R})();(v=this.options.behavior)==null||v.onFetch(g,this),Y(this,tr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=g.fetchOptions)==null?void 0:y.meta))&&ve(this,Us,ba).call(this,{type:"fetch",meta:(b=g.fetchOptions)==null?void 0:b.meta}),Y(this,_t,Zv({initialPromise:n==null?void 0:n.initialPromise,fn:g.fetchFn,onCancel:R=>{R instanceof Ah&&R.revert&&this.setState({...N(this,tr),fetchStatus:"idle"}),o.abort()},onFail:(R,Q)=>{ve(this,Us,ba).call(this,{type:"failed",failureCount:R,error:Q})},onPause:()=>{ve(this,Us,ba).call(this,{type:"pause"})},onContinue:()=>{ve(this,Us,ba).call(this,{type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0}));try{const R=await N(this,_t).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(_=(w=N(this,Ns).config).onSuccess)==null||_.call(w,R,this),(E=(k=N(this,Ns).config).onSettled)==null||E.call(k,R,this.state.error,this),R}catch(R){if(R instanceof Ah){if(R.silent)return N(this,_t).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw ve(this,Us,ba).call(this,{type:"error",error:R}),(z=(j=N(this,Ns).config).onError)==null||z.call(j,R,this),(T=(O=N(this,Ns).config).onSettled)==null||T.call(O,this.state.data,R,this),R}finally{this.scheduleGc()}}},Pn=new WeakMap,tr=new WeakMap,Ns=new WeakMap,Qn=new WeakMap,_t=new WeakMap,Al=new WeakMap,Fn=new WeakMap,Us=new WeakSet,ba=function(s){const n=o=>{switch(s.type){case"failed":return{...o,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...ey(o.data,this.options),fetchMeta:s.meta??null};case"success":const u={...o,...R0(s.data,s.dataUpdatedAt),dataUpdateCount:o.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Y(this,tr,s.manual?u:void 0),u;case"error":const d=s.error;return{...o,error:d,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...s.state}}};this.state=n(this.state),xt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),N(this,Ns).notify({query:this,type:"updated",action:s})})},Dv);function ey(i,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jv(s.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function R0(i,s){return{data:i,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function D0(i){const s=typeof i.initialData=="function"?i.initialData():i.initialData,n=s!==void 0,o=n?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zt,Te,kl,qt,Kn,sr,wa,ln,Cl,ar,nr,Xn,Yn,on,ir,qe,yl,kh,Ch,Oh,Rh,Dh,Uh,Mh,ty,Uv,B_=(Uv=class extends mr{constructor(s,n){super();ne(this,qe);ne(this,Zt);ne(this,Te);ne(this,kl);ne(this,qt);ne(this,Kn);ne(this,sr);ne(this,wa);ne(this,ln);ne(this,Cl);ne(this,ar);ne(this,nr);ne(this,Xn);ne(this,Yn);ne(this,on);ne(this,ir,new Set);this.options=n,Y(this,Zt,s),Y(this,ln,null),Y(this,wa,Th()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Te).addObserver(this),U0(N(this,Te),this.options)?ve(this,qe,yl).call(this):this.updateResult(),ve(this,qe,Rh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zh(N(this,Te),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zh(N(this,Te),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ve(this,qe,Dh).call(this),ve(this,qe,Uh).call(this),N(this,Te).removeObserver(this)}setOptions(s){const n=this.options,o=N(this,Te);if(this.options=N(this,Zt).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Es(this.options.enabled,N(this,Te))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ve(this,qe,Mh).call(this),N(this,Te).setOptions(this.options),n._defaulted&&!kc(this.options,n)&&N(this,Zt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Te),observer:this});const u=this.hasListeners();u&&M0(N(this,Te),o,this.options,n)&&ve(this,qe,yl).call(this),this.updateResult(),u&&(N(this,Te)!==o||Es(this.options.enabled,N(this,Te))!==Es(n.enabled,N(this,Te))||fn(this.options.staleTime,N(this,Te))!==fn(n.staleTime,N(this,Te)))&&ve(this,qe,kh).call(this);const d=ve(this,qe,Ch).call(this);u&&(N(this,Te)!==o||Es(this.options.enabled,N(this,Te))!==Es(n.enabled,N(this,Te))||d!==N(this,on))&&ve(this,qe,Oh).call(this,d)}getOptimisticResult(s){const n=N(this,Zt).getQueryCache().build(N(this,Zt),s),o=this.createResult(n,s);return $_(this,o)&&(Y(this,qt,o),Y(this,sr,this.options),Y(this,Kn,N(this,Te).state)),o}getCurrentResult(){return N(this,qt)}trackResult(s,n){return new Proxy(s,{get:(o,u)=>(this.trackProp(u),n==null||n(u),u==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,wa).status==="pending"&&N(this,wa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(o,u))})}trackProp(s){N(this,ir).add(s)}getCurrentQuery(){return N(this,Te)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const n=N(this,Zt).defaultQueryOptions(s),o=N(this,Zt).getQueryCache().build(N(this,Zt),n);return o.fetch().then(()=>this.createResult(o,n))}fetch(s){return ve(this,qe,yl).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,qt)))}createResult(s,n){var he;const o=N(this,Te),u=this.options,d=N(this,qt),f=N(this,Kn),g=N(this,sr),v=s!==o?s.state:N(this,kl),{state:y}=s;let b={...y},w=!1,_;if(n._optimisticResults){const de=this.hasListeners(),Le=!de&&U0(s,n),Ce=de&&M0(s,o,n,u);(Le||Ce)&&(b={...b,...ey(y.data,s.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:k,errorUpdatedAt:E,status:j}=b;_=b.data;let z=!1;if(n.placeholderData!==void 0&&_===void 0&&j==="pending"){let de;d!=null&&d.isPlaceholderData&&n.placeholderData===(g==null?void 0:g.placeholderData)?(de=d.data,z=!0):de=typeof n.placeholderData=="function"?n.placeholderData((he=N(this,nr))==null?void 0:he.state.data,N(this,nr)):n.placeholderData,de!==void 0&&(j="success",_=Eh(d==null?void 0:d.data,de,n),w=!0)}if(n.select&&_!==void 0&&!z)if(d&&_===(f==null?void 0:f.data)&&n.select===N(this,Cl))_=N(this,ar);else try{Y(this,Cl,n.select),_=n.select(_),_=Eh(d==null?void 0:d.data,_,n),Y(this,ar,_),Y(this,ln,null)}catch(de){Y(this,ln,de)}N(this,ln)&&(k=N(this,ln),_=N(this,ar),E=Date.now(),j="error");const O=b.fetchStatus==="fetching",T=j==="pending",R=j==="error",Q=T&&O,X=_!==void 0,P={status:j,fetchStatus:b.fetchStatus,isPending:T,isSuccess:j==="success",isError:R,isInitialLoading:Q,isLoading:Q,data:_,dataUpdatedAt:b.dataUpdatedAt,error:k,errorUpdatedAt:E,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>v.dataUpdateCount||b.errorUpdateCount>v.errorUpdateCount,isFetching:O,isRefetching:O&&!T,isLoadingError:R&&!X,isPaused:b.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:R&&X,isStale:lf(s,n),refetch:this.refetch,promise:N(this,wa),isEnabled:Es(n.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const de=Rt=>{P.status==="error"?Rt.reject(P.error):P.data!==void 0&&Rt.resolve(P.data)},Le=()=>{const Rt=Y(this,wa,P.promise=Th());de(Rt)},Ce=N(this,wa);switch(Ce.status){case"pending":s.queryHash===o.queryHash&&de(Ce);break;case"fulfilled":(P.status==="error"||P.data!==Ce.value)&&Le();break;case"rejected":(P.status!=="error"||P.error!==Ce.reason)&&Le();break}}return P}updateResult(){const s=N(this,qt),n=this.createResult(N(this,Te),this.options);if(Y(this,Kn,N(this,Te).state),Y(this,sr,this.options),N(this,Kn).data!==void 0&&Y(this,nr,N(this,Te)),kc(n,s))return;Y(this,qt,n);const o=()=>{if(!s)return!0;const{notifyOnChangeProps:u}=this.options,d=typeof u=="function"?u():u;if(d==="all"||!d&&!N(this,ir).size)return!0;const f=new Set(d??N(this,ir));return this.options.throwOnError&&f.add("error"),Object.keys(N(this,qt)).some(g=>{const m=g;return N(this,qt)[m]!==s[m]&&f.has(m)})};ve(this,qe,ty).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ve(this,qe,Rh).call(this)}},Zt=new WeakMap,Te=new WeakMap,kl=new WeakMap,qt=new WeakMap,Kn=new WeakMap,sr=new WeakMap,wa=new WeakMap,ln=new WeakMap,Cl=new WeakMap,ar=new WeakMap,nr=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,on=new WeakMap,ir=new WeakMap,qe=new WeakSet,yl=function(s){ve(this,qe,Mh).call(this);let n=N(this,Te).fetch(this.options,s);return s!=null&&s.throwOnError||(n=n.catch(Bt)),n},kh=function(){ve(this,qe,Dh).call(this);const s=fn(this.options.staleTime,N(this,Te));if(Zn||N(this,qt).isStale||!Sh(s))return;const o=Fv(N(this,qt).dataUpdatedAt,s)+1;Y(this,Xn,$n.setTimeout(()=>{N(this,qt).isStale||this.updateResult()},o))},Ch=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Te)):this.options.refetchInterval)??!1},Oh=function(s){ve(this,qe,Uh).call(this),Y(this,on,s),!(Zn||Es(this.options.enabled,N(this,Te))===!1||!Sh(N(this,on))||N(this,on)===0)&&Y(this,Yn,$n.setInterval(()=>{(this.options.refetchIntervalInBackground||rf.isFocused())&&ve(this,qe,yl).call(this)},N(this,on)))},Rh=function(){ve(this,qe,kh).call(this),ve(this,qe,Oh).call(this,ve(this,qe,Ch).call(this))},Dh=function(){N(this,Xn)&&($n.clearTimeout(N(this,Xn)),Y(this,Xn,void 0))},Uh=function(){N(this,Yn)&&($n.clearInterval(N(this,Yn)),Y(this,Yn,void 0))},Mh=function(){const s=N(this,Zt).getQueryCache().build(N(this,Zt),this.options);if(s===N(this,Te))return;const n=N(this,Te);Y(this,Te,s),Y(this,kl,s.state),this.hasListeners()&&(n==null||n.removeObserver(this),s.addObserver(this))},ty=function(s){xt.batch(()=>{s.listeners&&this.listeners.forEach(n=>{n(N(this,qt))}),N(this,Zt).getQueryCache().notify({query:N(this,Te),type:"observerResultsUpdated"})})},Uv);function H_(i,s){return Es(s.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&s.retryOnMount===!1)}function U0(i,s){return H_(i,s)||i.state.data!==void 0&&zh(i,s,s.refetchOnMount)}function zh(i,s,n){if(Es(s.enabled,i)!==!1&&fn(s.staleTime,i)!=="static"){const o=typeof n=="function"?n(i):n;return o==="always"||o!==!1&&lf(i,s)}return!1}function M0(i,s,n,o){return(i!==s||Es(o.enabled,i)===!1)&&(!n.suspense||i.state.status!=="error")&&lf(i,n)}function lf(i,s){return Es(s.enabled,i)!==!1&&i.isStaleByTime(fn(s.staleTime,i))}function $_(i,s){return!kc(i.getCurrentResult(),s)}function z0(i){return{onFetch:(s,n)=>{var y,b,w,_,k;const o=s.options,u=(w=(b=(y=s.fetchOptions)==null?void 0:y.meta)==null?void 0:b.fetchMore)==null?void 0:w.direction,d=((_=s.state.data)==null?void 0:_.pages)||[],f=((k=s.state.data)==null?void 0:k.pageParams)||[];let g={pages:[],pageParams:[]},m=0;const v=async()=>{let E=!1;const j=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(s.signal.aborted?E=!0:s.signal.addEventListener("abort",()=>{E=!0}),s.signal)})},z=Xv(s.options,s.fetchOptions),O=async(T,R,Q)=>{if(E)return Promise.reject();if(R==null&&T.pages.length)return Promise.resolve(T);const J=(()=>{const Le={client:s.client,queryKey:s.queryKey,pageParam:R,direction:Q?"backward":"forward",meta:s.options.meta};return j(Le),Le})(),P=await z(J),{maxPages:he}=s.options,de=Q?R_:O_;return{pages:de(T.pages,P,he),pageParams:de(T.pageParams,R,he)}};if(u&&d.length){const T=u==="backward",R=T?I_:q0,Q={pages:d,pageParams:f},X=R(o,Q);g=await O(Q,X,T)}else{const T=i??d.length;do{const R=m===0?f[0]??o.initialPageParam:q0(o,g);if(m>0&&R==null)break;g=await O(g,R),m++}while(m<T)}return g};s.options.persister?s.fetchFn=()=>{var E,j;return(j=(E=s.options).persister)==null?void 0:j.call(E,v,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n)}:s.fetchFn=v}}}function q0(i,{pages:s,pageParams:n}){const o=s.length-1;return s.length>0?i.getNextPageParam(s[o],s,n[o],n):void 0}function I_(i,{pages:s,pageParams:n}){var o;return s.length>0?(o=i.getPreviousPageParam)==null?void 0:o.call(i,s[0],s,n[0],n):void 0}var Ol,Qs,Lt,Jn,Fs,en,Mv,V_=(Mv=class extends Wv{constructor(s){super();ne(this,Fs);ne(this,Ol);ne(this,Qs);ne(this,Lt);ne(this,Jn);Y(this,Ol,s.client),this.mutationId=s.mutationId,Y(this,Lt,s.mutationCache),Y(this,Qs,[]),this.state=s.state||sy(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){N(this,Qs).includes(s)||(N(this,Qs).push(s),this.clearGcTimeout(),N(this,Lt).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){Y(this,Qs,N(this,Qs).filter(n=>n!==s)),this.scheduleGc(),N(this,Lt).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){N(this,Qs).length||(this.state.status==="pending"?this.scheduleGc():N(this,Lt).remove(this))}continue(){var s;return((s=N(this,Jn))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var f,g,m,v,y,b,w,_,k,E,j,z,O,T,R,Q,X,J,P,he;const n=()=>{ve(this,Fs,en).call(this,{type:"continue"})},o={client:N(this,Ol),meta:this.options.meta,mutationKey:this.options.mutationKey};Y(this,Jn,Zv({fn:()=>this.options.mutationFn?this.options.mutationFn(s,o):Promise.reject(new Error("No mutationFn found")),onFail:(de,Le)=>{ve(this,Fs,en).call(this,{type:"failed",failureCount:de,error:Le})},onPause:()=>{ve(this,Fs,en).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Lt).canRun(this)}));const u=this.state.status==="pending",d=!N(this,Jn).canStart();try{if(u)n();else{ve(this,Fs,en).call(this,{type:"pending",variables:s,isPaused:d}),await((g=(f=N(this,Lt).config).onMutate)==null?void 0:g.call(f,s,this,o));const Le=await((v=(m=this.options).onMutate)==null?void 0:v.call(m,s,o));Le!==this.state.context&&ve(this,Fs,en).call(this,{type:"pending",context:Le,variables:s,isPaused:d})}const de=await N(this,Jn).start();return await((b=(y=N(this,Lt).config).onSuccess)==null?void 0:b.call(y,de,s,this.state.context,this,o)),await((_=(w=this.options).onSuccess)==null?void 0:_.call(w,de,s,this.state.context,o)),await((E=(k=N(this,Lt).config).onSettled)==null?void 0:E.call(k,de,null,this.state.variables,this.state.context,this,o)),await((z=(j=this.options).onSettled)==null?void 0:z.call(j,de,null,s,this.state.context,o)),ve(this,Fs,en).call(this,{type:"success",data:de}),de}catch(de){try{throw await((T=(O=N(this,Lt).config).onError)==null?void 0:T.call(O,de,s,this.state.context,this,o)),await((Q=(R=this.options).onError)==null?void 0:Q.call(R,de,s,this.state.context,o)),await((J=(X=N(this,Lt).config).onSettled)==null?void 0:J.call(X,void 0,de,this.state.variables,this.state.context,this,o)),await((he=(P=this.options).onSettled)==null?void 0:he.call(P,void 0,de,s,this.state.context,o)),de}finally{ve(this,Fs,en).call(this,{type:"error",error:de})}}finally{N(this,Lt).runNext(this)}}},Ol=new WeakMap,Qs=new WeakMap,Lt=new WeakMap,Jn=new WeakMap,Fs=new WeakSet,en=function(s){const n=o=>{switch(s.type){case"failed":return{...o,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...o,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:s.error,failureCount:o.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xt.batch(()=>{N(this,Qs).forEach(o=>{o.onMutationUpdate(s)}),N(this,Lt).notify({mutation:this,type:"updated",action:s})})},Mv);function sy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _a,Ms,Rl,zv,G_=(zv=class extends mr{constructor(s={}){super();ne(this,_a);ne(this,Ms);ne(this,Rl);this.config=s,Y(this,_a,new Set),Y(this,Ms,new Map),Y(this,Rl,0)}build(s,n,o){const u=new V_({client:s,mutationCache:this,mutationId:++oc(this,Rl)._,options:s.defaultMutationOptions(n),state:o});return this.add(u),u}add(s){N(this,_a).add(s);const n=cc(s);if(typeof n=="string"){const o=N(this,Ms).get(n);o?o.push(s):N(this,Ms).set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(N(this,_a).delete(s)){const n=cc(s);if(typeof n=="string"){const o=N(this,Ms).get(n);if(o)if(o.length>1){const u=o.indexOf(s);u!==-1&&o.splice(u,1)}else o[0]===s&&N(this,Ms).delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=cc(s);if(typeof n=="string"){const o=N(this,Ms).get(n),u=o==null?void 0:o.find(d=>d.state.status==="pending");return!u||u===s}else return!0}runNext(s){var o;const n=cc(s);if(typeof n=="string"){const u=(o=N(this,Ms).get(n))==null?void 0:o.find(d=>d!==s&&d.state.isPaused);return(u==null?void 0:u.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xt.batch(()=>{N(this,_a).forEach(s=>{this.notify({type:"removed",mutation:s})}),N(this,_a).clear(),N(this,Ms).clear()})}getAll(){return Array.from(N(this,_a))}find(s){const n={exact:!0,...s};return this.getAll().find(o=>k0(n,o))}findAll(s={}){return this.getAll().filter(n=>k0(s,n))}notify(s){xt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return xt.batch(()=>Promise.all(s.map(n=>n.continue().catch(Bt))))}},_a=new WeakMap,Ms=new WeakMap,Rl=new WeakMap,zv);function cc(i){var s;return(s=i.options.scope)==null?void 0:s.id}var ja,cn,Wt,Sa,Ea,_c,qh,qv,P_=(qv=class extends mr{constructor(n,o){super();ne(this,Ea);ne(this,ja);ne(this,cn);ne(this,Wt);ne(this,Sa);Y(this,ja,n),this.setOptions(o),this.bindMethods(),ve(this,Ea,_c).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var u;const o=this.options;this.options=N(this,ja).defaultMutationOptions(n),kc(this.options,o)||N(this,ja).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Wt),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&Wn(o.mutationKey)!==Wn(this.options.mutationKey)?this.reset():((u=N(this,Wt))==null?void 0:u.state.status)==="pending"&&N(this,Wt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=N(this,Wt))==null||n.removeObserver(this)}onMutationUpdate(n){ve(this,Ea,_c).call(this),ve(this,Ea,qh).call(this,n)}getCurrentResult(){return N(this,cn)}reset(){var n;(n=N(this,Wt))==null||n.removeObserver(this),Y(this,Wt,void 0),ve(this,Ea,_c).call(this),ve(this,Ea,qh).call(this)}mutate(n,o){var u;return Y(this,Sa,o),(u=N(this,Wt))==null||u.removeObserver(this),Y(this,Wt,N(this,ja).getMutationCache().build(N(this,ja),this.options)),N(this,Wt).addObserver(this),N(this,Wt).execute(n)}},ja=new WeakMap,cn=new WeakMap,Wt=new WeakMap,Sa=new WeakMap,Ea=new WeakSet,_c=function(){var o;const n=((o=N(this,Wt))==null?void 0:o.state)??sy();Y(this,cn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},qh=function(n){xt.batch(()=>{var o,u,d,f,g,m,v,y;if(N(this,Sa)&&this.hasListeners()){const b=N(this,cn).variables,w=N(this,cn).context,_={client:N(this,ja),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((u=(o=N(this,Sa)).onSuccess)==null||u.call(o,n.data,b,w,_),(f=(d=N(this,Sa)).onSettled)==null||f.call(d,n.data,null,b,w,_)):(n==null?void 0:n.type)==="error"&&((m=(g=N(this,Sa)).onError)==null||m.call(g,n.error,b,w,_),(y=(v=N(this,Sa)).onSettled)==null||y.call(v,void 0,n.error,b,w,_))}this.listeners.forEach(b=>{b(N(this,cn))})})},qv),Ks,Lv,Q_=(Lv=class extends mr{constructor(s={}){super();ne(this,Ks);this.config=s,Y(this,Ks,new Map)}build(s,n,o){const u=n.queryKey,d=n.queryHash??af(u,n);let f=this.get(d);return f||(f=new L_({client:s,queryKey:u,queryHash:d,options:s.defaultQueryOptions(n),state:o,defaultOptions:s.getQueryDefaults(u)}),this.add(f)),f}add(s){N(this,Ks).has(s.queryHash)||(N(this,Ks).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=N(this,Ks).get(s.queryHash);n&&(s.destroy(),n===s&&N(this,Ks).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){xt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return N(this,Ks).get(s)}getAll(){return[...N(this,Ks).values()]}find(s){const n={exact:!0,...s};return this.getAll().find(o=>A0(n,o))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(o=>A0(s,o)):n}notify(s){xt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Ks=new WeakMap,Lv),it,un,dn,rr,lr,hn,or,cr,Bv,F_=(Bv=class{constructor(i={}){ne(this,it);ne(this,un);ne(this,dn);ne(this,rr);ne(this,lr);ne(this,hn);ne(this,or);ne(this,cr);Y(this,it,i.queryCache||new Q_),Y(this,un,i.mutationCache||new G_),Y(this,dn,i.defaultOptions||{}),Y(this,rr,new Map),Y(this,lr,new Map),Y(this,hn,0)}mount(){oc(this,hn)._++,N(this,hn)===1&&(Y(this,or,rf.subscribe(async i=>{i&&(await this.resumePausedMutations(),N(this,it).onFocus())})),Y(this,cr,Cc.subscribe(async i=>{i&&(await this.resumePausedMutations(),N(this,it).onOnline())})))}unmount(){var i,s;oc(this,hn)._--,N(this,hn)===0&&((i=N(this,or))==null||i.call(this),Y(this,or,void 0),(s=N(this,cr))==null||s.call(this),Y(this,cr,void 0))}isFetching(i){return N(this,it).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return N(this,un).findAll({...i,status:"pending"}).length}getQueryData(i){var n;const s=this.defaultQueryOptions({queryKey:i});return(n=N(this,it).get(s.queryHash))==null?void 0:n.state.data}ensureQueryData(i){const s=this.defaultQueryOptions(i),n=N(this,it).build(this,s),o=n.state.data;return o===void 0?this.fetchQuery(i):(i.revalidateIfStale&&n.isStaleByTime(fn(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(o))}getQueriesData(i){return N(this,it).findAll(i).map(({queryKey:s,state:n})=>{const o=n.data;return[s,o]})}setQueryData(i,s,n){const o=this.defaultQueryOptions({queryKey:i}),u=N(this,it).get(o.queryHash),d=u==null?void 0:u.state.data,f=A_(s,d);if(f!==void 0)return N(this,it).build(this,o).setData(f,{...n,manual:!0})}setQueriesData(i,s,n){return xt.batch(()=>N(this,it).findAll(i).map(({queryKey:o})=>[o,this.setQueryData(o,s,n)]))}getQueryState(i){var n;const s=this.defaultQueryOptions({queryKey:i});return(n=N(this,it).get(s.queryHash))==null?void 0:n.state}removeQueries(i){const s=N(this,it);xt.batch(()=>{s.findAll(i).forEach(n=>{s.remove(n)})})}resetQueries(i,s){const n=N(this,it);return xt.batch(()=>(n.findAll(i).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...i},s)))}cancelQueries(i,s={}){const n={revert:!0,...s},o=xt.batch(()=>N(this,it).findAll(i).map(u=>u.cancel(n)));return Promise.all(o).then(Bt).catch(Bt)}invalidateQueries(i,s={}){return xt.batch(()=>(N(this,it).findAll(i).forEach(n=>{n.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},s)))}refetchQueries(i,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},o=xt.batch(()=>N(this,it).findAll(i).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let d=u.fetch(void 0,n);return n.throwOnError||(d=d.catch(Bt)),u.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(o).then(Bt)}fetchQuery(i){const s=this.defaultQueryOptions(i);s.retry===void 0&&(s.retry=!1);const n=N(this,it).build(this,s);return n.isStaleByTime(fn(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Bt).catch(Bt)}fetchInfiniteQuery(i){return i.behavior=z0(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Bt).catch(Bt)}ensureInfiniteQueryData(i){return i.behavior=z0(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Cc.isOnline()?N(this,un).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,it)}getMutationCache(){return N(this,un)}getDefaultOptions(){return N(this,dn)}setDefaultOptions(i){Y(this,dn,i)}setQueryDefaults(i,s){N(this,rr).set(Wn(i),{queryKey:i,defaultOptions:s})}getQueryDefaults(i){const s=[...N(this,rr).values()],n={};return s.forEach(o=>{Sl(i,o.queryKey)&&Object.assign(n,o.defaultOptions)}),n}setMutationDefaults(i,s){N(this,lr).set(Wn(i),{mutationKey:i,defaultOptions:s})}getMutationDefaults(i){const s=[...N(this,lr).values()],n={};return s.forEach(o=>{Sl(i,o.mutationKey)&&Object.assign(n,o.defaultOptions)}),n}defaultQueryOptions(i){if(i._defaulted)return i;const s={...N(this,dn).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return s.queryHash||(s.queryHash=af(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===nf&&(s.enabled=!1),s}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...N(this,dn).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){N(this,it).clear(),N(this,un).clear()}},it=new WeakMap,un=new WeakMap,dn=new WeakMap,rr=new WeakMap,lr=new WeakMap,hn=new WeakMap,or=new WeakMap,cr=new WeakMap,Bv),ay=G.createContext(void 0),Ul=i=>{const s=G.useContext(ay);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},K_=({client:i,children:s})=>(G.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),l.jsx(ay.Provider,{value:i,children:s})),ny=G.createContext(!1),X_=()=>G.useContext(ny);ny.Provider;function Y_(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var J_=G.createContext(Y_()),Z_=()=>G.useContext(J_),W_=(i,s)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(s.isReset()||(i.retryOnMount=!1))},e1=i=>{G.useEffect(()=>{i.clearReset()},[i])},t1=({result:i,errorResetBoundary:s,throwOnError:n,query:o,suspense:u})=>i.isError&&!s.isReset()&&!i.isFetching&&o&&(u&&i.data===void 0||Yv(n,[i.error,o])),s1=i=>{if(i.suspense){const n=u=>u==="static"?u:Math.max(u??1e3,1e3),o=i.staleTime;i.staleTime=typeof o=="function"?(...u)=>n(o(...u)):n(o),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},a1=(i,s)=>i.isLoading&&i.isFetching&&!s,n1=(i,s)=>(i==null?void 0:i.suspense)&&s.isPending,L0=(i,s,n)=>s.fetchOptimistic(i).catch(()=>{n.clearReset()});function i1(i,s,n){var b,w,_,k,E;const o=X_(),u=Z_(),d=Ul(),f=d.defaultQueryOptions(i);(w=(b=d.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||w.call(b,f),f._optimisticResults=o?"isRestoring":"optimistic",s1(f),W_(f,u),e1(u);const g=!d.getQueryCache().get(f.queryHash),[m]=G.useState(()=>new s(d,f)),v=m.getOptimisticResult(f),y=!o&&i.subscribed!==!1;if(G.useSyncExternalStore(G.useCallback(j=>{const z=y?m.subscribe(xt.batchCalls(j)):Bt;return m.updateResult(),z},[m,y]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),G.useEffect(()=>{m.setOptions(f)},[f,m]),n1(f,v))throw L0(f,m,u);if(t1({result:v,errorResetBoundary:u,throwOnError:f.throwOnError,query:d.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw v.error;if((k=(_=d.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||k.call(_,f,v),f.experimental_prefetchInRender&&!Zn&&a1(v,o)){const j=g?L0(f,m,u):(E=d.getQueryCache().get(f.queryHash))==null?void 0:E.promise;j==null||j.catch(Bt).finally(()=>{m.updateResult()})}return f.notifyOnChangeProps?v:m.trackResult(v)}function iy(i,s){return i1(i,B_)}function Ut(i,s){const n=Ul(),[o]=G.useState(()=>new P_(n,i));G.useEffect(()=>{o.setOptions(i)},[o,i]);const u=G.useSyncExternalStore(G.useCallback(f=>o.subscribe(xt.batchCalls(f)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),d=G.useCallback((f,g)=>{o.mutate(f,g).catch(Bt)},[o]);if(u.error&&Yv(o.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:d,mutateAsync:u.mutate}}const r1=1,l1=1e6;let hh=0;function o1(){return hh=(hh+1)%Number.MAX_SAFE_INTEGER,hh.toString()}const fh=new Map,B0=i=>{if(fh.has(i))return;const s=setTimeout(()=>{fh.delete(i),jl({type:"REMOVE_TOAST",toastId:i})},l1);fh.set(i,s)},c1=(i,s)=>{switch(s.type){case"ADD_TOAST":return{...i,toasts:[s.toast,...i.toasts].slice(0,r1)};case"UPDATE_TOAST":return{...i,toasts:i.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?B0(n):i.toasts.forEach(o=>{B0(o.id)}),{...i,toasts:i.toasts.map(o=>o.id===n||n===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return s.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(n=>n.id!==s.toastId)}}},jc=[];let Sc={toasts:[]};function jl(i){Sc=c1(Sc,i),jc.forEach(s=>{s(Sc)})}function u1({...i}){const s=o1(),n=u=>jl({type:"UPDATE_TOAST",toast:{...u,id:s}}),o=()=>jl({type:"DISMISS_TOAST",toastId:s});return jl({type:"ADD_TOAST",toast:{...i,id:s,open:!0,onOpenChange:u=>{u||o()}}}),{id:s,dismiss:o,update:n}}function Ls(){const[i,s]=G.useState(Sc);return G.useEffect(()=>(jc.push(s),()=>{const n=jc.indexOf(s);n>-1&&jc.splice(n,1)}),[i]),{...i,toast:u1,dismiss:n=>jl({type:"DISMISS_TOAST",toastId:n})}}function ry(i){var s,n,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var u=i.length;for(s=0;s<u;s++)i[s]&&(n=ry(i[s]))&&(o&&(o+=" "),o+=n)}else for(n in i)i[n]&&(o&&(o+=" "),o+=n);return o}function ly(){for(var i,s,n=0,o="",u=arguments.length;n<u;n++)(i=arguments[n])&&(s=ry(i))&&(o&&(o+=" "),o+=s);return o}const H0=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,$0=ly,of=(i,s)=>n=>{var o;if((s==null?void 0:s.variants)==null)return $0(i,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:u,defaultVariants:d}=s,f=Object.keys(u).map(v=>{const y=n==null?void 0:n[v],b=d==null?void 0:d[v];if(y===null)return null;const w=H0(y)||H0(b);return u[v][w]}),g=n&&Object.entries(n).reduce((v,y)=>{let[b,w]=y;return w===void 0||(v[b]=w),v},{}),m=s==null||(o=s.compoundVariants)===null||o===void 0?void 0:o.reduce((v,y)=>{let{class:b,className:w,..._}=y;return Object.entries(_).every(k=>{let[E,j]=k;return Array.isArray(j)?j.includes({...d,...g}[E]):{...d,...g}[E]===j})?[...v,b,w]:v},[]);return $0(i,f,m,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h1=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,o)=>o?o.toUpperCase():n.toLowerCase()),I0=i=>{const s=h1(i);return s.charAt(0).toUpperCase()+s.slice(1)},oy=(...i)=>i.filter((s,n,o)=>!!s&&s.trim()!==""&&o.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=G.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:f,...g},m)=>G.createElement("svg",{ref:m,...f1,width:s,height:s,stroke:i,strokeWidth:o?Number(n)*24/Number(s):n,className:oy("lucide",u),...g},[...f.map(([v,y])=>G.createElement(v,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(i,s)=>{const n=G.forwardRef(({className:o,...u},d)=>G.createElement(m1,{ref:d,iconNode:s,className:oy(`lucide-${d1(I0(i))}`,`lucide-${i}`,o),...u}));return n.displayName=I0(i),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],p1=fe("arrow-right",g1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],y1=fe("calendar",v1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],b1=fe("camera",x1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_1=fe("check",w1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cy=fe("chevron-down",j1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],N1=fe("chevron-up",S1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uc=fe("circle-check",E1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Oc=fe("circle-check-big",T1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ur=fe("clock",A1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],C1=fe("container",k1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Rc=fe("download",O1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fs=fe("file-text",R1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],U1=fe("globe",D1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],z1=fe("hash",M1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],V0=fe("house",q1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lh=fe("lock",L1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Dc=fe("log-in",B1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],G0=fe("log-out",H1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gr=fe("mail",$1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Na=fe("map-pin",I1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],G1=fe("menu",V1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],Vi=fe("package-check",P1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],Qi=fe("package-plus",Q1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fe=fe("package",F1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],X1=fe("phone",K1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Bh=fe("plane",Y1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],P0=fe("plus",J1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],W1=fe("qr-code",Z1);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xs=fe("refresh-cw",ej);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ys=fe("search",tj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nl=fe("shield",sj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],qs=fe("ship",aj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Gc=fe("sparkles",nj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],cf=fe("square-pen",ij);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],uf=fe("trash-2",rj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ht=fe("truck",lj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],dr=fe("upload",oj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Q0=fe("user-plus",cj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Fi=fe("user",uj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],hj=fe("users",dj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],xl=fe("warehouse",fj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],gj=fe("weight",mj);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pc=fe("x",pj),vj=(i,s)=>{const n=new Array(i.length+s.length);for(let o=0;o<i.length;o++)n[o]=i[o];for(let o=0;o<s.length;o++)n[i.length+o]=s[o];return n},yj=(i,s)=>({classGroupId:i,validator:s}),uy=(i=new Map,s=null,n)=>({nextPart:i,validators:s,classGroupId:n}),Uc="-",F0=[],xj="arbitrary..",bj=i=>{const s=_j(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=i;return{getClassGroupId:f=>{if(f.startsWith("[")&&f.endsWith("]"))return wj(f);const g=f.split(Uc),m=g[0]===""&&g.length>1?1:0;return dy(g,m,s)},getConflictingClassGroupIds:(f,g)=>{if(g){const m=o[f],v=n[f];return m?v?vj(v,m):m:v||F0}return n[f]||F0}}},dy=(i,s,n)=>{if(i.length-s===0)return n.classGroupId;const u=i[s],d=n.nextPart.get(u);if(d){const v=dy(i,s+1,d);if(v)return v}const f=n.validators;if(f===null)return;const g=s===0?i.join(Uc):i.slice(s).join(Uc),m=f.length;for(let v=0;v<m;v++){const y=f[v];if(y.validator(g))return y.classGroupId}},wj=i=>i.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=i.slice(1,-1),n=s.indexOf(":"),o=s.slice(0,n);return o?xj+o:void 0})(),_j=i=>{const{theme:s,classGroups:n}=i;return jj(n,s)},jj=(i,s)=>{const n=uy();for(const o in i){const u=i[o];df(u,n,o,s)}return n},df=(i,s,n,o)=>{const u=i.length;for(let d=0;d<u;d++){const f=i[d];Sj(f,s,n,o)}},Sj=(i,s,n,o)=>{if(typeof i=="string"){Nj(i,s,n);return}if(typeof i=="function"){Ej(i,s,n,o);return}Tj(i,s,n,o)},Nj=(i,s,n)=>{const o=i===""?s:hy(s,i);o.classGroupId=n},Ej=(i,s,n,o)=>{if(Aj(i)){df(i(o),s,n,o);return}s.validators===null&&(s.validators=[]),s.validators.push(yj(n,i))},Tj=(i,s,n,o)=>{const u=Object.entries(i),d=u.length;for(let f=0;f<d;f++){const[g,m]=u[f];df(m,hy(s,g),n,o)}},hy=(i,s)=>{let n=i;const o=s.split(Uc),u=o.length;for(let d=0;d<u;d++){const f=o[d];let g=n.nextPart.get(f);g||(g=uy(),n.nextPart.set(f,g)),n=g}return n},Aj=i=>"isThemeGetter"in i&&i.isThemeGetter===!0,kj=i=>{if(i<1)return{get:()=>{},set:()=>{}};let s=0,n=Object.create(null),o=Object.create(null);const u=(d,f)=>{n[d]=f,s++,s>i&&(s=0,o=n,n=Object.create(null))};return{get(d){let f=n[d];if(f!==void 0)return f;if((f=o[d])!==void 0)return u(d,f),f},set(d,f){d in n?n[d]=f:u(d,f)}}},Hh="!",K0=":",Cj=[],X0=(i,s,n,o,u)=>({modifiers:i,hasImportantModifier:s,baseClassName:n,maybePostfixModifierPosition:o,isExternal:u}),Oj=i=>{const{prefix:s,experimentalParseClassName:n}=i;let o=u=>{const d=[];let f=0,g=0,m=0,v;const y=u.length;for(let E=0;E<y;E++){const j=u[E];if(f===0&&g===0){if(j===K0){d.push(u.slice(m,E)),m=E+1;continue}if(j==="/"){v=E;continue}}j==="["?f++:j==="]"?f--:j==="("?g++:j===")"&&g--}const b=d.length===0?u:u.slice(m);let w=b,_=!1;b.endsWith(Hh)?(w=b.slice(0,-1),_=!0):b.startsWith(Hh)&&(w=b.slice(1),_=!0);const k=v&&v>m?v-m:void 0;return X0(d,_,w,k)};if(s){const u=s+K0,d=o;o=f=>f.startsWith(u)?d(f.slice(u.length)):X0(Cj,!1,f,void 0,!0)}if(n){const u=o;o=d=>n({className:d,parseClassName:u})}return o},Rj=i=>{const s=new Map;return i.orderSensitiveModifiers.forEach((n,o)=>{s.set(n,1e6+o)}),n=>{const o=[];let u=[];for(let d=0;d<n.length;d++){const f=n[d],g=f[0]==="[",m=s.has(f);g||m?(u.length>0&&(u.sort(),o.push(...u),u=[]),o.push(f)):u.push(f)}return u.length>0&&(u.sort(),o.push(...u)),o}},Dj=i=>({cache:kj(i.cacheSize),parseClassName:Oj(i),sortModifiers:Rj(i),...bj(i)}),Uj=/\s+/,Mj=(i,s)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:u,sortModifiers:d}=s,f=[],g=i.trim().split(Uj);let m="";for(let v=g.length-1;v>=0;v-=1){const y=g[v],{isExternal:b,modifiers:w,hasImportantModifier:_,baseClassName:k,maybePostfixModifierPosition:E}=n(y);if(b){m=y+(m.length>0?" "+m:m);continue}let j=!!E,z=o(j?k.substring(0,E):k);if(!z){if(!j){m=y+(m.length>0?" "+m:m);continue}if(z=o(k),!z){m=y+(m.length>0?" "+m:m);continue}j=!1}const O=w.length===0?"":w.length===1?w[0]:d(w).join(":"),T=_?O+Hh:O,R=T+z;if(f.indexOf(R)>-1)continue;f.push(R);const Q=u(z,j);for(let X=0;X<Q.length;++X){const J=Q[X];f.push(T+J)}m=y+(m.length>0?" "+m:m)}return m},zj=(...i)=>{let s=0,n,o,u="";for(;s<i.length;)(n=i[s++])&&(o=fy(n))&&(u&&(u+=" "),u+=o);return u},fy=i=>{if(typeof i=="string")return i;let s,n="";for(let o=0;o<i.length;o++)i[o]&&(s=fy(i[o]))&&(n&&(n+=" "),n+=s);return n},qj=(i,...s)=>{let n,o,u,d;const f=m=>{const v=s.reduce((y,b)=>b(y),i());return n=Dj(v),o=n.cache.get,u=n.cache.set,d=g,g(m)},g=m=>{const v=o(m);if(v)return v;const y=Mj(m,n);return u(m,y),y};return d=f,(...m)=>d(zj(...m))},Lj=[],pt=i=>{const s=n=>n[i]||Lj;return s.isThemeGetter=!0,s},my=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Bj=/^\d+\/\d+$/,Hj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$j=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ij=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Vj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Li=i=>Bj.test(i),ye=i=>!!i&&!Number.isNaN(Number(i)),Wa=i=>!!i&&Number.isInteger(Number(i)),mh=i=>i.endsWith("%")&&ye(i.slice(0,-1)),va=i=>Hj.test(i),Pj=()=>!0,Qj=i=>$j.test(i)&&!Ij.test(i),py=()=>!1,Fj=i=>Vj.test(i),Kj=i=>Gj.test(i),Xj=i=>!W(i)&&!ee(i),Yj=i=>pr(i,xy,py),W=i=>my.test(i),Dn=i=>pr(i,by,Qj),gh=i=>pr(i,tS,ye),Y0=i=>pr(i,vy,py),Jj=i=>pr(i,yy,Kj),dc=i=>pr(i,wy,Fj),ee=i=>gy.test(i),gl=i=>vr(i,by),Zj=i=>vr(i,sS),J0=i=>vr(i,vy),Wj=i=>vr(i,xy),eS=i=>vr(i,yy),hc=i=>vr(i,wy,!0),pr=(i,s,n)=>{const o=my.exec(i);return o?o[1]?s(o[1]):n(o[2]):!1},vr=(i,s,n=!1)=>{const o=gy.exec(i);return o?o[1]?s(o[1]):n:!1},vy=i=>i==="position"||i==="percentage",yy=i=>i==="image"||i==="url",xy=i=>i==="length"||i==="size"||i==="bg-size",by=i=>i==="length",tS=i=>i==="number",sS=i=>i==="family-name",wy=i=>i==="shadow",aS=()=>{const i=pt("color"),s=pt("font"),n=pt("text"),o=pt("font-weight"),u=pt("tracking"),d=pt("leading"),f=pt("breakpoint"),g=pt("container"),m=pt("spacing"),v=pt("radius"),y=pt("shadow"),b=pt("inset-shadow"),w=pt("text-shadow"),_=pt("drop-shadow"),k=pt("blur"),E=pt("perspective"),j=pt("aspect"),z=pt("ease"),O=pt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Q=()=>[...R(),ee,W],X=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto","contain","none"],P=()=>[ee,W,m],he=()=>[Li,"full","auto",...P()],de=()=>[Wa,"none","subgrid",ee,W],Le=()=>["auto",{span:["full",Wa,ee,W]},Wa,ee,W],Ce=()=>[Wa,"auto",ee,W],Rt=()=>["auto","min","max","fr",ee,W],ze=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],st=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...P()],F=()=>[Li,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],V=()=>[i,ee,W],Oe=()=>[...R(),J0,Y0,{position:[ee,W]}],Re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],rt=()=>["auto","cover","contain",Wj,Yj,{size:[ee,W]}],ke=()=>[mh,gl,Dn],oe=()=>["","none","full",v,ee,W],Ne=()=>["",ye,gl,Dn],Ke=()=>["solid","dashed","dotted","double"],$t=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Xe=()=>[ye,mh,J0,Y0],Js=()=>["","none",k,ee,W],It=()=>["none",ye,ee,W],As=()=>["none",ye,ee,W],Bs=()=>[ye,ee,W],Hs=()=>[Li,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[va],breakpoint:[va],color:[Pj],container:[va],"drop-shadow":[va],ease:["in","out","in-out"],font:[Xj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[va],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[va],shadow:[va],spacing:["px",ye],text:[va],"text-shadow":[va],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Li,W,ee,j]}],container:["container"],columns:[{columns:[ye,W,ee,g]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Q()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:J()}],"overscroll-x":[{"overscroll-x":J()}],"overscroll-y":[{"overscroll-y":J()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:he()}],"inset-x":[{"inset-x":he()}],"inset-y":[{"inset-y":he()}],start:[{start:he()}],end:[{end:he()}],top:[{top:he()}],right:[{right:he()}],bottom:[{bottom:he()}],left:[{left:he()}],visibility:["visible","invisible","collapse"],z:[{z:[Wa,"auto",ee,W]}],basis:[{basis:[Li,"full","auto",g,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ye,Li,"auto","initial","none",W]}],grow:[{grow:["",ye,ee,W]}],shrink:[{shrink:["",ye,ee,W]}],order:[{order:[Wa,"first","last","none",ee,W]}],"grid-cols":[{"grid-cols":de()}],"col-start-end":[{col:Le()}],"col-start":[{"col-start":Ce()}],"col-end":[{"col-end":Ce()}],"grid-rows":[{"grid-rows":de()}],"row-start-end":[{row:Le()}],"row-start":[{"row-start":Ce()}],"row-end":[{"row-end":Ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Rt()}],"auto-rows":[{"auto-rows":Rt()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...ze(),"normal"]}],"justify-items":[{"justify-items":[...st(),"normal"]}],"justify-self":[{"justify-self":["auto",...st()]}],"align-content":[{content:["normal",...ze()]}],"align-items":[{items:[...st(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...st(),{baseline:["","last"]}]}],"place-content":[{"place-content":ze()}],"place-items":[{"place-items":[...st(),"baseline"]}],"place-self":[{"place-self":["auto",...st()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[g,"screen",...F()]}],"min-w":[{"min-w":[g,"screen","none",...F()]}],"max-w":[{"max-w":[g,"screen","none","prose",{screen:[f]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",n,gl,Dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ee,gh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mh,W]}],"font-family":[{font:[Zj,W,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[u,ee,W]}],"line-clamp":[{"line-clamp":[ye,"none",ee,gh]}],leading:[{leading:[d,...P()]}],"list-image":[{"list-image":["none",ee,W]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ee,W]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[ye,"from-font","auto",ee,Dn]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[ye,"auto",ee,W]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee,W]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee,W]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Oe()}],"bg-repeat":[{bg:Re()}],"bg-size":[{bg:rt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wa,ee,W],radial:["",ee,W],conic:[Wa,ee,W]},eS,Jj]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:ke()}],"gradient-via-pos":[{via:ke()}],"gradient-to-pos":[{to:ke()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ke(),"hidden","none"]}],"divide-style":[{divide:[...Ke(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...Ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ye,ee,W]}],"outline-w":[{outline:["",ye,gl,Dn]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",y,hc,dc]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",b,hc,dc]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[ye,Dn]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",w,hc,dc]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[ye,ee,W]}],"mix-blend":[{"mix-blend":[...$t(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$t()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":Xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Xe()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":Xe()}],"mask-image-t-to-pos":[{"mask-t-to":Xe()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":Xe()}],"mask-image-r-to-pos":[{"mask-r-to":Xe()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":Xe()}],"mask-image-b-to-pos":[{"mask-b-to":Xe()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":Xe()}],"mask-image-l-to-pos":[{"mask-l-to":Xe()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":Xe()}],"mask-image-x-to-pos":[{"mask-x-to":Xe()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":Xe()}],"mask-image-y-to-pos":[{"mask-y-to":Xe()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[ee,W]}],"mask-image-radial-from-pos":[{"mask-radial-from":Xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Xe()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":Xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Xe()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Oe()}],"mask-repeat":[{mask:Re()}],"mask-size":[{mask:rt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ee,W]}],filter:[{filter:["","none",ee,W]}],blur:[{blur:Js()}],brightness:[{brightness:[ye,ee,W]}],contrast:[{contrast:[ye,ee,W]}],"drop-shadow":[{"drop-shadow":["","none",_,hc,dc]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",ye,ee,W]}],"hue-rotate":[{"hue-rotate":[ye,ee,W]}],invert:[{invert:["",ye,ee,W]}],saturate:[{saturate:[ye,ee,W]}],sepia:[{sepia:["",ye,ee,W]}],"backdrop-filter":[{"backdrop-filter":["","none",ee,W]}],"backdrop-blur":[{"backdrop-blur":Js()}],"backdrop-brightness":[{"backdrop-brightness":[ye,ee,W]}],"backdrop-contrast":[{"backdrop-contrast":[ye,ee,W]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ye,ee,W]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ye,ee,W]}],"backdrop-invert":[{"backdrop-invert":["",ye,ee,W]}],"backdrop-opacity":[{"backdrop-opacity":[ye,ee,W]}],"backdrop-saturate":[{"backdrop-saturate":[ye,ee,W]}],"backdrop-sepia":[{"backdrop-sepia":["",ye,ee,W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ee,W]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ye,"initial",ee,W]}],ease:[{ease:["linear","initial",z,ee,W]}],delay:[{delay:[ye,ee,W]}],animate:[{animate:["none",O,ee,W]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,ee,W]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:It()}],"rotate-x":[{"rotate-x":It()}],"rotate-y":[{"rotate-y":It()}],"rotate-z":[{"rotate-z":It()}],scale:[{scale:As()}],"scale-x":[{"scale-x":As()}],"scale-y":[{"scale-y":As()}],"scale-z":[{"scale-z":As()}],"scale-3d":["scale-3d"],skew:[{skew:Bs()}],"skew-x":[{"skew-x":Bs()}],"skew-y":[{"skew-y":Bs()}],transform:[{transform:[ee,W,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Hs()}],"translate-x":[{"translate-x":Hs()}],"translate-y":[{"translate-y":Hs()}],"translate-z":[{"translate-z":Hs()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee,W]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee,W]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[ye,gl,Dn,gh]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nS=qj(aS);function Pe(...i){return nS(ly(i))}const iS=Iw,_y=G.forwardRef(({className:i,...s},n)=>l.jsx(Hv,{ref:n,className:Pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",i),...s}));_y.displayName=Hv.displayName;const rS=of("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jy=G.forwardRef(({className:i,variant:s,...n},o)=>l.jsx($v,{ref:o,className:Pe(rS({variant:s}),i),...n}));jy.displayName=$v.displayName;const lS=G.forwardRef(({className:i,...s},n)=>l.jsx(Iv,{ref:n,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",i),...s}));lS.displayName=Iv.displayName;const Sy=G.forwardRef(({className:i,...s},n)=>l.jsx(Vv,{ref:n,className:Pe("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",i),"toast-close":"",...s,children:l.jsx(Pc,{className:"h-4 w-4"})}));Sy.displayName=Vv.displayName;const Ny=G.forwardRef(({className:i,...s},n)=>l.jsx(Gv,{ref:n,className:Pe("text-sm font-semibold [&+div]:text-xs",i),...s}));Ny.displayName=Gv.displayName;const Ey=G.forwardRef(({className:i,...s},n)=>l.jsx(Pv,{ref:n,className:Pe("text-sm opacity-90",i),...s}));Ey.displayName=Pv.displayName;function oS(){const{toasts:i}=Ls();return l.jsxs(iS,{children:[i.map(function({id:s,title:n,description:o,action:u,...d}){return l.jsxs(jy,{...d,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(Ny,{children:n}),o&&l.jsx(Ey,{children:o})]}),u,l.jsx(Sy,{})]},s)}),l.jsx(_y,{})]})}var cS=Symbol.for("react.lazy"),Mc=h_[" use ".trim().toString()];function uS(i){return typeof i=="object"&&i!==null&&"then"in i}function Ty(i){return i!=null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===cS&&"_payload"in i&&uS(i._payload)}function Ay(i){const s=dS(i),n=G.forwardRef((o,u)=>{let{children:d,...f}=o;Ty(d)&&typeof Mc=="function"&&(d=Mc(d._payload));const g=G.Children.toArray(d),m=g.find(fS);if(m){const v=m.props.children,y=g.map(b=>b===m?G.Children.count(v)>1?G.Children.only(null):G.isValidElement(v)?v.props.children:null:b);return l.jsx(s,{...f,ref:u,children:G.isValidElement(v)?G.cloneElement(v,void 0,y):null})}return l.jsx(s,{...f,ref:u,children:d})});return n.displayName=`${i}.Slot`,n}var ky=Ay("Slot");function dS(i){const s=G.forwardRef((n,o)=>{let{children:u,...d}=n;if(Ty(u)&&typeof Mc=="function"&&(u=Mc(u._payload)),G.isValidElement(u)){const f=gS(u),g=mS(d,u.props);return u.type!==G.Fragment&&(g.ref=o?Vw(o,f):f),G.cloneElement(u,g)}return G.Children.count(u)>1?G.Children.only(null):null});return s.displayName=`${i}.SlotClone`,s}var hS=Symbol("radix.slottable");function fS(i){return G.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===hS}function mS(i,s){const n={...s};for(const o in s){const u=i[o],d=s[o];/^on[A-Z]/.test(o)?u&&d?n[o]=(...g)=>{const m=d(...g);return u(...g),m}:u&&(n[o]=u):o==="style"?n[o]={...u,...d}:o==="className"&&(n[o]=[u,d].filter(Boolean).join(" "))}return{...i,...n}}function gS(i){var o,u;let s=(o=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:o.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?i.ref:(s=(u=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:u.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?i.props.ref:i.props.ref||i.ref)}const pS=of("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border border-input bg-background text-foreground shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function K({className:i,variant:s,size:n,asChild:o=!1,...u}){const d=o?ky:"button";return l.jsx(d,{"data-slot":"button",className:Pe(pS({variant:s,size:n,className:i})),...u})}var ya={},fc={};const vS=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);let Qc=class extends Error{constructor(s,n="FunctionsError",o){super(s),this.name=n,this.context=o}},Cy=class extends Qc{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}},$h=class extends Qc{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}},Ih=class extends Qc{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}};var zc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(zc||(zc={}));class yS{constructor(s,{headers:n={},customFetch:o,region:u=zc.Any}={}){this.url=s,this.headers=n,this.region=u,this.fetch=vS(o)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return te(this,arguments,void 0,function*(n,o={}){var u;let d,f;try{const{headers:g,method:m,body:v,signal:y,timeout:b}=o;let w={},{region:_}=o;_||(_=this.region);const k=new URL(`${this.url}/${n}`);_&&_!=="any"&&(w["x-region"]=_,k.searchParams.set("forceFunctionRegion",_));let E;v&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=v):typeof v=="string"?(w["Content-Type"]="text/plain",E=v):typeof FormData<"u"&&v instanceof FormData?E=v:(w["Content-Type"]="application/json",E=JSON.stringify(v)):E=v;let j=y;b&&(f=new AbortController,d=setTimeout(()=>f.abort(),b),y?(j=f.signal,y.addEventListener("abort",()=>f.abort())):j=f.signal);const z=yield this.fetch(k.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),g),body:E,signal:j}).catch(Q=>{throw new Cy(Q)}),O=z.headers.get("x-relay-error");if(O&&O==="true")throw new $h(z);if(!z.ok)throw new Ih(z);let T=((u=z.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),R;return T==="application/json"?R=yield z.json():T==="application/octet-stream"||T==="application/pdf"?R=yield z.blob():T==="text/event-stream"?R=z:T==="multipart/form-data"?R=yield z.formData():R=yield z.text(),{data:R,error:null,response:z}}catch(g){return{data:null,error:g,response:g instanceof Ih||g instanceof $h?g.context:void 0}}finally{d&&clearTimeout(d)}})}}const xS=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return zc},FunctionsClient:yS,FunctionsError:Qc,FunctionsFetchError:Cy,FunctionsHttpError:Ih,FunctionsRelayError:$h},Symbol.toStringTag,{value:"Module"})),Oy=Dl(xS);var Dt={};const yr=Dl(Gw);var mc={},gc={},pc={},vc={},yc={},xc={},Z0;function Ry(){if(Z0)return xc;Z0=1,Object.defineProperty(xc,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return xc.default=i,xc}var W0;function Dy(){if(W0)return yc;W0=1,Object.defineProperty(yc,"__esModule",{value:!0});const s=yr.__importDefault(Ry());let n=class{constructor(u){var d,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,b,w;let _=null,k=null,E=null,j=m.status,z=m.statusText;if(m.ok){if(this.method!=="HEAD"){const Q=await m.text();Q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?k=Q:k=JSON.parse(Q))}const T=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),R=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");T&&R&&R.length>1&&(E=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(_={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,E=null,j=406,z="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const T=await m.text();try{_=JSON.parse(T),Array.isArray(_)&&m.status===404&&(k=[],_=null,j=200,z="OK")}catch{m.status===404&&T===""?(j=204,z="No Content"):_={message:T}}if(_&&this.isMaybeSingle&&(!((w=_==null?void 0:_.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,j=200,z="OK"),_&&this.shouldThrowOnError)throw new s.default(_)}return{error:_,data:k,count:E,status:j,statusText:z}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,y,b,w,_,k;let E="";const j=m==null?void 0:m.cause;if(j){const z=(v=j==null?void 0:j.message)!==null&&v!==void 0?v:"",O=(y=j==null?void 0:j.code)!==null&&y!==void 0?y:"";E=`${(b=m==null?void 0:m.name)!==null&&b!==void 0?b:"FetchError"}: ${m==null?void 0:m.message}`,E+=`

Caused by: ${(w=j==null?void 0:j.name)!==null&&w!==void 0?w:"Error"}: ${z}`,O&&(E+=` (${O})`),j!=null&&j.stack&&(E+=`
${j.stack}`)}else E=(_=m==null?void 0:m.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(k=m==null?void 0:m.name)!==null&&k!==void 0?k:"FetchError"}: ${m==null?void 0:m.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),g.then(u,d)}returns(){return this}overrideTypes(){return this}};return yc.default=n,yc}var ev;function Uy(){if(ev)return vc;ev=1,Object.defineProperty(vc,"__esModule",{value:!0});const s=yr.__importDefault(Dy());let n=class extends s.default{select(u){let d=!1;const f=(u??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:f,foreignTable:g,referencedTable:m=g}={}){const v=m?`${m}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${u}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:f=d}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${u}`),this}range(u,d,{foreignTable:f,referencedTable:g=f}={}){const m=typeof g>"u"?"offset":`${g}.offset`,v=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(m,`${u}`),this.url.searchParams.set(v,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:f=!1,buffers:g=!1,wal:m=!1,format:v="text"}={}){var y;const b=[u?"analyze":null,d?"verbose":null,f?"settings":null,g?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${w}"; options=${b};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}};return vc.default=n,vc}var tv;function hf(){if(tv)return pc;tv=1,Object.defineProperty(pc,"__esModule",{value:!0});const s=yr.__importDefault(Uy()),n=new RegExp("[,()]");let o=class extends s.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}regexMatch(d,f){return this.url.searchParams.append(d,`match.${f}`),this}regexIMatch(d,f){return this.url.searchParams.append(d,`imatch.${f}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}isDistinct(d,f){return this.url.searchParams.append(d,`isdistinct.${f}`),this}in(d,f){const g=Array.from(new Set(f)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(d,`in.(${g})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:g,type:m}={}){let v="";m==="plain"?v="pl":m==="phrase"?v="ph":m==="websearch"&&(v="w");const y=g===void 0?"":`(${g})`;return this.url.searchParams.append(d,`${v}fts${y}.${f}`),this}match(d){return Object.entries(d).forEach(([f,g])=>{this.url.searchParams.append(f,`eq.${g}`)}),this}not(d,f,g){return this.url.searchParams.append(d,`not.${f}.${g}`),this}or(d,{foreignTable:f,referencedTable:g=f}={}){const m=g?`${g}.or`:"or";return this.url.searchParams.append(m,`(${d})`),this}filter(d,f,g){return this.url.searchParams.append(d,`${f}.${g}`),this}};return pc.default=o,pc}var sv;function My(){if(sv)return gc;sv=1,Object.defineProperty(gc,"__esModule",{value:!0});const s=yr.__importDefault(hf());let n=class{constructor(u,{headers:d={},schema:f,fetch:g}){this.url=u,this.headers=new Headers(d),this.schema=f,this.fetch=g}select(u,d){const{head:f=!1,count:g}=d??{},m=f?"HEAD":"GET";let v=!1;const y=(u??"*").split("").map(b=>/\s/.test(b)&&!v?"":(b==='"'&&(v=!v),b)).join("");return this.url.searchParams.set("select",y),g&&this.headers.append("Prefer",`count=${g}`),new s.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:f=!0}={}){var g;const m="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const v=u.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(v.length>0){const y=[...new Set(v)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new s.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:f=!1,count:g,defaultToNull:m=!0}={}){var v;const y="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),g&&this.headers.append("Prefer",`count=${g}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const b=u.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(b.length>0){const w=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new s.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(u,{count:d}={}){var f;const g="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var d;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new s.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return gc.default=n,gc}var av;function bS(){if(av)return mc;av=1,Object.defineProperty(mc,"__esModule",{value:!0});const i=yr,s=i.__importDefault(My()),n=i.__importDefault(hf());let o=class zy{constructor(d,{headers:f={},schema:g,fetch:m}={}){this.url=d,this.headers=new Headers(f),this.schemaName=g,this.fetch=m}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${d}`);return new s.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new zy(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:g=!1,get:m=!1,count:v}={}){var y;let b;const w=new URL(`${this.url}/rpc/${d}`);let _;g||m?(b=g?"HEAD":"GET",Object.entries(f).filter(([E,j])=>j!==void 0).map(([E,j])=>[E,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([E,j])=>{w.searchParams.append(E,j)})):(b="POST",_=f);const k=new Headers(this.headers);return v&&k.set("Prefer",`count=${v}`),new n.default({method:b,url:w,headers:k,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return mc.default=o,mc}var nv;function qy(){if(nv)return Dt;nv=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.PostgrestError=Dt.PostgrestBuilder=Dt.PostgrestTransformBuilder=Dt.PostgrestFilterBuilder=Dt.PostgrestQueryBuilder=Dt.PostgrestClient=void 0;const i=yr,s=i.__importDefault(bS());Dt.PostgrestClient=s.default;const n=i.__importDefault(My());Dt.PostgrestQueryBuilder=n.default;const o=i.__importDefault(hf());Dt.PostgrestFilterBuilder=o.default;const u=i.__importDefault(Uy());Dt.PostgrestTransformBuilder=u.default;const d=i.__importDefault(Dy());Dt.PostgrestBuilder=d.default;const f=i.__importDefault(Ry());return Dt.PostgrestError=f.default,Dt.default={PostgrestClient:s.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:f.default},Dt}class Ly{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let n=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(n+=`

Suggested solution: ${s.workaround}`),new Error(n)}static createWebSocket(s,n){const o=this.getWebSocketConstructor();return new o(s,n)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const wS="2.87.1",_S=`realtime-js/${wS}`,By="1.0.0",jS="2.0.0",iv=By,Vh=1e4,SS=1e3,NS=100;var Bn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Bn||(Bn={}));var ft;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ft||(ft={}));var zs;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(zs||(zs={}));var Gh;(function(i){i.websocket="websocket"})(Gh||(Gh={}));var Hn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Hn||(Hn={}));class ES{constructor(s){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=s??[]}encode(s,n){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(s));let o=[s.join_ref,s.ref,s.topic,s.event,s.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(s){var n;return this._isArrayBuffer((n=s.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var n,o;const u=(o=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(s,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(s){var n,o;const u=(o=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(s,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(s,n,o){var u,d;const f=s.topic,g=(u=s.ref)!==null&&u!==void 0?u:"",m=(d=s.join_ref)!==null&&d!==void 0?d:"",v=s.payload.event,y=this.allowedMetadataKeys?this._pick(s.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+f.length+v.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let k=new DataView(_),E=0;k.setUint8(E++,this.KINDS.userBroadcastPush),k.setUint8(E++,m.length),k.setUint8(E++,g.length),k.setUint8(E++,f.length),k.setUint8(E++,v.length),k.setUint8(E++,b.length),k.setUint8(E++,n),Array.from(m,z=>k.setUint8(E++,z.charCodeAt(0))),Array.from(g,z=>k.setUint8(E++,z.charCodeAt(0))),Array.from(f,z=>k.setUint8(E++,z.charCodeAt(0))),Array.from(v,z=>k.setUint8(E++,z.charCodeAt(0))),Array.from(b,z=>k.setUint8(E++,z.charCodeAt(0)));var j=new Uint8Array(_.byteLength+o.byteLength);return j.set(new Uint8Array(_),0),j.set(new Uint8Array(o),_.byteLength),j.buffer}decode(s,n){if(this._isArrayBuffer(s)){let o=this._binaryDecode(s);return n(o)}if(typeof s=="string"){const o=JSON.parse(s),[u,d,f,g,m]=o;return n({join_ref:u,ref:d,topic:f,event:g,payload:m})}return n({})}_binaryDecode(s){const n=new DataView(s),o=n.getUint8(0),u=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,n,u)}}_decodeUserBroadcast(s,n,o){const u=n.getUint8(1),d=n.getUint8(2),f=n.getUint8(3),g=n.getUint8(4);let m=this.HEADER_LENGTH+4;const v=o.decode(s.slice(m,m+u));m=m+u;const y=o.decode(s.slice(m,m+d));m=m+d;const b=o.decode(s.slice(m,m+f));m=m+f;const w=s.slice(m,s.byteLength),_=g===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,k={type:this.BROADCAST_EVENT,event:y,payload:_};return f>0&&(k.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(s){var n;return s instanceof ArrayBuffer||((n=s==null?void 0:s.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(s,n){return!s||typeof s!="object"?{}:Object.fromEntries(Object.entries(s).filter(([o])=>n.includes(o)))}}class Hy{constructor(s,n){this.callback=s,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Qe||(Qe={}));const rv=(i,s,n={})=>{var o;const u=(o=n.skipTypes)!==null&&o!==void 0?o:[];return s?Object.keys(s).reduce((d,f)=>(d[f]=TS(f,i,s,u),d),{}):{}},TS=(i,s,n,o)=>{const u=s.find(g=>g.name===i),d=u==null?void 0:u.type,f=n[i];return d&&!o.includes(d)?$y(d,f):Ph(f)},$y=(i,s)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return OS(s,n)}switch(i){case Qe.bool:return AS(s);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return kS(s);case Qe.json:case Qe.jsonb:return CS(s);case Qe.timestamp:return RS(s);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Ph(s);default:return Ph(s)}},Ph=i=>i,AS=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},kS=i=>{if(typeof i=="string"){const s=parseFloat(i);if(!Number.isNaN(s))return s}return i},CS=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(s){return console.log(`JSON parse error: ${s}`),i}return i},OS=(i,s)=>{if(typeof i!="string")return i;const n=i.length-1,o=i[n];if(i[0]==="{"&&o==="}"){let d;const f=i.slice(1,n);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>$y(s,g))}return i},RS=i=>typeof i=="string"?i.replace(" ","T"):i,Iy=i=>{const s=new URL(i);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class ph{constructor(s,n,o={},u=Vh){this.channel=s,this.event=n,this.payload=o,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,n){var o;return this._hasReceived(s)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:s,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:n}){this.recHooks.filter(o=>o.status===s).forEach(o=>o.callback(n))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var Qh;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Qh||(Qh={}));let Vy=class Nc{constructor(s,n){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nc.syncState(this.state,u,d,f),this.pendingDiffs.forEach(m=>{this.state=Nc.syncDiff(this.state,m,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(o.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Nc.syncDiff(this.state,u,d,f),g())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,n,o,u){const d=this.cloneDeep(s),f=this.transformState(n),g={},m={};return this.map(d,(v,y)=>{f[v]||(m[v]=y)}),this.map(f,(v,y)=>{const b=d[v];if(b){const w=y.map(j=>j.presence_ref),_=b.map(j=>j.presence_ref),k=y.filter(j=>_.indexOf(j.presence_ref)<0),E=b.filter(j=>w.indexOf(j.presence_ref)<0);k.length>0&&(g[v]=k),E.length>0&&(m[v]=E)}else g[v]=y}),this.syncDiff(d,{joins:g,leaves:m},o,u)}static syncDiff(s,n,o,u){const{joins:d,leaves:f}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),u||(u=()=>{}),this.map(d,(g,m)=>{var v;const y=(v=s[g])!==null&&v!==void 0?v:[];if(s[g]=this.cloneDeep(m),y.length>0){const b=s[g].map(_=>_.presence_ref),w=y.filter(_=>b.indexOf(_.presence_ref)<0);s[g].unshift(...w)}o(g,y,m)}),this.map(f,(g,m)=>{let v=s[g];if(!v)return;const y=m.map(b=>b.presence_ref);v=v.filter(b=>y.indexOf(b.presence_ref)<0),s[g]=v,u(g,v,m),v.length===0&&delete s[g]}),s}static map(s,n){return Object.getOwnPropertyNames(s).map(o=>n(o,s[o]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((n,o)=>{const u=s[o];return"metas"in u?n[o]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[o]=u,n},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Fh;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Fh||(Fh={}));var Yi;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Yi||(Yi={}));var Ps;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ps||(Ps={}));const DS=ft;let Gy=class bl{constructor(s,n={config:{}},o){var u,d;if(this.topic=s,this.params=n,this.socket=o,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ph(this,zs.join,this.params,this.timeout),this.rejoinTimer=new Hy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zs.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Vy(this),this.broadcastEndpointURL=Iy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,n=this.timeout){var o,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:f,presence:g,private:m}}=this.params,v=(u=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(_=>_.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Yi.PRESENCE]&&this.bindings[Yi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,b={},w={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>s==null?void 0:s(Ps.CHANNEL_ERROR,_)),this._onClose(()=>s==null?void 0:s(Ps.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){s==null||s(Ps.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,j=(k=E==null?void 0:E.length)!==null&&k!==void 0?k:0,z=[];for(let O=0;O<j;O++){const T=E[O],{filter:{event:R,schema:Q,table:X,filter:J}}=T,P=_&&_[O];if(P&&P.event===R&&bl.isFilterValueEqual(P.schema,Q)&&bl.isFilterValueEqual(P.table,X)&&bl.isFilterValueEqual(P.filter,J))z.push(Object.assign(Object.assign({},T),{id:P.id}));else{this.unsubscribe(),this.state=ft.errored,s==null||s(Ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,s&&s(Ps.SUBSCRIBED);return}}).receive("error",_=>{this.state=ft.errored,s==null||s(Ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(Ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,n={}){return await this.send({type:"presence",event:"track",payload:s},n.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,n,o){return this.state===ft.joined&&s===Yi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(s,n,o)}async httpSend(s,n,o={}){var u;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:n,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const v=await g.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(s,n={}){var o,u;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=s,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,m;const v=this._push(s.type,s,n.timeout||this.timeout);s.type==="broadcast"&&!(!((m=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zs.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(u=>{o=new ph(this,zs.leave,{},s),o.receive("ok",()=>{n(),u("ok")}).receive("timeout",()=>{n(),u("timed out")}).receive("error",()=>{u("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(s,n,o){const u=new AbortController,d=setTimeout(()=>u.abort(),o),f=await this.socket.fetch(s,Object.assign(Object.assign({},n),{signal:u.signal}));return clearTimeout(d),f}_push(s,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new ph(this,s,n,o);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>NS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(s,n,o){return n}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,n,o){var u,d;const f=s.toLocaleLowerCase(),{close:g,error:m,leave:v,join:y}=zs;if(o&&[g,m,v,y].indexOf(f)>=0&&o!==this._joinRef())return;let w=this._onMessage(f,n,o);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(_=>{var k,E,j;return((k=_.filter)===null||k===void 0?void 0:k.event)==="*"||((j=(E=_.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(_=>_.callback(w,o)):(d=this.bindings[f])===null||d===void 0||d.filter(_=>{var k,E,j,z,O,T;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const R=_.id,Q=(k=_.filter)===null||k===void 0?void 0:k.event;return R&&((E=n.ids)===null||E===void 0?void 0:E.includes(R))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const R=(O=(z=_==null?void 0:_.filter)===null||z===void 0?void 0:z.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return R==="*"||R===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:E,table:j,commit_timestamp:z,type:O,errors:T}=k;w=Object.assign(Object.assign({},{schema:E,table:j,commit_timestamp:z,eventType:O,new:{},old:{},errors:T}),this._getPayloadRecords(k))}_.callback(w,o)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,n,o){const u=s.toLocaleLowerCase(),d={type:u,filter:n,callback:o};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(s,n){const o=s.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&bl.isEqual(u.filter,n))})),this}static isEqual(s,n){if(Object.keys(s).length!==Object.keys(n).length)return!1;for(const o in s)if(s[o]!==n[o])return!1;return!0}static isFilterValueEqual(s,n){return(s??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(zs.close,{},s)}_onError(s){this._on(zs.error,{},n=>s(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const n={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(n.new=rv(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(n.old=rv(s.columns,s.old_record)),n}};const vh=()=>{},bc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},US=[1e3,2e3,5e3,1e4],MS=1e4,zS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let qS=class{constructor(s,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vh,this.transport=null,this.heartbeatIntervalMs=bc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vh,this.ref=0,this.reconnectTimer=null,this.vsn=iv,this.logger=vh,this.conn=null,this.sendBuffer=[],this.serializer=new ES,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${s}/${Gh.websocket}`,this.httpEndpoint=Iy(s),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ly.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const n=s.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const n=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const s=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,n,o){this.logger(s,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Bn.connecting:return Hn.Connecting;case Bn.open:return Hn.Open;case Bn.closing:return Hn.Closing;default:return Hn.Closed}}isConnected(){return this.connectionState()===Hn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,n={config:{}}){const o=`realtime:${s}`,u=this.getChannels().find(d=>d.topic===o);if(u)return u;{const d=new Gy(`realtime:${s}`,n,this);return this.channels.push(d),d}}push(s){const{topic:n,event:o,payload:u,ref:d}=s,f=()=>{this.encode(s,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${n} ${o} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(SS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let n=this.channels.find(o=>o.topic===s&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${s}"`),n.unsubscribe())}_remove(s){this.channels=this.channels.filter(n=>n.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:u,payload:d,ref:f}=n,g=f?`(${f})`:"",m=d.status||"";this.log("receive",`${m} ${o} ${u} ${g}`.trim(),d),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(u,d,f)),this._triggerStateCallbacks("message",n)})}_clearTimer(s){var n;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bn.open||this.conn.readyState===Bn.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var n;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(zs.error))}_appendParams(s,n){if(Object.keys(n).length===0)return s;const o=s.match(/\?/)?"&":"?",u=new URLSearchParams(n);return`${s}${o}${u}`}_workerObjectUrl(s){let n;if(s)n=s;else{const o=new Blob([zS],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(s,n=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(s=null){let n,o=!1;if(s)n=s,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(u=>{const d={access_token:n,version:_S};n&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(zs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${s}`,n)})}_triggerStateCallbacks(s,n){try{this.stateChangeCallbacks[s].forEach(o=>{try{o(n)}catch(u){this.log("error",`error in ${s} callback`,u)}})}catch(o){this.log("error",`error triggering ${s} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Hy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var n,o,u,d,f,g,m,v,y,b,w,_;switch(this.transport=(n=s==null?void 0:s.transport)!==null&&n!==void 0?n:null,this.timeout=(o=s==null?void 0:s.timeout)!==null&&o!==void 0?o:Vh,this.heartbeatIntervalMs=(u=s==null?void 0:s.heartbeatIntervalMs)!==null&&u!==void 0?u:bc.HEARTBEAT_INTERVAL,this.worker=(d=s==null?void 0:s.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=s==null?void 0:s.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=s==null?void 0:s.heartbeatCallback)!==null&&g!==void 0?g:vh,this.vsn=(m=s==null?void 0:s.vsn)!==null&&m!==void 0?m:iv,s!=null&&s.params&&(this.params=s.params),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=s==null?void 0:s.reconnectAfterMs)!==null&&v!==void 0?v:(k=>US[k-1]||MS),this.vsn){case By:this.encode=(y=s==null?void 0:s.encode)!==null&&y!==void 0?y:((k,E)=>E(JSON.stringify(k))),this.decode=(b=s==null?void 0:s.decode)!==null&&b!==void 0?b:((k,E)=>E(JSON.parse(k)));break;case jS:this.encode=(w=s==null?void 0:s.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=s==null?void 0:s.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s==null?void 0:s.workerUrl}}};const LS=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:DS,get REALTIME_LISTEN_TYPES(){return Yi},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Fh},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Qh},get REALTIME_SUBSCRIBE_STATES(){return Ps},RealtimeChannel:Gy,RealtimeClient:qS,RealtimePresence:Vy,WebSocketFactory:Ly},Symbol.toStringTag,{value:"Module"})),Py=Dl(LS);class Ml extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function We(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Qy extends Ml{constructor(s,n,o){super(s),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qc extends Ml{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}}const ff=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),BS=()=>Response,Kh=i=>{if(Array.isArray(i))return i.map(n=>Kh(n));if(typeof i=="function"||i!==Object(i))return i;const s={};return Object.entries(i).forEach(([n,o])=>{const u=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));s[u]=Kh(o)}),s},HS=i=>{if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},$S=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),yh=i=>{var s;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(s=i.error)===null||s===void 0?void 0:s.message)||JSON.stringify(i)},IS=(i,s,n)=>te(void 0,void 0,void 0,function*(){const o=yield BS();i instanceof o&&!(n!=null&&n.noResolveJson)?i.json().then(u=>{const d=i.status||500,f=(u==null?void 0:u.statusCode)||d+"";s(new Qy(yh(u),d,f))}).catch(u=>{s(new qc(yh(u),u))}):s(new qc(yh(i),i))}),VS=(i,s,n,o)=>{const u={method:i,headers:(s==null?void 0:s.headers)||{}};return i==="GET"||!o?u:(HS(o)?(u.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),u.body=JSON.stringify(o)):u.body=o,s!=null&&s.duplex&&(u.duplex=s.duplex),Object.assign(Object.assign({},u),n))};function zl(i,s,n,o,u,d){return te(this,void 0,void 0,function*(){return new Promise((f,g)=>{i(n,VS(s,o,u,d)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>IS(m,g,o))})})}function El(i,s,n,o){return te(this,void 0,void 0,function*(){return zl(i,"GET",s,n,o)})}function Ds(i,s,n,o,u){return te(this,void 0,void 0,function*(){return zl(i,"POST",s,o,u,n)})}function Xh(i,s,n,o,u){return te(this,void 0,void 0,function*(){return zl(i,"PUT",s,o,u,n)})}function GS(i,s,n,o){return te(this,void 0,void 0,function*(){return zl(i,"HEAD",s,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function mf(i,s,n,o,u){return te(this,void 0,void 0,function*(){return zl(i,"DELETE",s,o,u,n)})}class PS{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}}var Fy;class QS{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[Fy]="BlobDownloadBuilder",this.promise=null}asStream(){return new PS(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}}Fy=Symbol.toStringTag;const FS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KS{constructor(s,n={},o,u){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=o,this.fetch=ff(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(s,n,o,u){return te(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},lv),u);let g=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),m&&d.append("metadata",this.encodeMetadata(m)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),m&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(m))):(d=o,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,m&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),u!=null&&u.headers&&(g=Object.assign(Object.assign({},g),u.headers));const v=this._removeEmptyFolders(n),y=this._getFinalPath(v),b=yield(s=="PUT"?Xh:Ds)(this.fetch,`${this.url}/object/${y}`,d,Object.assign({headers:g},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(We(d))return{data:null,error:d};throw d}})}upload(s,n,o){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,n,o)})}uploadToSignedUrl(s,n,o,u){return te(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(s),f=this._getFinalPath(d),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",n);try{let m;const v=Object.assign({upsert:lv.upsert},u),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",v.cacheControl)):(m=o,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const b=yield Xh(this.fetch,g.toString(),m,{headers:y});return{data:{path:d,fullPath:b.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(We(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(s,n){return te(this,void 0,void 0,function*(){try{let o=this._getFinalPath(s);const u=Object.assign({},this.headers);n!=null&&n.upsert&&(u["x-upsert"]="true");const d=yield Ds(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:u}),f=new URL(this.url+d.url),g=f.searchParams.get("token");if(!g)throw new Ml("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:g},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}update(s,n,o){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,n,o)})}move(s,n,o){return te(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(We(u))return{data:null,error:u};throw u}})}copy(s,n,o){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield Ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(We(u))return{data:null,error:u};throw u}})}createSignedUrl(s,n,o){return te(this,void 0,void 0,function*(){try{let u=this._getFinalPath(s),d=yield Ds(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:n},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(We(u))return{data:null,error:u};throw u}})}createSignedUrls(s,n,o){return te(this,void 0,void 0,function*(){try{const u=yield Ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:s},{headers:this.headers}),d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(We(u))return{data:null,error:u};throw u}})}download(s,n){const u=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),f=d?`?${d}`:"",g=this._getFinalPath(s),m=()=>El(this.fetch,`${this.url}/${u}/${g}${f}`,{headers:this.headers,noResolveJson:!0});return new QS(m,this.shouldThrowOnError)}info(s){return te(this,void 0,void 0,function*(){const n=this._getFinalPath(s);try{const o=yield El(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Kh(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}exists(s){return te(this,void 0,void 0,function*(){const n=this._getFinalPath(s);try{return yield GS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o)&&o instanceof qc){const u=o.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:o}}throw o}})}getPublicUrl(s,n){const o=this._getFinalPath(s),u=[],d=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";d!==""&&u.push(d);const g=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&u.push(m);let v=u.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${o}${v}`)}}}remove(s){return te(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}list(s,n,o){return te(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},FS),n),{prefix:s||""});return{data:yield Ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},o),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(We(u))return{data:null,error:u};throw u}})}listV2(s,n){return te(this,void 0,void 0,function*(){try{const o=Object.assign({},s);return{data:yield Ds(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}}const Ky="2.87.1",Xy={"X-Client-Info":`storage-js/${Ky}`};class XS{constructor(s,n={},o,u){this.shouldThrowOnError=!1;const d=new URL(s);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xy),n),this.fetch=ff(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(s){return te(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(s);return{data:yield El(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}getBucket(s){return te(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}createBucket(s){return te(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield Ds(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(We(u))return{data:null,error:u};throw u}})}updateBucket(s,n){return te(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}emptyBucket(s){return te(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}deleteBucket(s){return te(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Tl=class extends Error{constructor(i,s){var n;super(i),this.name="IcebergError",this.status=s.status,this.icebergType=s.icebergType,this.icebergCode=s.icebergCode,this.details=s.details,this.isCommitStateUnknown=s.icebergType==="CommitStateUnknownException"||[500,502,504].includes(s.status)&&((n=s.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function YS(i,s,n){const o=new URL(s,i);if(n)for(const[u,d]of Object.entries(n))d!==void 0&&o.searchParams.set(u,d);return o.toString()}async function JS(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function ZS(i){const s=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:u,body:d,headers:f}){const g=YS(i.baseUrl,o,u),m=await JS(i.auth),v=await s(g,{method:n,headers:{...d?{"Content-Type":"application/json"}:{},...m,...f},body:d?JSON.stringify(d):void 0}),y=await v.text(),b=(v.headers.get("content-type")||"").includes("application/json"),w=b&&y?JSON.parse(y):y;if(!v.ok){const _=b?w:void 0,k=_==null?void 0:_.error;throw new Tl((k==null?void 0:k.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:_})}return{status:v.status,headers:v.headers,data:w}}}}function wc(i){return i.join("")}var WS=class{constructor(i,s=""){this.client=i,this.prefix=s}async listNamespaces(i){const s=i?{parent:wc(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:s})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(i,s){const n={namespace:i.namespace,properties:s==null?void 0:s.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wc(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wc(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wc(i.namespace)}`}),!0}catch(s){if(s instanceof Tl&&s.status===404)return!1;throw s}}async createNamespaceIfNotExists(i,s){try{return await this.createNamespace(i,s)}catch(n){if(n instanceof Tl&&n.status===409)return;throw n}}};function Bi(i){return i.join("")}var e2=class{constructor(i,s="",n){this.client=i,this.prefix=s,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bi(i.namespace)}/tables`})).data.identifiers}async createTable(i,s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Bi(i.namespace)}/tables`,body:s,headers:n})).data.metadata}async updateTable(i,s){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Bi(i.namespace)}/tables/${i.name}`,body:s});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bi(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((s==null?void 0:s.purge)??!1)}})}async loadTable(i){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bi(i.namespace)}/tables/${i.name}`,headers:s})).data.metadata}async tableExists(i){const s={};this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bi(i.namespace)}/tables/${i.name}`,headers:s}),!0}catch(n){if(n instanceof Tl&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,s){try{return await this.createTable(i,s)}catch(n){if(n instanceof Tl&&n.status===409)return await this.loadTable({namespace:i.namespace,name:s.name});throw n}}},t2=class{constructor(i){var o;let s="v1";i.catalogName&&(s+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=ZS({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(o=i.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new WS(this.client,s),this.tableOps=new e2(this.client,s,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,s){return this.namespaceOps.createNamespace(i,s)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,s){return this.tableOps.createTable(i,s)}async updateTable(i,s){return this.tableOps.updateTable(i,s)}async dropTable(i,s){await this.tableOps.dropTable(i,s)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,s){return this.namespaceOps.createNamespaceIfNotExists(i,s)}async createTableIfNotExists(i,s){return this.tableOps.createTableIfNotExists(i,s)}};class Yy{constructor(s,n={},o){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xy),n),this.fetch=ff(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(s){return te(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket`,{name:s},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}listBuckets(s){return te(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&n.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&n.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&n.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&n.set("sortOrder",s.sortOrder),s!=null&&s.search&&n.set("search",s.search);const o=n.toString(),u=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield El(this.fetch,u,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}deleteBucket(s){return te(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}from(s){if(!$S(s))throw new Ml("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new t2({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:()=>te(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(d,f){const g=d[f];return typeof g!="function"?g:(...m)=>te(this,void 0,void 0,function*(){try{return{data:yield g.apply(d,m),error:null}}catch(v){if(o)throw v;return{data:null,error:v}}})}})}}const gf={"X-Client-Info":`storage-js/${Ky}`,"Content-Type":"application/json"};class pf extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ts(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class Ec extends pf{constructor(s,n,o){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jy extends pf{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}}var Yh;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Yh||(Yh={}));const Fc=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),s2=()=>Response,Zy=i=>{if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},a2=i=>Array.from(new Float32Array(i)),n2=(i,s)=>{if(s!==void 0&&i.float32.length!==s)throw new Error(`Vector dimension mismatch: expected ${s}, got ${i.float32.length}`)},ov=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),i2=(i,s,n)=>te(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(n!=null&&n.noResolveJson)){const u=i.status||500,d=i;if(typeof d.json=="function")d.json().then(f=>{const g=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||u+"";s(new Ec(ov(f),u,g))}).catch(()=>{const f=u+"",g=d.statusText||`HTTP ${u} error`;s(new Ec(g,u,f))});else{const f=u+"",g=d.statusText||`HTTP ${u} error`;s(new Ec(g,u,f))}}else s(new Jy(ov(i),i))}),r2=(i,s,n,o)=>{const u={method:i,headers:(s==null?void 0:s.headers)||{}};return o?(Zy(o)?(u.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),u.body=JSON.stringify(o)):u.body=o,Object.assign(Object.assign({},u),n)):u};function l2(i,s,n,o,u,d){return te(this,void 0,void 0,function*(){return new Promise((f,g)=>{i(n,r2(s,o,u,d)).then(m=>{if(!m.ok)throw m;if(o!=null&&o.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>i2(m,g,o))})})}function hs(i,s,n,o,u){return te(this,void 0,void 0,function*(){return l2(i,"POST",s,o,u,n)})}class Wy{constructor(s,n={},o){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gf),n),this.fetch=Fc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(s){return te(this,void 0,void 0,function*(){try{return{data:(yield hs(this.fetch,`${this.url}/CreateIndex`,s,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}getIndex(s,n){return te(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ts(o))return{data:null,error:o};throw o}})}listIndexes(s){return te(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/ListIndexes`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}deleteIndex(s,n){return te(this,void 0,void 0,function*(){try{return{data:(yield hs(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ts(o))return{data:null,error:o};throw o}})}}class ex{constructor(s,n={},o){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gf),n),this.fetch=Fc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(s){return te(this,void 0,void 0,function*(){try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield hs(this.fetch,`${this.url}/PutVectors`,s,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}getVectors(s){return te(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/GetVectors`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}listVectors(s){return te(this,void 0,void 0,function*(){try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:yield hs(this.fetch,`${this.url}/ListVectors`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}queryVectors(s){return te(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/QueryVectors`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}deleteVectors(s){return te(this,void 0,void 0,function*(){try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield hs(this.fetch,`${this.url}/DeleteVectors`,s,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}}class tx{constructor(s,n={},o){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gf),n),this.fetch=Fc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(s){return te(this,void 0,void 0,function*(){try{return{data:(yield hs(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}getBucket(s){return te(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:s},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}listBuckets(){return te(this,arguments,void 0,function*(s={}){try{return{data:yield hs(this.fetch,`${this.url}/ListVectorBuckets`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}deleteBucket(s){return te(this,void 0,void 0,function*(){try{return{data:(yield hs(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ts(n))return{data:null,error:n};throw n}})}}class sx extends tx{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new ax(this.url,this.headers,s,this.fetch)}createBucket(s){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return te(this,void 0,void 0,function*(){return n.createBucket.call(this,s)})}getBucket(s){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return te(this,void 0,void 0,function*(){return n.getBucket.call(this,s)})}listBuckets(){const s=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return te(this,arguments,void 0,function*(n={}){return s.listBuckets.call(this,n)})}deleteBucket(s){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return te(this,void 0,void 0,function*(){return n.deleteBucket.call(this,s)})}}class ax extends Wy{constructor(s,n,o,u){super(s,n,u),this.vectorBucketName=o}createIndex(s){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const s=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(n={}){return s.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(s){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,s)})}deleteIndex(s){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,s)})}index(s){return new nx(this.url,this.headers,this.vectorBucketName,s,this.fetch)}}class nx extends ex{constructor(s,n,o,u,d){super(s,n,d),this.vectorBucketName=o,this.indexName=u}putVectors(s){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(s){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const s=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(n={}){return s.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(s){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(s){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class o2 extends XS{constructor(s,n={},o,u){super(s,n,o,u)}from(s){return new KS(this.url,this.headers,s,this.fetch)}get vectors(){return new sx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Yy(this.url+"/iceberg",this.headers,this.fetch)}}const c2=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Yy,StorageApiError:Qy,StorageClient:o2,StorageError:Ml,StorageUnknownError:qc,StorageVectorsApiError:Ec,StorageVectorsClient:sx,StorageVectorsError:pf,get StorageVectorsErrorCode(){return Yh},StorageVectorsUnknownError:Jy,VectorBucketApi:tx,VectorBucketScope:ax,VectorDataApi:ex,VectorIndexApi:Wy,VectorIndexScope:nx,isPlainObject:Zy,isStorageError:We,isStorageVectorsError:ts,normalizeToFloat32:a2,resolveFetch:Fc,resolveResponse:s2,validateVectorDimension:n2},Symbol.toStringTag,{value:"Module"})),u2=Dl(c2);var xh={},pl={},cv;function d2(){return cv||(cv=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.version=void 0,pl.version="2.87.1"),pl}var uv;function h2(){return uv||(uv=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const s=d2();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${s.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(xh)),xh}var bh={},dv;function f2(){return dv||(dv=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const s=u=>u?(...d)=>u(...d):(...d)=>fetch(...d);i.resolveFetch=s;const n=()=>Headers;i.resolveHeadersConstructor=n;const o=(u,d,f)=>{const g=(0,i.resolveFetch)(f),m=(0,i.resolveHeadersConstructor)();return async(v,y)=>{var b;const w=(b=await d())!==null&&b!==void 0?b:u;let _=new m(y==null?void 0:y.headers);return _.has("apikey")||_.set("apikey",u),_.has("Authorization")||_.set("Authorization",`Bearer ${w}`),g(v,Object.assign(Object.assign({},y),{headers:_}))}};i.fetchWithAuth=o})(bh)),bh}var xa={},hv;function m2(){if(hv)return xa;hv=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.isBrowser=void 0,xa.uuid=i,xa.ensureTrailingSlash=s,xa.applySettingDefaults=o,xa.validateSupabaseUrl=u;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var f=Math.random()*16|0,g=d=="x"?f:f&3|8;return g.toString(16)})}function s(d){return d.endsWith("/")?d:d+"/"}const n=()=>typeof window<"u";xa.isBrowser=n;function o(d,f){var g,m;const{db:v,auth:y,realtime:b,global:w}=d,{db:_,auth:k,realtime:E,global:j}=f,z={db:Object.assign(Object.assign({},_),v),auth:Object.assign(Object.assign({},k),y),realtime:Object.assign(Object.assign({},E),b),storage:{},global:Object.assign(Object.assign(Object.assign({},j),w),{headers:Object.assign(Object.assign({},(g=j==null?void 0:j.headers)!==null&&g!==void 0?g:{}),(m=w==null?void 0:w.headers)!==null&&m!==void 0?m:{})}),accessToken:async()=>""};return d.accessToken?z.accessToken=d.accessToken:delete z.accessToken,z}function u(d){const f=d==null?void 0:d.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(s(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return xa}var vl={};const ix="2.87.1",Gi=30*1e3,Jh=3,wh=Jh*Gi,g2="http://localhost:9999",p2="supabase.auth.token",v2={"X-Client-Info":`gotrue-js/${ix}`},Zh="X-Supabase-Api-Version",rx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x2=600*1e3;let hr=class extends Error{constructor(s,n,o){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}};function ae(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let lx=class extends hr{constructor(s,n,o){super(s,n,o),this.name="AuthApiError",this.status=n,this.code=o}};function ox(i){return ae(i)&&i.name==="AuthApiError"}let tn=class extends hr{constructor(s,n){super(s),this.name="AuthUnknownError",this.originalError=n}},Ta=class extends hr{constructor(s,n,o,u){super(s,o,u),this.name=n,this.status=o}},Jt=class extends Ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function cx(i){return ae(i)&&i.name==="AuthSessionMissingError"}let zn=class extends Ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},wl=class extends Ta{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}},_l=class extends Ta{constructor(s,n=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ux(i){return ae(i)&&i.name==="AuthImplicitGrantRedirectError"}let Wh=class extends Ta{constructor(s,n=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Lc=class extends Ta{constructor(s,n){super(s,"AuthRetryableFetchError",n,void 0)}};function Tc(i){return ae(i)&&i.name==="AuthRetryableFetchError"}let ef=class extends Ta{constructor(s,n,o){super(s,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}};function b2(i){return ae(i)&&i.name==="AuthWeakPasswordError"}let Bc=class extends Ta{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}};const Hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fv=` 	
\r=`.split(""),w2=(()=>{const i=new Array(128);for(let s=0;s<i.length;s+=1)i[s]=-1;for(let s=0;s<fv.length;s+=1)i[fv[s].charCodeAt(0)]=-2;for(let s=0;s<Hc.length;s+=1)i[Hc[s].charCodeAt(0)]=s;return i})();function mv(i,s,n){if(i!==null)for(s.queue=s.queue<<8|i,s.queuedBits+=8;s.queuedBits>=6;){const o=s.queue>>s.queuedBits-6&63;n(Hc[o]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const o=s.queue>>s.queuedBits-6&63;n(Hc[o]),s.queuedBits-=6}}function dx(i,s,n){const o=w2[i];if(o>-1)for(s.queue=s.queue<<6|o,s.queuedBits+=6;s.queuedBits>=8;)n(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function gv(i){const s=[],n=f=>{s.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{S2(f,o,n)};for(let f=0;f<i.length;f+=1)dx(i.charCodeAt(f),u,d);return s.join("")}function _2(i,s){if(i<=127){s(i);return}else if(i<=2047){s(192|i>>6),s(128|i&63);return}else if(i<=65535){s(224|i>>12),s(128|i>>6&63),s(128|i&63);return}else if(i<=1114111){s(240|i>>18),s(128|i>>12&63),s(128|i>>6&63),s(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function j2(i,s){for(let n=0;n<i.length;n+=1){let o=i.charCodeAt(n);if(o>55295&&o<=56319){const u=(o-55296)*1024&65535;o=(i.charCodeAt(n+1)-56320&65535|u)+65536,n+=1}_2(o,s)}}function S2(i,s,n){if(s.utf8seq===0){if(i<=127){n(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){s.utf8seq=o;break}if(s.utf8seq===2)s.codepoint=i&31;else if(s.utf8seq===3)s.codepoint=i&15;else if(s.utf8seq===4)s.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|i&63,s.utf8seq-=1,s.utf8seq===0&&n(s.codepoint)}}function Ji(i){const s=[],n={queue:0,queuedBits:0},o=u=>{s.push(u)};for(let u=0;u<i.length;u+=1)dx(i.charCodeAt(u),n,o);return new Uint8Array(s)}function N2(i){const s=[];return j2(i,n=>s.push(n)),new Uint8Array(s)}function In(i){const s=[],n={queue:0,queuedBits:0},o=u=>{s.push(u)};return i.forEach(u=>mv(u,n,o)),mv(null,n,o),s.join("")}function E2(i){return Math.round(Date.now()/1e3)+i}function T2(){return Symbol("auth-callback")}const Ct=()=>typeof window<"u"&&typeof document<"u",Un={tested:!1,writable:!1},hx=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Un.tested)return Un.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Un.tested=!0,Un.writable=!0}catch{Un.tested=!0,Un.writable=!1}return Un.writable};function A2(i){const s={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((u,d)=>{s[d]=u})}catch{}return n.searchParams.forEach((o,u)=>{s[u]=o}),s}const fx=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),k2=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Pi=async(i,s,n)=>{await i.setItem(s,JSON.stringify(n))},Mn=async(i,s)=>{const n=await i.getItem(s);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kt=async(i,s)=>{await i.removeItem(s)};class Kc{constructor(){this.promise=new Kc.promiseConstructor((s,n)=>{this.resolve=s,this.reject=n})}}Kc.promiseConstructor=Promise;function _h(i){const s=i.split(".");if(s.length!==3)throw new Bc("Invalid JWT structure");for(let o=0;o<s.length;o++)if(!y2.test(s[o]))throw new Bc("JWT not in base64url format");return{header:JSON.parse(gv(s[0])),payload:JSON.parse(gv(s[1])),signature:Ji(s[2]),raw:{header:s[0],payload:s[1]}}}async function C2(i){return await new Promise(s=>{setTimeout(()=>s(null),i)})}function O2(i,s){return new Promise((o,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await i(d);if(!s(d,null,f)){o(f);return}}catch(f){if(!s(d,f)){u(f);return}}})()})}function R2(i){return("0"+i.toString(16)).substr(-2)}function D2(){const s=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let u="";for(let d=0;d<56;d++)u+=n.charAt(Math.floor(Math.random()*o));return u}return crypto.getRandomValues(s),Array.from(s,R2).join("")}async function U2(i){const n=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",n),u=new Uint8Array(o);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function M2(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await U2(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hi(i,s,n=!1){const o=D2();let u=o;n&&(u+="/PASSWORD_RECOVERY"),await Pi(i,`${s}-code-verifier`,u);const d=await M2(o);return[d,o===d?"plain":"s256"]}const z2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q2(i){const s=i.headers.get(Zh);if(!s||!s.match(z2))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function L2(i){if(!i)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(i<=s)throw new Error("JWT has expired")}function B2(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $i(i){if(!H2.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jh(){const i={};return new Proxy(i,{get:(s,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $2(i,s){return new Proxy(i,{get:(n,o,u)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const d=o.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,u)}return!s.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(n,o,u)}})}function pv(i){return JSON.parse(JSON.stringify(i))}const qn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),I2=[502,503,504];async function vv(i){var s;if(!k2(i))throw new Lc(qn(i),0);if(I2.includes(i.status))throw new Lc(qn(i),i.status);let n;try{n=await i.json()}catch(d){throw new tn(qn(d),d)}let o;const u=q2(i);if(u&&u.getTime()>=rx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new ef(qn(n),i.status,((s=n.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(o==="session_not_found")throw new Jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new ef(qn(n),i.status,n.weak_password.reasons);throw new lx(qn(n),i.status||500,o)}const V2=(i,s,n,o)=>{const u={method:i,headers:(s==null?void 0:s.headers)||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),u.body=JSON.stringify(o),Object.assign(Object.assign({},u),n))};async function ce(i,s,n,o){var u;const d=Object.assign({},o==null?void 0:o.headers);d[Zh]||(d[Zh]=rx["2024-01-01"].name),o!=null&&o.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(u=o==null?void 0:o.query)!==null&&u!==void 0?u:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await G2(i,s,n+g,{headers:d,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function G2(i,s,n,o,u,d){const f=V2(s,o,u,d);let g;try{g=await i(n,Object.assign({},f))}catch(m){throw console.error(m),new Lc(qn(m),0)}if(g.ok||await vv(g),o!=null&&o.noResolveJson)return g;try{return await g.json()}catch(m){await vv(m)}}function Rs(i){var s;let n=null;F2(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=E2(i.expires_in)));const o=(s=i.user)!==null&&s!==void 0?s:i;return{data:{session:n,user:o},error:null}}function yv(i){const s=Rs(i);return!s.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(s.data.weak_password=i.weak_password),s}function sn(i){var s;return{data:{user:(s=i.user)!==null&&s!==void 0?s:i},error:null}}function P2(i){return{data:i,error:null}}function Q2(i){const{action_link:s,email_otp:n,hashed_token:o,redirect_to:u,verification_type:d}=i,f=Vc(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:s,email_otp:n,hashed_token:o,redirect_to:u,verification_type:d},m=Object.assign({},f);return{data:{properties:g,user:m},error:null}}function xv(i){return i}function F2(i){return i.access_token&&i.refresh_token&&i.expires_in}const Ac=["global","local","others"];let vf=class{constructor({url:s="",headers:n={},fetch:o}){this.url=s,this.headers=n,this.fetch=fx(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,n=Ac[0]){if(Ac.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ac.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ae(o))return{data:null,error:o};throw o}}async inviteUserByEmail(s,n={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:sn})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async generateLink(s){try{const{options:n}=s,o=Vc(s,["options"]),u=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(u.new_email=o==null?void 0:o.newEmail,delete u.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Q2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(s){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:sn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(s){var n,o,u,d,f,g,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=s==null?void 0:s.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(d=(u=s==null?void 0:s.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:xv});if(y.error)throw y.error;const b=await y.json(),w=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(m=(g=y.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);v[`${j}Page`]=E}),v.total=parseInt(w)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(ae(v))return{data:{users:[]},error:v};throw v}}async getUserById(s){$i(s);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:sn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(s,n){$i(s);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:n,headers:this.headers,xform:sn})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async deleteUser(s,n=!1){$i(s);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:n},xform:sn})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async _listFactors(s){$i(s.userId);try{const{data:n,error:o}=await ce(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:n,error:o}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(s){$i(s.userId),$i(s.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(s){var n,o,u,d,f,g,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=s==null?void 0:s.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(d=(u=s==null?void 0:s.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:xv});if(y.error)throw y.error;const b=await y.json(),w=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(m=(g=y.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);v[`${j}Page`]=E}),v.total=parseInt(w)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(ae(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(s){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(s){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(s,n){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(s){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(s){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}};function bv(i={}){return{getItem:s=>i[s]||null,setItem:(s,n)=>{i[s]=n},removeItem:s=>{delete i[s]}}}const Ln={debug:!!(globalThis&&hx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yf extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}let mx=class extends yf{};class K2 extends yf{}async function gx(i,s,n){Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,s);const o=new globalThis.AbortController;return s>0&&setTimeout(()=>{o.abort(),Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async u=>{if(u){Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await n()}finally{Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(s===0)throw Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new mx(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ln.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const wv={};async function X2(i,s,n){var o;const u=(o=wv[i])!==null&&o!==void 0?o:Promise.resolve(),d=Promise.race([u.catch(()=>null),s>=0?new Promise((f,g)=>{setTimeout(()=>{g(new K2(`Acquring process lock with name "${i}" timed out`))},s)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await n());return wv[i]=d.catch(async f=>{if(f&&f.isAcquireTimeout)return await u,null;throw f}),await d}function Y2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function px(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function J2(i){return parseInt(i,16)}function Z2(i){const s=new TextEncoder().encode(i);return"0x"+Array.from(s,o=>o.toString(16).padStart(2,"0")).join("")}function W2(i){var s;const{chainId:n,domain:o,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:g,requestId:m,resources:v,scheme:y,uri:b,version:w}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((s=i.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=px(i.address),k=y?`${y}://${o}`:o,E=i.statement?`${i.statement}
`:"",j=`${k} wants you to sign in with your Ethereum account:
${_}

${E}`;let z=`URI: ${b}
Version: ${w}
Chain ID: ${n}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(z+=`
Expiration Time: ${u.toISOString()}`),g&&(z+=`
Not Before: ${g.toISOString()}`),m&&(z+=`
Request ID: ${m}`),v){let O=`
Resources:`;for(const T of v){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);O+=`
- ${T}`}z+=O}return`${j}
${z}`}class mt extends Error{constructor({message:s,code:n,cause:o,name:u}){var d;super(s,{cause:o}),this.__isWebAuthnError=!0,this.name=(d=u??(o instanceof Error?o.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=n}}class $c extends mt{constructor(s,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:s}),this.name="WebAuthnUnknownError",this.originalError=n}}function eN({error:i,options:s}){var n,o,u;const{publicKey:d}=s;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=d.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(s.mediation==="conditional"&&((o=d.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new mt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(vx(f)){if(d.rp.id!==f)return new mt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function tN({error:i,options:s}){const{publicKey:n}=s;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new mt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(vx(o)){if(n.rpId!==o)return new mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class sN{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const aN=new sN;function nN(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:s,user:n,excludeCredentials:o}=i,u=Vc(i,["challenge","user","excludeCredentials"]),d=Ji(s).buffer,f=Object.assign(Object.assign({},n),{id:Ji(n.id).buffer}),g=Object.assign(Object.assign({},u),{challenge:d,user:f});if(o&&o.length>0){g.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const v=o[m];g.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Ji(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return g}function iN(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:s,allowCredentials:n}=i,o=Vc(i,["challenge","allowCredentials"]),u=Ji(s).buffer,d=Object.assign(Object.assign({},o),{challenge:u});if(n&&n.length>0){d.allowCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const g=n[f];d.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Ji(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function rN(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:In(new Uint8Array(i.response.attestationObject)),clientDataJSON:In(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function lN(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,o=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:In(new Uint8Array(u.authenticatorData)),clientDataJSON:In(new Uint8Array(u.clientDataJSON)),signature:In(new Uint8Array(u.signature)),userHandle:u.userHandle?In(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function vx(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function _v(){var i,s;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.get)=="function")}async function oN(i){try{const s=await navigator.credentials.create(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new $c("Browser returned unexpected credential type",s)}:{data:null,error:new $c("Empty credential response",s)}}catch(s){return{data:null,error:eN({error:s,options:i})}}}async function cN(i){try{const s=await navigator.credentials.get(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new $c("Browser returned unexpected credential type",s)}:{data:null,error:new $c("Empty credential response",s)}}catch(s){return{data:null,error:tN({error:s,options:i})}}}const uN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ic(...i){const s=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),n=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),o={};for(const u of i)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))o[d]=f;else if(n(f))o[d]=f;else if(s(f)){const g=o[d];s(g)?o[d]=Ic(g,f):o[d]=Ic(f)}else o[d]=f}return o}function hN(i,s){return Ic(uN,i,s||{})}function fN(i,s){return Ic(dN,i,s||{})}class mN{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:n,friendlyName:o,signal:u},d){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:s,webauthn:n});if(!f)return{data:null,error:g};const m=u??aN.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:v}=f.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${o}`),v.displayName||(v.displayName=v.name)}switch(f.webauthn.type){case"create":{const v=hN(f.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:y,error:b}=await oN({publicKey:v,signal:m});return y?{data:{factorId:s,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const v=fN(f.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:y,error:b}=await cN(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:v,signal:m}));return y?{data:{factorId:s,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new tn("Unexpected error in challenge",f)}}}async _verify({challengeId:s,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:s,webauthn:o})}async _authenticate({factorId:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!n)return{data:null,error:new hr("rpId is required for WebAuthn authentication")};try{if(!_v())return{data:null,error:new tn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:s,webauthn:{rpId:n,rpOrigins:o},signal:u},{request:d});if(!f)return{data:null,error:g};const{webauthn:m}=f;return this._verify({factorId:s,challengeId:f.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new tn("Unexpected error in authenticate",f)}}}async _register({friendlyName:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!n)return{data:null,error:new hr("rpId is required for WebAuthn registration")};try{if(!_v())return{data:null,error:new tn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:s});if(!f)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===s&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:g};const{data:m,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:u},{create:d});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new tn("Unexpected error in register",f)}}}}Y2();const gN={url:g2,storageKey:p2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jv(i,s,n){return await n()}const Ii={};let xf=class tf{get jwks(){var s,n;return(n=(s=Ii[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(s){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,n;return(n=(s=Ii[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{cachedAt:s})}constructor(s){var n,o,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},gN),s);if(this.storageKey=d.storageKey,this.instanceID=(n=tf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,tf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&Ct()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new vf({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=fx(d.fetch),this.lock=d.lock||jv,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&Ct()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=gx:this.lock=jv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:hx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bv(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=bv(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ix}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let n={},o="none";if(Ct()&&(n=A2(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Ct()&&this.detectSessionInUrl&&o!=="none"){const{data:u,error:d}=await this._getSessionFromURL(n,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),ux(d)){const m=(s=d.details)===null||s===void 0?void 0:s.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new tn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var n,o,u;try{const d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=s==null?void 0:s.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(u=s==null?void 0:s.options)===null||u===void 0?void 0:u.captchaToken}},xform:Rs}),{data:f,error:g}=d;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(d){if(ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(s){var n,o,u;try{let d;if("email"in s){const{email:y,password:b,options:w}=s;let _=null,k=null;this.flowType==="pkce"&&([_,k]=await Hi(this.storage,this.storageKey)),d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:b,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:_,code_challenge_method:k},xform:Rs})}else if("phone"in s){const{phone:y,password:b,options:w}=s;d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(o=w==null?void 0:w.data)!==null&&o!==void 0?o:{},channel:(u=w==null?void 0:w.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Rs})}else throw new wl("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return await kt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(d){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(s){try{let n;if("email"in s){const{email:d,password:f,options:g}=s;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:yv})}else if("phone"in s){const{phone:d,password:f,options:g}=s;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:yv})}else throw new wl("You must provide either an email or phone number and a password");const{data:o,error:u}=n;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const d=new zn;return this._returnResult({data:{user:null,session:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:u})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(s){var n,o,u,d;return await this._handleProviderSignIn(s.provider,{redirectTo:(n=s.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=s.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=s.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=s.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:n}=s;switch(n){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(s){var n,o,u,d,f,g,m,v,y,b,w;let _,k;if("message"in s)_=s.message,k=s.signature;else{const{chain:E,wallet:j,statement:z,options:O}=s;let T;if(Ct())if(typeof j=="object")T=j;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")T=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=j}const R=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),Q=await T.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Q||Q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=px(Q[0]);let J=(o=O==null?void 0:O.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!J){const he=await T.request({method:"eth_chainId"});J=J2(he)}const P={domain:R.host,address:X,statement:z,uri:R.href,version:"1",chainId:J,nonce:(u=O==null?void 0:O.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=O==null?void 0:O.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=O==null?void 0:O.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=O==null?void 0:O.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=O==null?void 0:O.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=W2(P),k=await T.request({method:"personal_sign",params:[Z2(_),X]})}try{const{data:E,error:j}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:k},!((b=s.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=s.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Rs});if(j)throw j;if(!E||!E.session||!E.user){const z=new zn;return this._returnResult({data:{user:null,session:null},error:z})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:j})}catch(E){if(ae(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(s){var n,o,u,d,f,g,m,v,y,b,w,_;let k,E;if("message"in s)k=s.message,E=s.signature;else{const{chain:j,wallet:z,statement:O,options:T}=s;let R;if(Ct())if(typeof z=="object")R=z;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))R=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=z}const Q=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const X=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),O?{statement:O}:null));let J;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")J=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)J=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)k=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),E=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${Q.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(u=(o=T==null?void 0:T.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((f=T==null?void 0:T.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((g=T==null?void 0:T.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((m=T==null?void 0:T.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((v=T==null?void 0:T.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((b=(y=T==null?void 0:T.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...T.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const X=await R.signMessage(new TextEncoder().encode(k),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=X}}try{const{data:j,error:z}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:In(E)},!((w=s.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=s.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Rs});if(z)throw z;if(!j||!j.session||!j.user){const O=new zn;return this._returnResult({data:{user:null,session:null},error:O})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:z})}catch(j){if(ae(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(s){const n=await Mn(this.storage,`${this.storageKey}-code-verifier`),[o,u]=(n??"").split("/");try{const{data:d,error:f}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:o},xform:Rs});if(await kt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const g=new zn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(s){try{const{options:n,provider:o,token:u,access_token:d,nonce:f}=s,g=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rs}),{data:m,error:v}=g;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const y=new zn;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(s){var n,o,u,d,f;try{if("email"in s){const{email:g,options:m}=s;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Hi(this.storage,this.storageKey));const{error:b}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in s){const{phone:g,options:m}=s,{data:v,error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=m==null?void 0:m.data)!==null&&u!==void 0?u:{},create_user:(d=m==null?void 0:m.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(f=m==null?void 0:m.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y})}throw new wl("You must provide either an email or phone number.")}catch(g){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(s){var n,o;try{let u,d;"options"in s&&(u=(n=s.options)===null||n===void 0?void 0:n.redirectTo,d=(o=s.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:g}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Rs});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,v=f.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(s){var n,o,u,d,f;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Hi(this.storage,this.storageKey));const v=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(o=(n=s.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((u=s==null?void 0:s.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:P2});return!((d=v.data)===null||d===void 0)&&d.url&&Ct()&&!(!((f=s.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(g){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:n},error:o}=s;if(o)throw o;if(!n)throw new Jt;const{error:u}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const n=`${this.url}/resend`;if("email"in s){const{email:o,type:u,options:d}=s,{error:f}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in s){const{phone:o,type:u,options:d}=s,{data:f,error:g}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new wl("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(s,n){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await s(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const n=await Mn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?s=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const o=s.expires_at?s.expires_at*1e3-Date.now()<wh:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",s.expires_at),!o){if(this.userStorage){const f=await Mn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?s.user=f.user:s.user=jh()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};s.user=$2(s.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:u,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){if(s)return await this._getUser(s);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(s){try{return s?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:sn}):await this._useSession(async n=>{var o,u,d;const{data:f,error:g}=n;if(g)throw g;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:sn})})}catch(n){if(ae(n))return cx(n)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(s,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,n))}async _updateUser(s,n={}){try{return await this._useSession(async o=>{const{data:u,error:d}=o;if(d)throw d;if(!u.session)throw new Jt;const f=u.session;let g=null,m=null;this.flowType==="pkce"&&s.email!=null&&([g,m]=await Hi(this.storage,this.storageKey));const{data:v,error:y}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:g,code_challenge_method:m}),jwt:f.access_token,xform:sn});if(y)throw y;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Jt;const n=Date.now()/1e3;let o=n,u=!0,d=null;const{payload:f}=_h(s.access_token);if(f.exp&&(o=f.exp,u=o<=n),u){const{data:g,error:m}=await this._callRefreshToken(s.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:m}=await this._getUser(s.access_token);if(m)throw m;d={access_token:s.access_token,refresh_token:s.refresh_token,user:g.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async n=>{var o;if(!s){const{data:f,error:g}=n;if(g)throw g;s=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(s!=null&&s.refresh_token))throw new Jt;const{data:u,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(s,n){try{if(!Ct())throw new _l("No browser detected.");if(s.error||s.error_description||s.error_code)throw new _l(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _l("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new Wh("No code detected.");const{data:O,error:T}=await this._exchangeCodeForSession(s.code);if(T)throw T;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:g,expires_at:m,token_type:v}=s;if(!d||!g||!f||!v)throw new _l("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(g);let w=y+b;m&&(w=parseInt(m));const _=w-y;_*1e3<=Gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const k=w-b;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,y);const{data:E,error:j}=await this._getUser(d);if(j)throw j;const z={provider_token:o,provider_refresh_token:u,access_token:d,expires_in:b,expires_at:w,refresh_token:f,token_type:v,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:s.type},error:null})}catch(o){if(ae(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const n=await Mn(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&n)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:u,error:d}=n;if(d)return this._returnResult({error:d});const f=(o=u.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:g}=await this.admin.signOut(f,s);if(g&&!(ox(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return s!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const n=T2(),o={id:n,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(s){return await this._useSession(async n=>{var o,u;try{const{data:{session:d},error:f}=n;if(f)throw f;await((o=this.stateChangeEmitters.get(s))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",s,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(s))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",d),console.error(d)}})}async resetPasswordForEmail(s,n={}){let o=null,u=null;this.flowType==="pkce"&&([o,u]=await Hi(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:o,code_challenge_method:u,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var s;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(s=n.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var n;try{const{data:o,error:u}=await this._useSession(async d=>{var f,g,m,v,y;const{data:b,error:w}=d;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(f=s.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=s.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=s.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return Ct()&&!(!((n=s.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:s.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(ae(o))return this._returnResult({data:{provider:s.provider,url:null},error:o});throw o}}async linkIdentityIdToken(s){return await this._useSession(async n=>{var o;try{const{error:u,data:{session:d}}=n;if(u)throw u;const{options:f,provider:g,token:m,access_token:v,nonce:y}=s,b=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=d==null?void 0:d.access_token)!==null&&o!==void 0?o:void 0,body:{provider:g,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Rs}),{data:w,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new zn}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(u){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(s){try{return await this._useSession(async n=>{var o,u;const{data:d,error:f}=n;if(f)throw f;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(s){const n=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await O2(async u=>(u>0&&await C2(200*Math.pow(2,u-1)),this._debug(n,"refreshing attempt",u),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Rs})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Tc(d)&&Date.now()+f-o<Gi})}catch(o){if(this._debug(n,"error",o),ae(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",n,"url",o),Ct()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:s,url:o},error:null}}async _recoverAndRefresh(){var s,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const u=await Mn(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Mn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Pi(this.userStorage,this.storageKey+"-user",f)),u.user=(s=f==null?void 0:f.user)!==null&&s!==void 0?s:jh()}else if(u&&!u.user&&!u.user){const f=await Mn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(u.user=f.user,await kt(this.storage,this.storageKey+"-user"),await Pi(this.storage,this.storageKey,u)):u.user=jh()}if(this._debug(o,"session from storage",u),!this._isValidSession(u)){this._debug(o,"session is not valid"),u!==null&&await this._removeSession();return}const d=((n=u.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<wh;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${wh}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Tc(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(u.access_token);!g&&(f!=null&&f.user)?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(o,"error",u),console.error(u);return}finally{this._debug(o,"end")}}async _callRefreshToken(s){var n,o;if(!s)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Kc;const{data:d,error:f}=await this._refreshAccessToken(s);if(f)throw f;if(!d.session)throw new Jt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(u,"error",d),ae(d)){const f={data:null,error:d};return Tc(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(s,n,o=!0){const u=`#_notifyAllSubscribers(${s})`;this._debug(u,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:s,session:n});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(s,n)}catch(m){d.push(m)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await kt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},s),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Pi(this.userStorage,this.storageKey+"-user",{user:n.user});const u=Object.assign({},n);delete u.user;const d=pv(u);await Pi(this.storage,this.storageKey,d)}else{const u=pv(n);await Pi(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Gi);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((o.expires_at*1e3-s)/Gi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Gi}ms, refresh threshold is ${Jh} ticks`),u<=Jh&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof yf)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const n=`#_onVisibilityChanged(${s})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,n,o){const u=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&u.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&u.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await Hi(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(g.toString())}if(o!=null&&o.queryParams){const d=new URLSearchParams(o.queryParams);u.push(d.toString())}return o!=null&&o.skipBrowserRedirect&&u.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${s}?${u.join("&")}`}async _unenroll(s){try{return await this._useSession(async n=>{var o;const{data:u,error:d}=n;return d?this._returnResult({data:null,error:d}):await ce(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(s){try{return await this._useSession(async n=>{var o,u;const{data:d,error:f}=n;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:m,error:v}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(s.factorType==="totp"&&m.type==="totp"&&(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?rN(s.webauthn.credential_response):lN(s.webauthn.credential_response)})}:{code:s.code}),{data:g,error:m}=await ce(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const f=await ce(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:nN(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:iN(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(s){const{data:n,error:o}=await this._challenge({factorId:s.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:s.factorId,challengeId:n.id,code:s.code})}async _listFactors(){var s;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(s=n==null?void 0:n.factors)!==null&&s!==void 0?s:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var s,n;const{data:{session:o},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=_h(o.access_token);let f=null;d.aal&&(f=d.aal);let g=f;((n=(s=o.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async n=>{const{data:{session:o},error:u}=n;return u?this._returnResult({data:null,error:u}):o?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(s,n){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Jt});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&Ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(ae(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(s,n){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Jt});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&Ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(o){if(ae(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:n},error:o}=s;return o?this._returnResult({data:null,error:o}):n?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async n=>{const{data:{session:o},error:u}=n;return u?this._returnResult({data:null,error:u}):o?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(s,n={keys:[]}){let o=n.keys.find(g=>g.kid===s);if(o)return o;const u=Date.now();if(o=this.jwks.keys.find(g=>g.kid===s),o&&this.jwks_cached_at+x2>u)return o;const{data:d,error:f}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,o=d.keys.find(g=>g.kid===s),!o)?null:o}async getClaims(s,n={}){try{let o=s;if(!o){const{data:_,error:k}=await this.getSession();if(k||!_.session)return this._returnResult({data:null,error:k});o=_.session.access_token}const{header:u,payload:d,signature:f,raw:{header:g,payload:m}}=_h(o);n!=null&&n.allowExpired||L2(d.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!v){const{error:_}=await this.getUser(o);if(_)throw _;return{data:{claims:d,header:u,signature:f},error:null}}const y=B2(u.alg),b=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,f,N2(`${g}.${m}`)))throw new Bc("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(o){if(ae(o))return this._returnResult({data:null,error:o});throw o}}};xf.nextInstanceID={};const pN=vf,vN=xf,yN=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:pN,AuthApiError:lx,AuthClient:vN,AuthError:hr,AuthImplicitGrantRedirectError:_l,AuthInvalidCredentialsError:wl,AuthInvalidJwtError:Bc,AuthInvalidTokenResponseError:zn,AuthPKCEGrantCodeExchangeError:Wh,AuthRetryableFetchError:Lc,AuthSessionMissingError:Jt,AuthUnknownError:tn,AuthWeakPasswordError:ef,CustomAuthError:Ta,GoTrueAdminApi:vf,GoTrueClient:xf,NavigatorLockAcquireTimeoutError:mx,SIGN_OUT_SCOPES:Ac,isAuthApiError:ox,isAuthError:ae,isAuthImplicitGrantRedirectError:ux,isAuthRetryableFetchError:Tc,isAuthSessionMissingError:cx,isAuthWeakPasswordError:b2,lockInternals:Ln,navigatorLock:gx,processLock:X2},Symbol.toStringTag,{value:"Module"})),yx=Dl(yN);var Sv;function xN(){if(Sv)return vl;Sv=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.SupabaseAuthClient=void 0;const i=yx;let s=class extends i.AuthClient{constructor(o){super(o)}};return vl.SupabaseAuthClient=s,vl}var Nv;function Ev(){if(Nv)return fc;Nv=1,Object.defineProperty(fc,"__esModule",{value:!0});const i=Oy,s=qy(),n=Py,o=u2,u=h2(),d=f2(),f=m2(),g=xN();class m{constructor(y,b,w){var _,k,E;this.supabaseUrl=y,this.supabaseKey=b;const j=(0,f.validateSupabaseUrl)(y);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",j),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",j),this.storageUrl=new URL("storage/v1",j),this.functionsUrl=new URL("functions/v1",j);const z=`sb-${j.hostname.split(".")[0]}-auth-token`,O={db:u.DEFAULT_DB_OPTIONS,realtime:u.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},u.DEFAULT_AUTH_OPTIONS),{storageKey:z}),global:u.DEFAULT_GLOBAL_OPTIONS},T=(0,f.applySettingDefaults)(w??{},O);this.storageKey=(_=T.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(k=T.global.headers)!==null&&k!==void 0?k:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(R,Q)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Q)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=T.auth)!==null&&E!==void 0?E:{},this.headers,T.global.fetch),this.fetch=(0,d.fetchWithAuth)(b,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(R=>this.realtime.setAuth(R)).catch(R=>console.warn("Failed to set initial Realtime auth token:",R)),this.rest=new s.PostgrestClient(new URL("rest/v1",j).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new o.StorageClient(this.storageUrl.href,this.headers,this.fetch,w==null?void 0:w.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,b={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,b,w)}channel(y,b={config:{}}){return this.realtime.channel(y,b)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,b;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(b=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:b,detectSessionInUrl:w,storage:_,userStorage:k,storageKey:E,flowType:j,lock:z,debug:O,throwOnError:T},R,Q){const X={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},X),R),storageKey:E,autoRefreshToken:y,persistSession:b,detectSessionInUrl:w,storage:_,userStorage:k,flowType:j,lock:z,debug:O,throwOnError:T,fetch:Q,hasCustomAuthorizationHeader:Object.keys(this.headers).some(J=>J.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,w)=>{this._handleTokenChanged(b,"CLIENT",w==null?void 0:w.access_token)})}_handleTokenChanged(y,b,w){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return fc.default=m,fc}var Tv;function bN(){return Tv||(Tv=1,(function(i){var s=ya&&ya.__createBinding||(Object.create?(function(y,b,w,_){_===void 0&&(_=w);var k=Object.getOwnPropertyDescriptor(b,w);(!k||("get"in k?!b.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return b[w]}}),Object.defineProperty(y,_,k)}):(function(y,b,w,_){_===void 0&&(_=w),y[_]=b[w]})),n=ya&&ya.__exportStar||function(y,b){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(b,w)&&s(b,y,w)},o=ya&&ya.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const u=o(Ev());n(yx,i);var d=qy();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return d.PostgrestError}});var f=Oy;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),n(Py,i);var g=Ev();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return o(g).default}});const m=(y,b,w)=>new u.default(y,b,w);i.createClient=m;function v(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const b=y.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}v()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ya)),ya}var xx=bN();const bx=Qv(xx),wN=y_({__proto__:null,default:bx},[xx]),{PostgrestError:DE,FunctionsHttpError:UE,FunctionsFetchError:ME,FunctionsRelayError:zE,FunctionsError:qE,FunctionRegion:LE,SupabaseClient:BE,createClient:_N,GoTrueAdminApi:HE,GoTrueClient:$E,AuthAdminApi:IE,AuthClient:VE,navigatorLock:GE,NavigatorLockAcquireTimeoutError:PE,lockInternals:QE,processLock:FE,SIGN_OUT_SCOPES:KE,AuthError:XE,AuthApiError:YE,AuthUnknownError:JE,CustomAuthError:ZE,AuthSessionMissingError:WE,AuthInvalidTokenResponseError:eT,AuthInvalidCredentialsError:tT,AuthImplicitGrantRedirectError:sT,AuthPKCEGrantCodeExchangeError:aT,AuthRetryableFetchError:nT,AuthWeakPasswordError:iT,AuthInvalidJwtError:rT,isAuthError:lT,isAuthApiError:oT,isAuthSessionMissingError:cT,isAuthImplicitGrantRedirectError:uT,isAuthRetryableFetchError:dT,isAuthWeakPasswordError:hT,RealtimePresence:fT,RealtimeChannel:mT,RealtimeClient:gT,REALTIME_LISTEN_TYPES:pT,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:vT,REALTIME_PRESENCE_LISTEN_EVENTS:yT,REALTIME_SUBSCRIBE_STATES:xT,REALTIME_CHANNEL_STATES:bT}=bx||wN,jN="https://tndlbjxkdrftxbcxyawi.supabase.co",SN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRuZGxianhrZHJmdHhiY3h5YXdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0MjAyMzMsImV4cCI6MjA4MDk5NjIzM30.jYuDrthdhVBxS5jqNN8ByNAgv4zJ2afOVK9vaqQrM5A",re=_N(jN,SN,{auth:{persistSession:!0,storageKey:"supabase.auth.token",storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}});function NN(){const i=f_(),s=fr(),{toast:n}=Ls(),[o,u]=yt.useState(null),[d,f]=yt.useState(null),[g,m]=yt.useState(!1),[v,y]=yt.useState(!1);yt.useEffect(()=>{let w=!0;async function _(){const{data:E}=await re.auth.getSession();if(console.log("Header: Loading user data, session exists:",!!E.session),!w||!E.session)return;u(E.session.user.email??null);const{data:j,error:z}=await re.from("profiles").select("role").eq("id",E.session.user.id).single();console.log("Header: Profile fetch result:",{profile:j,profileError:z,userId:E.session.user.id,role:j==null?void 0:j.role}),w&&j?(f(j.role),console.log("Header: User role set to:",j.role)):z&&console.error("Header: Failed to fetch profile:",z)}_();const{data:k}=re.auth.onAuthStateChange(async(E,j)=>{var z;if(console.log("Header: Auth state changed:",E,"| Session exists:",!!j),!!w){if(E==="SIGNED_OUT"){u(null),f(null);return}if(u(((z=j==null?void 0:j.user)==null?void 0:z.email)??null),j!=null&&j.user){const{data:O,error:T}=await re.from("profiles").select("role").eq("id",j.user.id).single();console.log("Header: Profile after auth change:",{profile:O,profileError:T,userId:j.user.id,role:O==null?void 0:O.role}),w&&O?(f(O.role),console.log("Header: User role updated to:",O.role)):T&&console.error("Header: Failed to fetch profile after auth change:",T)}else f(null),console.log("Header: No session, role cleared")}});return()=>{var E;w=!1,k&&typeof((E=k.subscription)==null?void 0:E.unsubscribe)=="function"&&k.subscription.unsubscribe()}},[]);async function b(){if(v){console.log("Header: Already logging out, ignoring duplicate call");return}y(!0),console.log("Header: User clicked sign out button");const w=setTimeout(()=>{console.warn("Header: Logout timeout, forcing state reset"),y(!1)},5e3);try{m(!1),console.log("Header: Calling supabase.auth.signOut()");const{error:_}=await re.auth.signOut();if(clearTimeout(w),_){console.error("Header: Logout error:",_),n({title:"Logout Failed",description:_.message||"Unable to log out. Please try again.",variant:"destructive"}),y(!1);return}console.log("Header: Sign out successful"),u(null),f(null),y(!1),n({title:"Logged Out",description:"You have been successfully logged out."}),s("/",{replace:!0})}catch(_){clearTimeout(w),console.error("Header: Logout exception:",_),n({title:"Logout Failed",description:(_==null?void 0:_.message)||"An unexpected error occurred. Please try again.",variant:"destructive"}),y(!1)}}return l.jsx("header",{className:"bg-white shadow-sm border-b border-blue-100 sticky top-0 z-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs(vt,{to:"/",className:"flex items-center space-x-2 sm:space-x-3",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(qs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),l.jsxs("div",{className:"hidden sm:block",children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Olu Shipping"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Precision in Every Shipment"})]}),l.jsx("h1",{className:"sm:hidden text-lg font-bold text-gray-900",children:"Olu"})]}),l.jsxs("nav",{className:"hidden lg:flex items-center space-x-1",children:[l.jsx(vt,{to:"/",children:l.jsxs(K,{variant:i.pathname==="/"?"default":"ghost",className:"flex items-center space-x-2",children:[l.jsx(V0,{className:"w-4 h-4"}),l.jsx("span",{children:"Home"})]})}),l.jsx(vt,{to:"/vendor",children:l.jsxs(K,{variant:i.pathname.startsWith("/vendor")?"default":"ghost",className:"flex items-center space-x-2",children:[l.jsx(Fe,{className:"w-4 h-4"}),l.jsx("span",{children:"Vendor Portal"})]})}),l.jsx(vt,{to:"/tracking",children:l.jsxs(K,{variant:i.pathname.startsWith("/tracking")?"default":"ghost",className:"flex items-center space-x-2",children:[l.jsx(Ys,{className:"w-4 h-4"}),l.jsx("span",{children:"Track Shipment"})]})}),d==="admin"&&l.jsx(vt,{to:"/admin",children:l.jsxs(K,{variant:i.pathname.startsWith("/admin")?"default":"ghost",className:"flex items-center space-x-2",children:[l.jsx(Nl,{className:"w-4 h-4"}),l.jsx("span",{children:"Admin"})]})}),o?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(K,{variant:"ghost",className:"flex items-center space-x-2",title:o,children:[l.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:l.jsx(Fi,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"text-sm text-gray-600 max-w-[150px] truncate hidden sm:inline",children:o})]}),l.jsxs(K,{variant:"ghost",onClick:b,disabled:v,className:"flex items-center space-x-2",children:[l.jsx(G0,{className:"w-4 h-4"}),l.jsx("span",{children:v?"Logging out...":"Logout"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(vt,{to:"/login",children:l.jsxs(K,{variant:i.pathname==="/login"?"default":"ghost",className:"flex items-center space-x-2",children:[l.jsx(Dc,{className:"w-4 h-4"}),l.jsx("span",{children:"Login"})]})}),l.jsx(vt,{to:"/register",children:l.jsxs(K,{variant:i.pathname==="/register"?"default":"ghost",className:"flex items-center space-x-2",children:[l.jsx(Fi,{className:"w-4 h-4"}),l.jsx("span",{children:"Register"})]})})]})]}),l.jsx("button",{className:"lg:hidden p-2 rounded-md hover:bg-gray-100",onClick:()=>m(!g),"aria-label":"Toggle menu",children:g?l.jsx(Pc,{className:"w-6 h-6"}):l.jsx(G1,{className:"w-6 h-6"})})]}),g&&l.jsxs("div",{className:"lg:hidden border-t border-gray-200 py-4 space-y-2",children:[l.jsx(vt,{to:"/",onClick:()=>m(!1),children:l.jsxs(K,{variant:i.pathname==="/"?"default":"ghost",className:"w-full justify-start space-x-2",children:[l.jsx(V0,{className:"w-4 h-4"}),l.jsx("span",{children:"Home"})]})}),l.jsx(vt,{to:"/vendor",onClick:()=>m(!1),children:l.jsxs(K,{variant:i.pathname.startsWith("/vendor")?"default":"ghost",className:"w-full justify-start space-x-2",children:[l.jsx(Fe,{className:"w-4 h-4"}),l.jsx("span",{children:"Vendor Portal"})]})}),l.jsx(vt,{to:"/tracking",onClick:()=>m(!1),children:l.jsxs(K,{variant:i.pathname.startsWith("/tracking")?"default":"ghost",className:"w-full justify-start space-x-2",children:[l.jsx(Ys,{className:"w-4 h-4"}),l.jsx("span",{children:"Track Shipment"})]})}),d==="admin"&&l.jsx(vt,{to:"/admin",onClick:()=>m(!1),children:l.jsxs(K,{variant:i.pathname.startsWith("/admin")?"default":"ghost",className:"w-full justify-start space-x-2",children:[l.jsx(Nl,{className:"w-4 h-4"}),l.jsx("span",{children:"Admin"})]})}),l.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"px-4 py-2 flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:l.jsx(Fi,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"truncate",children:o})]}),l.jsxs(K,{variant:"ghost",onClick:b,disabled:v,className:"w-full justify-start space-x-2 mt-2",children:[l.jsx(G0,{className:"w-4 h-4"}),l.jsx("span",{children:v?"Logging out...":"Logout"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(vt,{to:"/login",onClick:()=>m(!1),children:l.jsxs(K,{variant:i.pathname==="/login"?"default":"ghost",className:"w-full justify-start space-x-2",children:[l.jsx(Dc,{className:"w-4 h-4"}),l.jsx("span",{children:"Login"})]})}),l.jsx(vt,{to:"/register",onClick:()=>m(!1),children:l.jsxs(K,{variant:i.pathname==="/register"?"default":"ghost",className:"w-full justify-start space-x-2 mt-2",children:[l.jsx(Fi,{className:"w-4 h-4"}),l.jsx("span",{children:"Register"})]})})]})})]})]})})}function EN(){return l.jsx("footer",{className:"bg-gray-900 text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(qs,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Olu Shipping Company"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Precision in Every Shipment"})]})]}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Your trusted partner for international shipping between China and global destinations. We provide reliable, efficient, and secure shipping solutions for businesses worldwide."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Services"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:"Vendor Declaration"}),l.jsx("li",{children:"Shipment Tracking"}),l.jsx("li",{children:"Document Generation"}),l.jsx("li",{children:"Email Notifications"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Info"}),l.jsxs("div",{className:"space-y-3 text-gray-400",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(gr,{className:"w-4 h-4"}),l.jsx("span",{children:"info@olushipping.com"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(X1,{className:"w-4 h-4"}),l.jsx("span",{children:"+86 138 0013 8000"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Na,{className:"w-4 h-4"}),l.jsx("span",{children:"Guangzhou, China"})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Olu Shipping Company. All rights reserved."}),l.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"})]})]})})]})})}function TN({children:i}){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 flex flex-col",children:[l.jsx(NN,{}),l.jsx("main",{className:"flex-1",children:i}),l.jsx(EN,{})]})}function _e({className:i,...s}){return l.jsx("div",{"data-slot":"card",className:Pe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...s})}function et({className:i,...s}){return l.jsx("div",{"data-slot":"card-header",className:Pe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...s})}function tt({className:i,...s}){return l.jsx("div",{"data-slot":"card-title",className:Pe("leading-none font-semibold",i),...s})}function Ts({className:i,...s}){return l.jsx("div",{"data-slot":"card-description",className:Pe("text-muted-foreground text-sm",i),...s})}function Ae({className:i,...s}){return l.jsx("div",{"data-slot":"card-content",className:Pe("px-6",i),...s})}function AN(){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[l.jsxs("section",{className:"relative bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600 text-white overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-white rounded-full mix-blend-overlay animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-white rounded-full mix-blend-overlay animate-pulse",style:{animationDelay:"1s"}})]}),l.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-28",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-6 sm:mb-8",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm shadow-2xl animate-bounce",children:l.jsx(qs,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),l.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full animate-ping"})]})}),l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 sm:mb-8 px-4 animate-in fade-in slide-in-from-bottom duration-700",children:"Olu Shipping Company"}),l.jsx("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl mb-8 sm:mb-10 text-blue-100 max-w-4xl mx-auto px-4 leading-relaxed animate-in fade-in slide-in-from-bottom duration-1000",children:"Your trusted partner for international shipping between China and global destinations. Precision, reliability, and transparency in every shipment."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center px-4 animate-in fade-in slide-in-from-bottom duration-1000",style:{animationDelay:"200ms"},children:[l.jsx(vt,{to:"/vendor",className:"w-full sm:w-auto",children:l.jsxs(K,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50 flex items-center justify-center space-x-2 w-full h-14 text-lg shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[l.jsx(Fe,{className:"w-6 h-6"}),l.jsx("span",{children:"Declare Shipment"})]})}),l.jsx(vt,{to:"/tracking",className:"w-full sm:w-auto",children:l.jsxs(K,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50 border-2 border-white flex items-center justify-center space-x-2 w-full h-14 text-lg shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[l.jsx(Ys,{className:"w-6 h-6"}),l.jsx("span",{children:"Track Package"})]})})]})]})})]}),l.jsx("section",{className:"py-16 sm:py-20 lg:py-28 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12 sm:mb-16 lg:mb-20",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Why Choose Olu Shipping?"}),l.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 max-w-3xl mx-auto px-4",children:"We provide comprehensive shipping solutions with cutting-edge technology and reliable service."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[l.jsxs(_e,{className:"hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2 border-transparent hover:border-blue-200 bg-gradient-to-br from-white to-blue-50",children:[l.jsxs(et,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg transform hover:scale-110 transition-transform duration-300",children:l.jsx(U1,{className:"w-8 h-8 text-white"})}),l.jsx(tt,{className:"text-xl",children:"Global Reach"})]}),l.jsx(Ae,{children:l.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Worldwide shipping network connecting China to major international destinations with reliable partners."})})]}),l.jsxs(_e,{className:"hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2 border-transparent hover:border-green-200 bg-gradient-to-br from-white to-green-50",children:[l.jsxs(et,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg transform hover:scale-110 transition-transform duration-300",children:l.jsx(Nl,{className:"w-8 h-8 text-white"})}),l.jsx(tt,{className:"text-xl",children:"Secure & Safe"})]}),l.jsx(Ae,{children:l.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Advanced tracking systems and secure handling ensure your packages arrive safely and on time."})})]}),l.jsxs(_e,{className:"hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2 border-transparent hover:border-purple-200 bg-gradient-to-br from-white to-purple-50",children:[l.jsxs(et,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg transform hover:scale-110 transition-transform duration-300",children:l.jsx(ur,{className:"w-8 h-8 text-white"})}),l.jsx(tt,{className:"text-xl",children:"Real-time Tracking"})]}),l.jsx(Ae,{children:l.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Monitor your shipments with live updates, QR code scanning, and detailed status information."})})]}),l.jsxs(_e,{className:"hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2 border-transparent hover:border-yellow-200 bg-gradient-to-br from-white to-yellow-50",children:[l.jsxs(et,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg transform hover:scale-110 transition-transform duration-300",children:l.jsx(fs,{className:"w-8 h-8 text-white"})}),l.jsx(tt,{className:"text-xl",children:"Digital Documentation"})]}),l.jsx(Ae,{children:l.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Automated invoice and packing list generation with QR codes for easy tracking and verification."})})]}),l.jsxs(_e,{className:"hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2 border-transparent hover:border-red-200 bg-gradient-to-br from-white to-red-50",children:[l.jsxs(et,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg transform hover:scale-110 transition-transform duration-300",children:l.jsx(Ht,{className:"w-8 h-8 text-white"})}),l.jsx(tt,{className:"text-xl",children:"Fast Delivery"})]}),l.jsx(Ae,{children:l.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Optimized logistics and efficient customs processing for faster delivery times worldwide."})})]}),l.jsxs(_e,{className:"hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2 border-transparent hover:border-indigo-200 bg-gradient-to-br from-white to-indigo-50",children:[l.jsxs(et,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg transform hover:scale-110 transition-transform duration-300",children:l.jsx(hj,{className:"w-8 h-8 text-white"})}),l.jsx(tt,{className:"text-xl",children:"24/7 Support"})]}),l.jsx(Ae,{children:l.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Round-the-clock customer support to assist with any questions or concerns about your shipments."})})]})]})]})}),l.jsx("section",{className:"py-20 bg-blue-600",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Ship with Confidence?"}),l.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of satisfied customers who trust Olu Shipping for their international shipping needs."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(vt,{to:"/vendor",children:l.jsx(K,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50",children:"Start Shipping Today"})}),l.jsx(vt,{to:"/tracking",children:l.jsx(K,{size:"lg",className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-blue-600 transition-all duration-300",children:"Track Your Package"})})]})]})})]})}function pe({className:i,type:s,...n}){return l.jsx("input",{type:s,"data-slot":"input",className:Pe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...n})}var kN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CN=kN.reduce((i,s)=>{const n=Ay(`Primitive.${s}`),o=G.forwardRef((u,d)=>{const{asChild:f,...g}=u,m=f?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(m,{...g,ref:d})});return o.displayName=`Primitive.${s}`,{...i,[s]:o}},{}),ON="Label",wx=G.forwardRef((i,s)=>l.jsx(CN.label,{...i,ref:s,onMouseDown:n=>{var u;n.target.closest("button, input, select, textarea")||((u=i.onMouseDown)==null||u.call(i,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wx.displayName=ON;var RN=wx;function ue({className:i,...s}){return l.jsx(RN,{"data-slot":"label",className:Pe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...s})}function ql({className:i,...s}){return l.jsx("textarea",{"data-slot":"textarea",className:Pe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),...s})}function DN({onSubmit:i,onCancel:s,isLoading:n}){const[o,u]=G.useState(null),[d,f]=G.useState({itemName:"",quantity:1,weight:0,consigneeName:"",consigneeAddress:"",consigneeEmail:"",consigneePhone:"",hsCode:""});G.useEffect(()=>{async function v(){var b;const{data:{session:y}}=await re.auth.getSession();(b=y==null?void 0:y.user)!=null&&b.id&&u(y.user.id)}v()},[]);const g=v=>{v.preventDefault(),i({...d,userId:o||void 0})},m=(v,y)=>{f(b=>({...b,[v]:y}))};return l.jsxs("form",{onSubmit:g,className:"space-y-6",children:[l.jsxs(_e,{className:"bg-blue-50 border-blue-200",children:[l.jsx(et,{children:l.jsx(tt,{className:"text-blue-900",children:" About Vendor Declaration ID"})}),l.jsx(Ae,{children:l.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[l.jsxs("p",{className:"font-semibold",children:["A unique ",l.jsx("span",{className:"font-mono bg-blue-100 px-1.5 py-0.5 rounded",children:"Vendor Declaration ID (VD-XXXX-XXXXX)"})," will be automatically assigned after submission."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Use this ID to:"})," Check if your shipment has been received and processed by the shipping company."]}),l.jsxs("p",{className:"text-xs",children:["Note: Once dispatched to customers, a separate ",l.jsx("span",{className:"font-mono",children:"Tracking ID (TRK-XXXX)"})," will be created for customer tracking."]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Item Information"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"itemName",children:"Item Name *"}),l.jsx(pe,{id:"itemName",type:"text",required:!0,value:d.itemName,onChange:v=>m("itemName",v.target.value),placeholder:"Electronic gadgets",className:"mt-1"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"quantity",children:"Quantity *"}),l.jsx(pe,{id:"quantity",type:"number",required:!0,min:"1",value:d.quantity,onChange:v=>m("quantity",parseInt(v.target.value)),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"weight",children:"Weight (kg) *"}),l.jsx(pe,{id:"weight",type:"number",required:!0,min:"0",step:"0.1",value:d.weight,onChange:v=>m("weight",parseFloat(v.target.value)),className:"mt-1"})]})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"hsCode",children:"HS Code (Optional)"}),l.jsx(pe,{id:"hsCode",type:"text",value:d.hsCode,onChange:v=>m("hsCode",v.target.value),placeholder:"8517.12.00",className:"mt-1"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Consignee Information"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeName",children:"Full Name *"}),l.jsx(pe,{id:"consigneeName",type:"text",required:!0,value:d.consigneeName,onChange:v=>m("consigneeName",v.target.value),placeholder:"John Doe",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeEmail",children:"Email Address *"}),l.jsx(pe,{id:"consigneeEmail",type:"email",required:!0,value:d.consigneeEmail,onChange:v=>m("consigneeEmail",v.target.value),placeholder:"john@example.com",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneePhone",children:"Phone Number *"}),l.jsx(pe,{id:"consigneePhone",type:"tel",required:!0,value:d.consigneePhone,onChange:v=>m("consigneePhone",v.target.value),placeholder:"+1 555 123 4567",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeAddress",children:"Delivery Address *"}),l.jsx(ql,{id:"consigneeAddress",required:!0,value:d.consigneeAddress,onChange:v=>m("consigneeAddress",v.target.value),placeholder:"123 Main St, City, State, Country",rows:3,className:"mt-1"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx(K,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),l.jsx(K,{type:"submit",disabled:n,children:n?"Creating Declaration...":"Create Declaration"})]})]})}const UN=of("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ot({className:i,variant:s,asChild:n=!1,...o}){const u=n?ky:"span";return l.jsx(u,{"data-slot":"badge",className:Pe(UN({variant:s}),i),...o})}function MN({shipments:i,isLoading:s,onEdit:n,onDelete:o,showActions:u=!1,isDeleting:d=!1}){const f=fr(),g=(m,v)=>{const y=document.createElement("a");y.href=m,y.download=v,y.click()};return s?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((m,v)=>l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"h-32 bg-gray-200 rounded"})},v))}):i.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Fe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Declarations Yet"}),l.jsx("p",{className:"text-gray-600",children:"Create your first shipment declaration to get started."})]}):l.jsx("div",{className:"space-y-4",children:i.map(m=>l.jsx(_e,{className:"hover:shadow-md transition-shadow",children:l.jsx(Ae,{className:"p-4 sm:p-6",children:l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[l.jsx(Ot,{variant:"outline",className:"font-mono text-xs sm:text-sm",children:m.vendor_decl_id}),m.tracking_id?l.jsxs(Ot,{className:"font-mono text-xs bg-green-600 hover:bg-green-700",children:[" Dispatched: ",m.tracking_id]}):l.jsx(Ot,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-300",children:" Awaiting Dispatch"}),m.vendor_id&&l.jsx(Ot,{variant:"outline",className:"font-mono text-xs bg-blue-50",children:m.vendor_id}),l.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:new Date(m.created_at).toLocaleDateString()})]}),l.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2 break-words",children:m.item_name}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Quantity:"})," ",m.quantity]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Weight:"})," ",m.weight," kg"]}),l.jsxs("div",{className:"sm:col-span-2 lg:col-span-1 break-words",children:[l.jsx("span",{className:"font-medium",children:"Consignee:"})," ",m.consignee_name]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.tracking_id&&l.jsxs(K,{variant:"default",size:"sm",onClick:()=>f(`/track/${m.tracking_id}`),className:"flex items-center space-x-1 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-md",children:[l.jsx(Na,{className:"w-4 h-4"}),l.jsx("span",{children:"Track Shipment"})]}),u&&n&&l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>n(m),className:"flex items-center space-x-1 flex-1 sm:flex-none",children:[l.jsx(cf,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]}),u&&o&&l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(m),disabled:d,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 flex-1 sm:flex-none",children:[l.jsx(uf,{className:"w-4 h-4"}),l.jsx("span",{children:"Delete"})]}),m.qr_code_url&&l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>window.open(m.qr_code_url,"_blank"),className:"flex items-center space-x-1",children:[l.jsx(W1,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"QR"})]}),m.invoice_pdf_url&&l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>g(m.invoice_pdf_url,`invoice-${m.vendor_decl_id}.pdf`),className:"flex items-center space-x-1",children:[l.jsx(Rc,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]}),m.packing_list_pdf_url&&l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>g(m.packing_list_pdf_url,`packing-list-${m.vendor_decl_id}.pdf`),className:"flex items-center space-x-1",children:[l.jsx(Rc,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Packing"})]})]})]})})},m.id))})}async function zN(){const i=new Date().getFullYear();let s=0;const n=10;for(;s<n;){const o=Math.floor(Math.random()*1e5).toString().padStart(5,"0"),u=`VD-${i}-${o}`,{data:d}=await re.from("vendor_shipments").select("vendor_decl_id").eq("vendor_decl_id",u).single();if(!d)return u;s++}throw new Error("Unable to generate unique vendor declaration ID")}async function qN(){const i=new Date().getFullYear();let s=0;const n=10;for(;s<n;){const o=Math.floor(Math.random()*1e5).toString().padStart(5,"0"),u=`TRK-${i}-${o}`,{data:d}=await re.from("receiver_shipments").select("tracking_id").eq("tracking_id",u).single();if(!d)return u;s++}throw new Error("Unable to generate unique tracking ID")}const Ki={declare:async i=>{const{data:{session:s}}=await re.auth.getSession(),n=s==null?void 0:s.user,o=i.vendor_decl_id||await zN(),{data:u,error:d}=await re.from("vendor_shipments").insert({vendor_decl_id:o,item_name:i.item_name||i.itemName,quantity:parseInt(i.quantity)||1,weight:parseFloat(i.weight)||0,consignee_name:i.consignee_name||i.consigneeName,consignee_address:i.consignee_address||i.consigneeAddress,consignee_email:i.consignee_email||i.consigneeEmail,consignee_phone:i.consignee_phone||i.consigneePhone,hs_code:i.hs_code||i.hsCode||null,invoice_pdf_url:i.invoice_pdf_url||null,packing_list_pdf_url:i.packing_list_pdf_url||null,user_id:(n==null?void 0:n.id)||null}).select().single();if(d)throw d;return u},list:async i=>{let s=re.from("vendor_shipments").select("*").order("created_at",{ascending:!1});i!=null&&i.userId&&(s=s.or(`user_id.eq.${i.userId},user_id.is.null`)),i!=null&&i.limit&&(s=s.limit(i.limit)),i!=null&&i.offset&&(s=s.range(i.offset,i.offset+(i.limit||50)-1));const{data:n,error:o}=await s;if(o)throw o;return n},getShipment:async i=>{const{data:s,error:n}=await re.from("vendor_shipments").select("*").eq("id",i).single();if(n)throw n;return s},updateShipment:async(i,s)=>{const{data:n,error:o}=await re.from("vendor_shipments").update(s).eq("id",i).select().single();if(o)throw o;return n},deleteShipment:async i=>{const{error:s}=await re.from("vendor_shipments").delete().eq("id",i);if(s)throw s;return{success:!0}},checkStatus:async i=>{const{data:s,error:n}=await re.from("receiver_shipments").select("tracking_id, status").eq("vendor_decl_id",i).single();if(n)throw n;return s}},ds={search:async i=>{console.log("Admin search query:",i);let s=re.from("vendor_shipments").select(`
        *,
        receiver_shipments!receiver_shipments_vendor_decl_id_fkey (
          tracking_id,
          status,
          dispatch_date
        )
      `).order("created_at",{ascending:!1});i&&(s=s.or(`vendor_decl_id.ilike.%${i}%,item_name.ilike.%${i}%,consignee_name.ilike.%${i}%`));const{data:n,error:o}=await s;if(o)throw console.error("Admin search error:",o),o;const u=(n==null?void 0:n.map(d=>{var f,g,m,v,y,b;return{...d,tracking_id:((g=(f=d.receiver_shipments)==null?void 0:f[0])==null?void 0:g.tracking_id)||null,receiver_status:((v=(m=d.receiver_shipments)==null?void 0:m[0])==null?void 0:v.status)||null,dispatch_date:((b=(y=d.receiver_shipments)==null?void 0:y[0])==null?void 0:b.dispatch_date)||null}}))||[];if(i!=null&&i.startsWith("TRK-")){const{data:d}=await re.from("receiver_shipments").select(`
          *,
          vendor_shipments!receiver_shipments_vendor_decl_id_fkey (
            *
          )
        `).eq("tracking_id",i);if(d&&d.length>0){const f=d.map(m=>({...m.vendor_shipments,tracking_id:m.tracking_id,receiver_status:m.status,dispatch_date:m.dispatch_date})),g=[...u];return f.forEach(m=>{g.find(v=>v.vendor_decl_id===m.vendor_decl_id)||g.push(m)}),g}}return u},updateShipment:async(i,s)=>{const{data:n,error:o}=await re.from("vendor_shipments").update(s).eq("id",i).select().single();if(o)throw o;return n},deleteShipment:async i=>{const{error:s}=await re.from("vendor_shipments").delete().eq("id",i);if(s)throw s;return{success:!0}},dispatch:async i=>{const s=await qN(),{data:n,error:o}=await re.from("receiver_shipments").insert({tracking_id:s,vendor_decl_id:i.vendor_decl_id,customer_email:i.customer_email,status:"dispatched",dispatch_date:new Date().toISOString()}).select().single();if(o)throw o;return{...n,tracking_id:s}},updateStatus:async i=>{const{error:s}=await re.from("receiver_shipments").update({status:i.status}).eq("tracking_id",i.tracking_id);if(s)throw s;const{data:n,error:o}=await re.from("shipment_updates").insert({tracking_id:i.tracking_id,status:i.status,location:i.location,notes:i.notes,timestamp:new Date().toISOString()}).select().single();if(o)throw o;return n},createContainer:async i=>{const{data:s,error:n}=await re.from("containers").insert({container_name:i,status:"pending"}).select().single();if(n)throw n;return{id:s.id,containerName:s.container_name,status:s.status,createdAt:s.created_at,updatedAt:s.updated_at}},listContainers:async()=>{const{data:i,error:s}=await re.from("containers").select(`
        *,
        receiver_shipments(count)
      `).order("created_at",{ascending:!1});if(s)throw s;return(i==null?void 0:i.map(n=>{var o,u;return{id:n.id,containerName:n.container_name,status:n.status,createdAt:n.created_at,updatedAt:n.updated_at,shipmentCount:((u=(o=n.receiver_shipments)==null?void 0:o[0])==null?void 0:u.count)||0}}))||[]},updateContainer:async(i,s)=>{const{data:n,error:o}=await re.from("containers").update({...s,updated_at:new Date().toISOString()}).eq("id",i).select().single();if(o)throw o;if(s.status){const{error:u}=await re.from("receiver_shipments").update({status:s.status}).eq("container_id",i);if(u)throw u;const{data:d}=await re.from("receiver_shipments").select("tracking_id").eq("container_id",i);if(d){const f=d.map(m=>({tracking_id:m.tracking_id,status:f.status,notes:"Status updated via container",timestamp:new Date().toISOString()})),{error:g}=await re.from("shipment_updates").insert(f);if(g)throw g}}return{id:n.id,containerName:n.container_name,status:n.status,createdAt:n.created_at,updatedAt:n.updated_at}},assignShipmentToContainer:async(i,s)=>{var g;const{data:n}=await re.from("receiver_shipments").select("status").eq("tracking_id",i);let o=((g=n==null?void 0:n[0])==null?void 0:g.status)||"pending";if(s!==null){const{data:m,error:v}=await re.from("containers").select("status").eq("id",s).single();!v&&(m!=null&&m.status)&&(o=m.status)}const{error:u}=await re.from("receiver_shipments").update({container_id:s,status:o}).eq("tracking_id",i);if(u)throw u;const d=s?`Assigned to container ${s}`:"Removed from container",{error:f}=await re.from("shipment_updates").insert({tracking_id:i,status:o,notes:d,timestamp:new Date().toISOString()});if(f)throw f},getContainerShipments:async i=>{const{data:s,error:n}=await re.from("receiver_shipments").select(`
        *,
        vendor_shipments!receiver_shipments_vendor_decl_id_fkey (*)
      `).eq("container_id",i);if(n)throw n;return(s==null?void 0:s.map(o=>({...o.vendor_shipments,tracking_id:o.tracking_id,status:o.status,container_id:o.container_id})))||[]},deleteContainer:async i=>{const{error:s}=await re.from("receiver_shipments").update({container_id:null}).eq("container_id",i);if(s)throw s;const{error:n}=await re.from("containers").delete().eq("id",i);if(n)throw n;return{success:!0}}},Xi={track:async i=>{var y;console.log("Tracking lookup for:",i);let s=re.from("receiver_shipments").select("*");i.startsWith("TRK-")?s=s.eq("tracking_id",i):i.startsWith("VD-")?s=s.eq("vendor_decl_id",i):s=s.eq("tracking_id",i);const{data:n,error:o}=await s.single();if(o||!n)throw console.error("Receiver shipment not found:",o),new Error("Shipment not found or not yet dispatched");const{data:u,error:d}=await re.from("vendor_shipments").select("*").eq("vendor_decl_id",n.vendor_decl_id).single();d&&console.error("Vendor shipment error:",d);const{data:f,error:g}=await re.from("shipment_updates").select("*").eq("tracking_id",n.tracking_id).order("timestamp",{ascending:!0});g&&console.error("Updates error:",g);const m=u||{},v=f||[];return v.sort((b,w)=>new Date(b.timestamp).getTime()-new Date(w.timestamp).getTime()),{trackingId:n.tracking_id,vendorDeclId:n.vendor_decl_id,itemName:m.item_name,quantity:m.quantity,weight:m.weight,consigneeName:m.consignee_name,consigneeAddress:m.consignee_address,consigneeEmail:m.consignee_email,consigneePhone:m.consignee_phone,invoice_pdf_url:m.invoice_pdf_url,packing_list_pdf_url:m.packing_list_pdf_url,status:n.status||"pending",location:((y=v[0])==null?void 0:y.location)||null,dispatchDate:n.created_at,updates:v}},searchByQr:async i=>Xi.track(i)};function LN({onClose:i}){const[s,n]=G.useState(""),[o,u]=G.useState(null),{toast:d}=Ls(),f=Ut({mutationFn:y=>Ki.checkStatus(y),onSuccess:y=>{u(y)},onError:y=>{console.error("Status check error:",y),d({title:"Status Check Failed",description:"Unable to find shipments with the provided Vendor ID.",variant:"destructive"})}}),g=y=>{y.preventDefault(),s.trim()&&f.mutate(s.trim())},m=y=>{switch(y.toLowerCase()){case"declared":return l.jsx(ur,{className:"w-5 h-5 text-gray-600"});case"dispatched":case"in_transit":return l.jsx(Ht,{className:"w-5 h-5 text-blue-600"});case"delivered":return l.jsx(Oc,{className:"w-5 h-5 text-green-600"});default:return l.jsx(Fe,{className:"w-5 h-5 text-gray-600"})}},v=y=>{switch(y.toLowerCase()){case"declared":return"bg-gray-100 text-gray-800";case"dispatched":return"bg-yellow-100 text-yellow-800";case"in_transit":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium",children:"Check Declaration Status"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Enter your Vendor Declaration ID (VD-XXXX-XXXXX) to check if it's been received"})]}),l.jsx(K,{variant:"ghost",size:"sm",onClick:i,children:l.jsx(Pc,{className:"w-4 h-4"})})]}),l.jsxs("form",{onSubmit:g,className:"flex space-x-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(ue,{htmlFor:"vendorId",children:"Vendor Declaration ID"}),l.jsx(pe,{id:"vendorId",type:"text",placeholder:"VD-2025-12345",value:s,onChange:y=>n(y.target.value),className:"mt-1 font-mono"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is the ID shown after you submit a declaration"})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs(K,{type:"submit",disabled:!s.trim()||f.isPending,className:"flex items-center space-x-2",children:[l.jsx(Ys,{className:"w-4 h-4"}),l.jsx("span",{children:f.isPending?"Checking...":"Check Status"})]})})]}),o&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"font-medium text-gray-900",children:["Shipments for Vendor ID: ",s]}),o.shipments.length===0?l.jsx(_e,{children:l.jsxs(Ae,{className:"text-center py-8",children:[l.jsx(Fe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-600",children:"No shipments found for this Vendor ID"})]})}):l.jsx("div",{className:"space-y-3",children:o.shipments.map(y=>l.jsx(_e,{className:"hover:shadow-sm transition-shadow",children:l.jsx(Ae,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx(Ot,{variant:"outline",className:"font-mono text-xs",children:y.vendorDeclId}),l.jsx(Ot,{className:v(y.status),children:y.status.replace("_"," ").toUpperCase()})]}),l.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:y.itemName}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("p",{children:["Consignee: ",y.consigneeName]}),l.jsxs("p",{children:["Created: ",new Date(y.createdAt).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[y.received?l.jsx(Oc,{className:"w-4 h-4 text-green-600"}):l.jsx(ur,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:y.received?"text-green-600":"text-gray-500",children:y.received?"Received by shipping company":"Waiting to be received"})]}),y.inTransit&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ht,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-blue-600",children:"In Transit"})]})]})]}),l.jsx("div",{className:"flex items-center",children:m(y.status)})]})})},y.vendorDeclId))})]})]})}function Ll({...i}){return l.jsx(Pw,{"data-slot":"dialog",...i})}function BN({...i}){return l.jsx(Yw,{"data-slot":"dialog-portal",...i})}function HN({className:i,...s}){return l.jsx(Jw,{"data-slot":"dialog-overlay",className:Pe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...s})}function Bl({className:i,children:s,showCloseButton:n=!0,...o}){return l.jsxs(BN,{"data-slot":"dialog-portal",children:[l.jsx(HN,{}),l.jsxs(Qw,{"data-slot":"dialog-content",className:Pe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",i),...o,children:[s,n&&l.jsxs(Fw,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(Pc,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Hl({className:i,...s}){return l.jsx("div",{"data-slot":"dialog-header",className:Pe("flex flex-col gap-2 text-center sm:text-left",i),...s})}function $l({className:i,...s}){return l.jsx(Kw,{"data-slot":"dialog-title",className:Pe("text-lg leading-none font-semibold",i),...s})}function Il({className:i,...s}){return l.jsx(Xw,{"data-slot":"dialog-description",className:Pe("text-muted-foreground text-sm",i),...s})}function $N({shipment:i,onSave:s,onClose:n,isLoading:o}){const{toast:u}=Ls(),[d,f]=G.useState({itemName:i.item_name,quantity:i.quantity,weight:i.weight,consigneeName:i.consignee_name,consigneeAddress:i.consignee_address,consigneeEmail:i.consignee_email,consigneePhone:i.consignee_phone,hsCode:i.hs_code||"",invoice_pdf_url:i.invoice_pdf_url||"",packing_list_pdf_url:i.packing_list_pdf_url||""}),[g,m]=G.useState(!1),[v,y]=G.useState(!1),b=E=>{E.preventDefault(),s({id:i.id,...d})},w=(E,j)=>{f(z=>({...z,[E]:j}))},_=async(E,j)=>{try{const z=E.name.split(".").pop(),T=`shipment-documents/${`${i.vendor_decl_id}_${j}_${Date.now()}.${z}`}`;j==="invoice"?m(!0):y(!0);const{data:R,error:Q}=await re.storage.from("shipment-files").upload(T,E,{cacheControl:"3600",upsert:!1});if(Q)throw Q;const{data:{publicUrl:X}}=re.storage.from("shipment-files").getPublicUrl(T),J=j==="invoice"?"invoice_pdf_url":"packing_list_pdf_url";f(P=>({...P,[J]:X})),u({title:"Upload Successful",description:`${j==="invoice"?"Invoice":"Packing list"} uploaded successfully.`})}catch(z){console.error("Upload error:",z),u({title:"Upload Failed",description:z.message||"Failed to upload file. Please try again.",variant:"destructive"})}finally{j==="invoice"?m(!1):y(!1)}},k=(E,j)=>{var T;const z=(T=E.target.files)==null?void 0:T[0];if(!z)return;if(!["application/pdf","image/png","image/jpeg","image/jpg"].includes(z.type)){u({title:"Invalid File Type",description:"Please upload PDF or image files (PNG, JPG, JPEG) only.",variant:"destructive"});return}if(z.size>5*1024*1024){u({title:"File Too Large",description:"File size must be less than 5MB.",variant:"destructive"});return}_(z,j)};return l.jsx(Ll,{open:!0,onOpenChange:()=>!o&&n(),children:l.jsxs(Bl,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Hl,{children:[l.jsx($l,{children:"Edit Declaration"}),l.jsxs(Il,{children:["Update declaration details for ",i.vendor_decl_id]})]}),l.jsxs("form",{onSubmit:b,className:"space-y-6 mt-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Item Information"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"itemName",children:"Item Name *"}),l.jsx(pe,{id:"itemName",type:"text",required:!0,value:d.itemName,onChange:E=>w("itemName",E.target.value),className:"mt-1"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"quantity",children:"Quantity *"}),l.jsx(pe,{id:"quantity",type:"number",required:!0,min:"1",value:d.quantity,onChange:E=>w("quantity",parseInt(E.target.value)),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"weight",children:"Weight (kg) *"}),l.jsx(pe,{id:"weight",type:"number",required:!0,min:"0",step:"0.1",value:d.weight,onChange:E=>w("weight",parseFloat(E.target.value)),className:"mt-1"})]})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"hsCode",children:"HS Code"}),l.jsx(pe,{id:"hsCode",type:"text",value:d.hsCode,onChange:E=>w("hsCode",E.target.value),className:"mt-1"})]}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 pt-4 border-t",children:"Document Uploads"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"invoice",children:"Invoice (PDF/Image)"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"invoice",type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:E=>k(E,"invoice"),disabled:g,className:"hidden"}),l.jsx(K,{type:"button",variant:"outline",onClick:()=>{var E;return(E=document.getElementById("invoice"))==null?void 0:E.click()},disabled:g,className:"w-full justify-start",children:g?l.jsxs(l.Fragment,{children:[l.jsx(Xs,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"w-4 h-4 mr-2"}),d.invoice_pdf_url?"Replace Invoice":"Upload Invoice"]})}),d.invoice_pdf_url&&l.jsxs("a",{href:d.invoice_pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline mt-1 block",children:[l.jsx(fs,{className:"w-3 h-3 inline mr-1"}),"View current invoice"]})]})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"packingList",children:"Packing List (PDF/Image)"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"packingList",type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:E=>k(E,"packing_list"),disabled:v,className:"hidden"}),l.jsx(K,{type:"button",variant:"outline",onClick:()=>{var E;return(E=document.getElementById("packingList"))==null?void 0:E.click()},disabled:v,className:"w-full justify-start",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Xs,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"w-4 h-4 mr-2"}),d.packing_list_pdf_url?"Replace Packing List":"Upload Packing List"]})}),d.packing_list_pdf_url&&l.jsxs("a",{href:d.packing_list_pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline mt-1 block",children:[l.jsx(fs,{className:"w-3 h-3 inline mr-1"}),"View current packing list"]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Consignee Information"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeName",children:"Full Name *"}),l.jsx(pe,{id:"consigneeName",type:"text",required:!0,value:d.consigneeName,onChange:E=>w("consigneeName",E.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeEmail",children:"Email Address *"}),l.jsx(pe,{id:"consigneeEmail",type:"email",required:!0,value:d.consigneeEmail,onChange:E=>w("consigneeEmail",E.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneePhone",children:"Phone Number *"}),l.jsx(pe,{id:"consigneePhone",type:"tel",required:!0,value:d.consigneePhone,onChange:E=>w("consigneePhone",E.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeAddress",children:"Delivery Address *"}),l.jsx(ql,{id:"consigneeAddress",required:!0,value:d.consigneeAddress,onChange:E=>w("consigneeAddress",E.target.value),rows:3,className:"mt-1"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx(K,{type:"button",variant:"outline",onClick:n,disabled:o,children:"Cancel"}),l.jsx(K,{type:"submit",disabled:o,children:o?"Saving...":"Save Changes"})]})]})]})})}function IN(){const[i,s]=G.useState(!1),[n,o]=G.useState(!1),[u,d]=G.useState(null),[f,g]=G.useState(null),{toast:m}=Ls(),v=Ul();fr(),G.useEffect(()=>{async function O(){var R;const{data:{session:T}}=await re.auth.getSession();(R=T==null?void 0:T.user)!=null&&R.id&&g(T.user.id)}O()},[]);const{data:y,isLoading:b,error:w}=iy({queryKey:["vendor-shipments",f],queryFn:()=>Ki.list({userId:f||void 0,limit:50,offset:0}),enabled:!!f,staleTime:3e4,refetchOnMount:!0});w&&console.error("Error loading shipments:",w);const _=Ut({mutationFn:Ki.declare,onSuccess:O=>{m({title:" Declaration Successful",description:`Vendor Declaration ID: ${O.vendor_decl_id}

Use this ID to check if the shipping company has received your declaration. A customer Tracking ID (TRK-XXXX) will be generated after dispatch.`,duration:1e4}),v.invalidateQueries({queryKey:["vendor-shipments"]}),s(!1)},onError:O=>{console.error("Declaration error:",O),m({title:"Declaration Failed",description:"Failed to create shipment declaration. Please try again.",variant:"destructive"})}}),k=Ut({mutationFn:({id:O,...T})=>Ki.updateShipment(O,T),onSuccess:()=>{m({title:"Declaration Updated",description:"Declaration has been updated successfully."}),v.invalidateQueries({queryKey:["vendor-shipments"]}),d(null)},onError:O=>{console.error("Update error:",O),m({title:"Update Failed",description:"Failed to update declaration. Please try again.",variant:"destructive"})}}),E=Ut({mutationFn:O=>Ki.deleteShipment(O),onSuccess:()=>{m({title:"Declaration Deleted",description:"Declaration has been deleted successfully."}),v.invalidateQueries({queryKey:["vendor-shipments"]})},onError:O=>{console.error("Delete error:",O),m({title:"Delete Failed",description:"Failed to delete declaration. Please try again.",variant:"destructive"})}}),j=O=>{d(O)},z=O=>{confirm(`Are you sure you want to delete declaration ${O.vendor_decl_id}? This action cannot be undone.`)&&E.mutate(O.id.toString())};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-blue-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:[l.jsx("div",{className:"mb-8 sm:mb-10",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"animate-in fade-in slide-in-from-left duration-500",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center mr-3 sm:mr-4 shadow-lg",children:l.jsx(Fe,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),l.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"Vendor Portal"})]}),l.jsx("p",{className:"text-base sm:text-lg text-gray-600 ml-16 sm:ml-18",children:"Declare shipments and manage your shipping documents"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 animate-in fade-in slide-in-from-right duration-500",children:[l.jsxs(K,{onClick:()=>o(!0),variant:"outline",className:"flex items-center justify-center space-x-2 w-full sm:w-auto border-2 hover:bg-blue-50 hover:border-blue-300 transition-all duration-300 h-11",children:[l.jsx(Ys,{className:"w-5 h-5"}),l.jsx("span",{children:"Check Status"})]}),l.jsxs(K,{onClick:()=>s(!0),className:"flex items-center justify-center space-x-2 w-full sm:w-auto bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all duration-300 h-11",size:"lg",children:[l.jsx(P0,{className:"w-5 h-5"}),l.jsx("span",{children:"New Declaration"})]})]})]})}),n&&l.jsxs(_e,{className:"mb-8 shadow-xl border-2 border-blue-200 animate-in fade-in slide-in-from-top duration-500",children:[l.jsxs(et,{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:[l.jsxs(tt,{className:"flex items-center",children:[l.jsx(Ys,{className:"w-5 h-5 mr-2 text-blue-600"}),"Check Declaration Status"]}),l.jsx(Ts,{className:"text-base",children:"Enter your Vendor Declaration ID (VD-XXXX-XXXXX) to check if it has been received and processed"})]}),l.jsx(Ae,{className:"pt-6",children:l.jsx(LN,{onClose:()=>o(!1)})})]}),i&&l.jsxs(_e,{className:"mb-8 shadow-xl border-2 border-indigo-200 animate-in fade-in slide-in-from-top duration-500",children:[l.jsxs(et,{className:"bg-gradient-to-r from-indigo-50 to-purple-50",children:[l.jsxs(tt,{className:"flex items-center text-xl",children:[l.jsx(P0,{className:"w-5 h-5 mr-2 text-indigo-600"}),"New Shipment Declaration"]}),l.jsx(Ts,{className:"text-base",children:"Fill in the details below to declare a new shipment"})]}),l.jsx(Ae,{className:"pt-6",children:l.jsx(DN,{onSubmit:O=>_.mutate(O),onCancel:()=>s(!1),isLoading:_.isPending})})]}),l.jsxs(_e,{className:"shadow-xl border-2 border-gray-200 hover:shadow-2xl transition-shadow duration-300",children:[l.jsxs(et,{className:"bg-gradient-to-r from-gray-50 to-blue-50",children:[l.jsxs(tt,{className:"flex items-center text-xl",children:[l.jsx(fs,{className:"w-6 h-6 mr-2 text-blue-600"}),"Recent Declarations"]}),l.jsx(Ts,{className:"text-base",children:"View and manage your shipment declarations"})]}),l.jsx(Ae,{className:"pt-6",children:b&&!y?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((O,T)=>l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"h-32 bg-gray-200 rounded"})},T))}):w?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Fe,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Shipments"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to load your declarations. Please refresh the page."}),l.jsx(K,{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):l.jsx(MN,{shipments:(y==null?void 0:y.shipments)||[],isLoading:!1,onEdit:j,onDelete:z,showActions:!0,isDeleting:E.isPending})})]}),u&&l.jsx($N,{shipment:u,onSave:O=>k.mutate(O),onClose:()=>d(null),isLoading:k.isPending})]})})}function VN(){const[i,s]=G.useState(""),[n,o]=G.useState(!1),u=fr(),{toast:d}=Ls(),f=Ut({mutationFn:y=>Xi.track(y),onSuccess:y=>{u(`/tracking/${y.trackingId}`)},onError:y=>{var w,_;console.error("Tracking error:",y);const b=((_=(w=y==null?void 0:y.response)==null?void 0:w.data)==null?void 0:_.message)||(y==null?void 0:y.message)||"Unable to find shipment with the provided ID.";d({title:"Tracking Failed",description:b,variant:"destructive"})}}),g=Ut({mutationFn:y=>Xi.searchByQr(y),onSuccess:y=>{u(`/tracking/${y.trackingId}`)},onError:y=>{console.error("QR search error:",y),d({title:"Search Failed",description:"Unable to find shipment with the provided input.",variant:"destructive"})}}),m=async y=>{if(y.preventDefault(),!i.trim())return;const b=i.trim();if(window.scrollTo(0,0),n)g.mutate(b);else try{const w=await Xi.track(b);u(`/tracking/${w.trackingId}`)}catch{try{const _=await Xi.searchByQr(b);u(`/tracking/${_.trackingId}`)}catch{d({title:"Search Failed",description:"Unable to find shipment with the provided input.",variant:"destructive"})}}},v=()=>{o(!n)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[l.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg animate-pulse",children:l.jsx(qs,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),l.jsx("div",{className:"absolute -top-2 -right-2",children:l.jsx(Gc,{className:"w-6 h-6 text-yellow-500 animate-bounce"})})]})}),l.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600 mb-4",children:"Track Your Shipment"}),l.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600 px-4 mb-3 max-w-2xl mx-auto",children:"Enter your tracking ID or vendor declaration ID to get real-time updates on your package journey"}),l.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-full",children:[l.jsx(Fe,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Accepted formats:"}),l.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded-full text-blue-800 shadow-sm",children:"TRK-2025-XXXXX"}),l.jsx("span",{className:"text-blue-400",children:"or"}),l.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded-full text-blue-800 shadow-sm",children:"VD-2025-XXXXX"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6 sm:gap-8 mb-12",children:l.jsxs(_e,{className:"hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2 border-blue-100",children:[l.jsxs(et,{className:"text-center bg-gradient-to-r from-blue-50 to-purple-50",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:l.jsx(Ys,{className:"w-8 h-8 text-white"})}),l.jsx(tt,{className:"text-xl",children:"Track Your Shipment"}),l.jsx(Ts,{className:"text-base",children:"Enter your tracking ID, vendor declaration ID, or QR code content"})]}),l.jsx(Ae,{className:"pt-6",children:l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"searchValue",className:"text-base font-semibold",children:n?"QR Code Content":"Tracking ID or Declaration ID"}),l.jsxs("div",{className:"relative",children:[l.jsx(pe,{id:"searchValue",type:"text",placeholder:n?"OLU-SHIPPING:VD-2024-1234":"TRK-2025-12345 or VD-2025-12345",value:i,onChange:y=>s(y.target.value),className:"mt-2 text-lg h-12 border-2 focus:border-blue-500 transition-colors pr-12"}),l.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:v,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 hover:bg-gray-100 rounded-full",title:n?"Switch to ID search":"Switch to QR search",children:n?l.jsx(Ys,{className:"w-5 h-5"}):l.jsx(b1,{className:"w-5 h-5"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n?"Enter QR code content or paste the scanned text":"Enter customer tracking number (TRK-) or vendor declaration ID (VD-)"})]}),l.jsx(K,{type:"submit",className:"w-full h-12 text-lg bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg hover:shadow-xl transition-all duration-300",disabled:!i.trim()||f.isPending||g.isPending,children:f.isPending||g.isPending?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Searching..."]}):l.jsxs(l.Fragment,{children:["Track Shipment",l.jsx(p1,{className:"w-5 h-5 ml-2"})]})})]})})]})}),l.jsx(_e,{className:"border-2 border-blue-200 shadow-lg bg-gradient-to-r from-blue-50 to-indigo-50",children:l.jsx(Ae,{className:"p-6 sm:p-8",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center shadow-md",children:l.jsx(Fe,{className:"w-6 h-6 text-white"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Need help finding your tracking information?"}),l.jsxs("ul",{className:"text-gray-700 space-y-2.5",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-blue-600 mr-2 font-bold",children:""}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-blue-800",children:"Customer Tracking ID (TRK-XXXX)"})," was sent to your email when the shipment was dispatched"]})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-blue-600 mr-2 font-bold",children:""}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-blue-800",children:"Vendor Declaration ID (VD-XXXX)"})," is the internal reference number"]})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-blue-600 mr-2 font-bold",children:""}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-blue-800",children:"QR codes"})," contain shipment information - use the camera button to switch to QR mode"]})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-blue-600 mr-2 font-bold",children:""}),l.jsxs("span",{children:["Contact us at ",l.jsx("a",{href:"mailto:info@olushipping.com",className:"text-blue-600 font-semibold hover:underline",children:"info@olushipping.com"})," if you need assistance"]})]})]})]})]})})})]})})}function GN({updates:i}){if(i.length===0)return l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4 animate-pulse"}),l.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No tracking updates available yet."}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Updates will appear here as your shipment progresses."})]});const s=d=>{switch(d.toLowerCase()){case"delivered":return l.jsx(Oc,{className:"w-6 h-6 text-green-600"});case"out_for_delivery":return l.jsx(Ht,{className:"w-6 h-6 text-orange-600 animate-bounce"});case"in_transit":return l.jsx(qs,{className:"w-6 h-6 text-blue-600"});case"dispatched":return l.jsx(Bh,{className:"w-6 h-6 text-yellow-600"});case"declared":return l.jsx(Vi,{className:"w-6 h-6 text-blue-500"});case"pending":return l.jsx(xl,{className:"w-6 h-6 text-gray-600"});default:return l.jsx(ur,{className:"w-6 h-6 text-gray-600"})}},n=d=>{switch(d.toLowerCase()){case"delivered":return"text-green-700 bg-green-50 border-green-200";case"out_for_delivery":return"text-orange-700 bg-orange-50 border-orange-200";case"in_transit":return"text-blue-700 bg-blue-50 border-blue-200";case"dispatched":return"text-yellow-700 bg-yellow-50 border-yellow-200";case"declared":return"text-blue-600 bg-blue-50 border-blue-200";case"pending":return"text-gray-700 bg-gray-50 border-gray-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}},o=d=>{switch(d.toLowerCase()){case"delivered":return"from-green-500 to-emerald-600";case"out_for_delivery":return"from-orange-500 to-amber-600";case"in_transit":return"from-blue-500 to-indigo-600";case"dispatched":return"from-yellow-500 to-orange-500";case"declared":return"from-blue-400 to-cyan-500";case"pending":return"from-gray-500 to-slate-600";default:return"from-gray-500 to-slate-600"}},u=[...i].sort((d,f)=>new Date(d.timestamp).getTime()-new Date(f.timestamp).getTime());return l.jsx("div",{className:"relative space-y-6",children:u.map((d,f)=>l.jsxs("div",{className:"relative group animate-in fade-in slide-in-from-left duration-500",style:{animationDelay:`${f*100}ms`},children:[f<i.length-1&&l.jsx("div",{className:"absolute left-7 top-14 w-0.5 h-full bg-gradient-to-b from-gray-300 to-transparent"}),l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsxs("div",{className:`relative flex-shrink-0 w-14 h-14 rounded-full bg-gradient-to-br ${o(d.status)} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-white opacity-20 animate-pulse"}),l.jsx("div",{className:"relative text-white",children:s(d.status)})]}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:`p-4 rounded-lg border-2 ${n(d.status)} shadow-sm hover:shadow-md transition-all duration-300 group-hover:scale-[1.02]`,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[l.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[l.jsx("span",{className:`inline-flex px-3 py-1.5 text-xs font-bold rounded-full border-2 ${n(d.status)} uppercase tracking-wider shadow-sm`,children:d.status.replace("_"," ")}),d.location&&l.jsxs("span",{className:"flex items-center space-x-1 text-sm font-medium text-gray-700 bg-white px-3 py-1 rounded-full border border-gray-200 shadow-sm",children:[l.jsx(Na,{className:"w-3.5 h-3.5"}),l.jsx("span",{children:d.location})]})]}),l.jsxs("span",{className:"flex items-center space-x-1 text-xs text-gray-600 bg-white px-2 py-1 rounded-full border border-gray-200 whitespace-nowrap",children:[l.jsx(ur,{className:"w-3 h-3"}),l.jsx("span",{children:new Date(d.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),d.notes&&l.jsx("div",{className:"mt-3 p-3 bg-white rounded-md border border-gray-200",children:l.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:d.notes})})]})})]})]},d.id||`update-${f}-${d.timestamp}`))})}function PN(){const{trackingId:i}=m_(),s=Ul();G.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0)},100)},[i]);const{data:n,isLoading:o,error:u}=iy({queryKey:["tracking",i],queryFn:()=>Xi.track(i),enabled:!!i});if(o)return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 sm:h-8 bg-gray-200 rounded w-1/2 sm:w-1/3 mb-3 sm:mb-4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 sm:w-1/2 mb-6 sm:mb-8"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"h-24 sm:h-32 bg-gray-200 rounded"}),l.jsx("div",{className:"h-24 sm:h-32 bg-gray-200 rounded"})]})]})});if(u||!n)return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:l.jsx(_e,{children:l.jsxs(Ae,{className:"text-center py-8 sm:py-12 px-4",children:[l.jsx(Fe,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-3 sm:mb-4"}),l.jsx("h2",{className:"text-lg sm:text-2xl font-semibold text-gray-900 mb-2",children:"Tracking Information Not Found"}),l.jsxs("p",{className:"text-sm sm:text-base text-gray-600 break-words",children:["We couldn't find any shipment with tracking ID: ",i]})]})})});const d=v=>{switch(v.toLowerCase()){case"pending":return"bg-gray-100 text-gray-800 border-gray-300";case"declared":return"bg-blue-100 text-blue-800 border-blue-300";case"dispatched":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"in_transit":return"bg-purple-100 text-purple-800 border-purple-300";case"out_for_delivery":return"bg-orange-100 text-orange-800 border-orange-300";case"delivered":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},g=(v=>{switch(v.toLowerCase()){case"pending":return{icon:xl,color:"text-gray-600",description:"Your shipment has been registered and is awaiting processing at our facility."};case"declared":return{icon:Vi,color:"text-blue-600",description:"Shipment declaration has been completed and verified by customs."};case"dispatched":return{icon:Ht,color:"text-yellow-600",description:"Your shipment has been dispatched and is on its way to the destination."};case"in_transit":return{icon:v.includes("air")?Bh:qs,color:"text-purple-600",description:"Your package is currently in transit and moving towards the destination."};case"out_for_delivery":return{icon:Ht,color:"text-orange-600",description:"Your package is out for delivery and will arrive soon!"};case"delivered":return{icon:uc,color:"text-green-600",description:"Successfully delivered! Your package has reached its destination."};default:return{icon:Fe,color:"text-gray-600",description:"Shipment status information."}}})((n==null?void 0:n.status)||"pending"),m=g.icon;return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[l.jsx("div",{className:"mb-8 sm:mb-12",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Fe,{className:"w-8 h-8 sm:w-10 sm:h-10 text-blue-600 animate-bounce"}),l.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-ping"})]}),l.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:"Track Your Shipment"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-base sm:text-lg font-semibold text-gray-700",children:[" ",n.trackingId]}),l.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["Declaration ID: ",n.vendorDeclId]})]})]}),l.jsxs(K,{variant:"outline",onClick:()=>s.invalidateQueries({queryKey:["tracking",i]}),className:"flex items-center justify-center space-x-2 w-full sm:w-auto hover:bg-blue-50 transition-all duration-300 hover:scale-105",children:[l.jsx(Xs,{className:"w-4 h-4"}),l.jsx("span",{children:"Refresh Status"})]})]})}),l.jsx("div",{className:"mb-8",children:l.jsx(_e,{className:"border-2 shadow-lg overflow-hidden transition-all duration-500 hover:shadow-2xl",children:l.jsxs("div",{className:`${d(n.status)} border-b-2 p-6 sm:p-8 relative overflow-hidden`,children:[l.jsx("div",{className:"absolute top-0 right-0 opacity-10",children:l.jsx(m,{className:"w-32 h-32 sm:w-48 sm:h-48"})}),l.jsxs("div",{className:"relative z-10 flex items-start space-x-4",children:[l.jsx("div",{className:`${g.color} animate-pulse`,children:l.jsx(m,{className:"w-12 h-12 sm:w-16 sm:h-16",strokeWidth:1.5})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:n.status.replace("_"," ").toUpperCase()}),l.jsx("p",{className:"text-sm sm:text-base opacity-90 leading-relaxed",children:g.description}),n.location&&l.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[l.jsx(Na,{className:"w-4 h-4"}),l.jsxs("span",{className:"text-sm font-semibold",children:["Current Location: ",n.location]})]})]})]})]})})}),l.jsx("div",{className:"mb-8",children:l.jsx(_e,{className:"shadow-lg overflow-hidden",children:l.jsxs(Ae,{className:"p-6 sm:p-8",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center",children:[l.jsx(Ht,{className:"w-5 h-5 mr-2 text-blue-600"}),"Shipment Journey"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-8 left-0 right-0 h-2 bg-gray-200 rounded-full",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${n.status==="pending"?"20%":n.status==="processing"?"40%":n.status==="in_transit"?"60%":n.status==="out_for_delivery"?"80%":n.status==="delivered"?"100%":"0%"}`}})}),l.jsxs("div",{className:"relative flex justify-between items-start pt-0",children:[l.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-20",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${["pending","processing","in_transit","out_for_delivery","delivered"].includes(n.status.toLowerCase())?"bg-blue-500 text-white shadow-lg":"bg-gray-300 text-gray-600"} transition-all duration-500`,children:l.jsx(xl,{className:"w-5 h-5"})}),l.jsx("span",{className:"text-xs text-center font-medium text-gray-700",children:"Pending"})]}),l.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-20",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${["processing","in_transit","out_for_delivery","delivered"].includes(n.status.toLowerCase())?"bg-blue-500 text-white shadow-lg":"bg-gray-300 text-gray-600"} transition-all duration-500`,children:n.status==="processing"?l.jsx(Vi,{className:"w-5 h-5 animate-pulse"}):l.jsx(Vi,{className:"w-5 h-5"})}),l.jsx("span",{className:"text-xs text-center font-medium text-gray-700",children:"Processing"})]}),l.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-20",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${["in_transit","out_for_delivery","delivered"].includes(n.status.toLowerCase())?"bg-purple-500 text-white shadow-lg":"bg-gray-300 text-gray-600"} transition-all duration-500`,children:n.status==="in_transit"?l.jsx(qs,{className:"w-5 h-5 animate-bounce"}):l.jsx(qs,{className:"w-5 h-5"})}),l.jsx("span",{className:"text-xs text-center font-medium text-gray-700",children:"In Transit"})]}),l.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-20",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${["out_for_delivery","delivered"].includes(n.status.toLowerCase())?"bg-orange-500 text-white shadow-lg":"bg-gray-300 text-gray-600"} transition-all duration-500`,children:n.status==="out_for_delivery"?l.jsx(Ht,{className:"w-5 h-5 animate-bounce"}):l.jsx(Ht,{className:"w-5 h-5"})}),l.jsx("span",{className:"text-xs text-center font-medium text-gray-700",children:"Out for Delivery"})]}),l.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-20",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${n.status.toLowerCase()==="delivered"?"bg-green-500 text-white shadow-lg":"bg-gray-300 text-gray-600"} transition-all duration-500`,children:l.jsx(uc,{className:"w-5 h-5"})}),l.jsx("span",{className:"text-xs text-center font-medium text-gray-700",children:"Delivered"})]})]}),l.jsx("div",{className:"absolute top-3 transition-all duration-1000 ease-out transform -translate-x-1/2",style:{left:`${n.status==="pending"?"10%":n.status==="processing"?"30%":n.status==="in_transit"?"50%":n.status==="out_for_delivery"?"75%":n.status==="delivered"?"95%":"0%"}`},children:n.status==="in_transit"?l.jsx(qs,{className:"w-10 h-10 text-purple-600 animate-bounce drop-shadow-lg"}):n.status==="out_for_delivery"?l.jsx(Ht,{className:"w-10 h-10 text-orange-600 animate-bounce drop-shadow-lg"}):n.status==="delivered"?l.jsx(uc,{className:"w-10 h-10 text-green-600 drop-shadow-lg"}):n.status==="processing"?l.jsx(Vi,{className:"w-10 h-10 text-blue-600 animate-pulse drop-shadow-lg"}):l.jsx(xl,{className:"w-10 h-10 text-blue-600 drop-shadow-lg"})})]})]})})}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(_e,{className:"shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[l.jsx(et,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:l.jsxs(tt,{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(Fe,{className:"w-5 h-5 mr-2 text-blue-600"}),"Shipment Details"]}),l.jsx(Ot,{className:`${d(n.status)} border shadow-sm px-3 py-1`,children:n.status.replace("_"," ").toUpperCase()})]})}),l.jsx(Ae,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Fe,{className:"w-5 h-5 text-blue-500 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Item Name"}),l.jsx("p",{className:"font-semibold text-gray-800",children:n.itemName})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Fi,{className:"w-5 h-5 text-purple-500 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Consignee"}),l.jsx("p",{className:"font-semibold text-gray-800",children:n.consigneeName})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(gr,{className:"w-5 h-5 text-green-500 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Email"}),l.jsx("p",{className:"font-semibold text-gray-800 break-all",children:n.consigneeEmail})]})]}),n.dispatchDate&&l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(ur,{className:"w-5 h-5 text-orange-500 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Dispatch Date"}),l.jsx("p",{className:"font-semibold text-gray-800",children:new Date(n.dispatchDate).toLocaleDateString()})]})]}),n.quantity&&l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Fe,{className:"w-5 h-5 text-indigo-500 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Quantity"}),l.jsxs("p",{className:"font-semibold text-gray-800",children:[n.quantity," units"]})]})]}),n.weight&&l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Fe,{className:"w-5 h-5 text-pink-500 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Weight"}),l.jsxs("p",{className:"font-semibold text-gray-800",children:[n.weight," kg"]})]})]})]})})]}),(n.invoice_pdf_url||n.packing_list_pdf_url)&&l.jsxs(_e,{className:"shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[l.jsx(et,{className:"bg-gradient-to-r from-green-50 to-blue-50",children:l.jsxs(tt,{className:"flex items-center",children:[l.jsx(fs,{className:"w-5 h-5 mr-2 text-green-600"}),"Shipment Documents"]})}),l.jsx(Ae,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.invoice_pdf_url&&l.jsxs("a",{href:n.invoice_pdf_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 border-2 border-blue-200 rounded-lg hover:bg-blue-50 hover:border-blue-400 transition-all group",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:l.jsx(fs,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800",children:"Invoice"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Click to view/download"})]})]}),l.jsx(Rc,{className:"w-5 h-5 text-blue-600 group-hover:scale-110 transition-transform"})]}),n.packing_list_pdf_url&&l.jsxs("a",{href:n.packing_list_pdf_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 border-2 border-green-200 rounded-lg hover:bg-green-50 hover:border-green-400 transition-all group",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-200 transition-colors",children:l.jsx(fs,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800",children:"Packing List"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Click to view/download"})]})]}),l.jsx(Rc,{className:"w-5 h-5 text-green-600 group-hover:scale-110 transition-transform"})]})]})})]}),l.jsxs(_e,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsxs(et,{className:"bg-gradient-to-r from-purple-50 to-blue-50",children:[l.jsxs(tt,{className:"flex items-center",children:[l.jsx(Na,{className:"w-5 h-5 mr-2 text-purple-600 animate-pulse"}),"Tracking Timeline"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Follow your shipment's journey from declaration to delivery"})]}),l.jsx(Ae,{className:"pt-6",children:l.jsx(GN,{updates:n.updates})})]}),l.jsxs(_e,{className:"shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-blue-100",children:[l.jsx(et,{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:l.jsxs(tt,{className:"flex items-center text-blue-900",children:[l.jsx(qs,{className:"w-5 h-5 mr-2"}),"Understanding Your Shipment Status"]})}),l.jsx(Ae,{className:"pt-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[l.jsx(xl,{className:"w-5 h-5 text-gray-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800",children:"Pending"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Your shipment is registered and awaiting processing at our warehouse facility."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors",children:[l.jsx(Vi,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-blue-800",children:"Declared"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Customs declaration completed and approved. Ready for dispatch."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-yellow-50 hover:bg-yellow-100 transition-colors",children:[l.jsx(Ht,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0 animate-bounce"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-yellow-800",children:"Dispatched"}),l.jsx("p",{className:"text-sm text-yellow-700",children:"Package has left our facility and is en route to transport hub."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors",children:[l.jsxs("div",{className:"relative",children:[l.jsx(qs,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),l.jsx(Bh,{className:"w-3 h-3 text-purple-400 absolute -top-1 -right-1"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-purple-800",children:"In Transit"}),l.jsx("p",{className:"text-sm text-purple-700",children:"Your package is traveling by air or sea freight to the destination country."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-orange-50 hover:bg-orange-100 transition-colors",children:[l.jsx(Ht,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-orange-800",children:"Out for Delivery"}),l.jsx("p",{className:"text-sm text-orange-700",children:"Package is on the delivery vehicle and will arrive at your address soon!"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-green-50 hover:bg-green-100 transition-colors",children:[l.jsx(uc,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-green-800",children:"Delivered"}),l.jsx("p",{className:"text-sm text-green-700",children:"Success! Your package has been delivered to the specified address."})]})]})]})})]})]})})]})})}function bf({...i}){return l.jsx(Zw,{"data-slot":"select",...i})}function wf({...i}){return l.jsx(t_,{"data-slot":"select-value",...i})}function _f({className:i,size:s="default",children:n,...o}){return l.jsxs(Ww,{"data-slot":"select-trigger","data-size":s,className:Pe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...o,children:[n,l.jsx(e_,{asChild:!0,children:l.jsx(cy,{className:"size-4 opacity-50"})})]})}function jf({className:i,children:s,position:n="popper",...o}){return l.jsx(s_,{children:l.jsxs(a_,{"data-slot":"select-content",className:Pe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:n,...o,children:[l.jsx(QN,{}),l.jsx(n_,{className:Pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),l.jsx(FN,{})]})})}function es({className:i,children:s,...n}){return l.jsxs(i_,{"data-slot":"select-item",className:Pe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",i),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(r_,{children:l.jsx(_1,{className:"size-4"})})}),l.jsx(l_,{children:s})]})}function QN({className:i,...s}){return l.jsx(o_,{"data-slot":"select-scroll-up-button",className:Pe("flex cursor-default items-center justify-center py-1",i),...s,children:l.jsx(N1,{className:"size-4"})})}function FN({className:i,...s}){return l.jsx(c_,{"data-slot":"select-scroll-down-button",className:Pe("flex cursor-default items-center justify-center py-1",i),...s,children:l.jsx(cy,{className:"size-4"})})}function KN({shipments:i,containers:s=[],onEdit:n,onDelete:o,onDispatch:u,onUpdateStatus:d,onAssignToContainer:f,isDeleting:g}){return l.jsx("div",{className:"space-y-4",children:i.map(m=>l.jsx(_e,{className:"hover:shadow-md transition-shadow",children:l.jsx(Ae,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[l.jsx(Ot,{variant:"outline",className:"font-mono",children:m.vendor_decl_id}),m.tracking_id&&l.jsxs(Ot,{className:"font-mono text-xs bg-green-600",children:[" ",m.tracking_id]}),m.vendor_id&&l.jsxs(Ot,{variant:"outline",className:"font-mono text-xs bg-blue-50",children:["Vendor: ",m.vendor_id]}),m.invoice_pdf_url&&l.jsxs(Ot,{variant:"outline",className:"text-xs bg-purple-50 text-purple-700 border-purple-200",children:[l.jsx(fs,{className:"w-3 h-3 mr-1"}),"Invoice"]}),m.packing_list_pdf_url&&l.jsxs(Ot,{variant:"outline",className:"text-xs bg-teal-50 text-teal-700 border-teal-200",children:[l.jsx(Oc,{className:"w-3 h-3 mr-1"}),"Packing List"]})]}),l.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[!m.tracking_id&&u&&l.jsxs(K,{variant:"default",size:"sm",onClick:()=>u(m),className:"flex items-center space-x-1 bg-blue-600 hover:bg-blue-700",children:[l.jsx(Ht,{className:"w-4 h-4"}),l.jsx("span",{children:"Dispatch"})]}),m.tracking_id&&d&&l.jsxs(K,{variant:"default",size:"sm",onClick:()=>d(m),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700",children:[l.jsx(Na,{className:"w-4 h-4"}),l.jsx("span",{children:"Update Status"})]}),l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>n(m),className:"flex items-center space-x-1",children:[l.jsx(cf,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]}),l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(m),disabled:g,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(uf,{className:"w-4 h-4"}),l.jsx("span",{children:"Delete"})]}),m.tracking_id&&f&&s.length>0&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(C1,{className:"w-4 h-4 text-gray-400"}),l.jsxs(bf,{value:"",onValueChange:v=>{const y=v==="none"?null:parseInt(v);f(m.tracking_id,y)},children:[l.jsx(_f,{className:"w-40 h-8 text-xs",children:l.jsx(wf,{placeholder:"Assign to Container"})}),l.jsxs(jf,{children:[l.jsx(es,{value:"none",children:"Remove from Container"}),s.map(v=>l.jsxs(es,{value:v.id.toString(),children:[v.containerName," (",v.shipmentCount||0,")"]},v.id))]})]})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[l.jsx(Fe,{className:"w-5 h-5 mr-2 text-gray-400"}),m.item_name]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(z1,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Qty:"}),l.jsx("span",{className:"ml-1 font-medium",children:m.quantity})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(gj,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Weight:"}),l.jsxs("span",{className:"ml-1 font-medium",children:[m.weight," kg"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Fi,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Consignee:"}),l.jsx("span",{className:"ml-1 font-medium",children:m.consignee_name})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(y1,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Created:"}),l.jsx("span",{className:"ml-1 font-medium",children:new Date(m.created_at).toLocaleDateString()})]})]})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(gr,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:m.consignee_email})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Phone:"}),l.jsx("span",{className:"ml-1",children:m.consignee_phone})]})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-gray-500",children:"Address:"}),l.jsx("span",{className:"ml-1",children:m.consignee_address})]}),m.hs_code&&l.jsxs("div",{className:"mt-1",children:[l.jsx("span",{className:"text-gray-500",children:"HS Code:"}),l.jsx("span",{className:"ml-1 font-mono",children:m.hs_code})]})]})]})})},m.id))})}function XN({shipment:i,onSave:s,onClose:n,isLoading:o}){const{toast:u}=Ls(),[d,f]=G.useState({vendor_decl_id:i.vendor_decl_id,item_name:i.item_name,quantity:i.quantity,weight:i.weight,consignee_name:i.consignee_name,consignee_address:i.consignee_address,consignee_email:i.consignee_email,consignee_phone:i.consignee_phone,hs_code:i.hs_code||"",invoice_pdf_url:i.invoice_pdf_url||"",packing_list_pdf_url:i.packing_list_pdf_url||""}),[g,m]=G.useState(!1),[v,y]=G.useState(!1),b=j=>{j.preventDefault(),s(d)},w=(j,z)=>{f(O=>({...O,[j]:z}))},_=()=>{const j=new Date().getFullYear(),z=Math.floor(Math.random()*1e5).toString().padStart(5,"0"),O=`VD-${j}-${z}`;f(T=>({...T,vendor_decl_id:O}))},k=async(j,z)=>{try{const O=j.name.split(".").pop(),R=`shipment-documents/${`${i.vendor_decl_id}_${z}_${Date.now()}.${O}`}`;z==="invoice"?m(!0):y(!0);const{data:Q,error:X}=await re.storage.from("shipment-files").upload(R,j,{cacheControl:"3600",upsert:!1});if(X)throw X;const{data:{publicUrl:J}}=re.storage.from("shipment-files").getPublicUrl(R),P=z==="invoice"?"invoice_pdf_url":"packing_list_pdf_url";f(he=>({...he,[P]:J})),u({title:"Upload Successful",description:`${z==="invoice"?"Invoice":"Packing list"} uploaded successfully.`})}catch(O){console.error("Upload error:",O),u({title:"Upload Failed",description:O.message||"Failed to upload file. Please try again.",variant:"destructive"})}finally{z==="invoice"?m(!1):y(!1)}},E=(j,z)=>{var R;const O=(R=j.target.files)==null?void 0:R[0];if(!O)return;if(!["application/pdf","image/png","image/jpeg","image/jpg"].includes(O.type)){u({title:"Invalid File Type",description:"Please upload PDF or image files (PNG, JPG, JPEG) only.",variant:"destructive"});return}if(O.size>5*1024*1024){u({title:"File Too Large",description:"File size must be less than 5MB.",variant:"destructive"});return}k(O,z)};return l.jsx(Ll,{open:!0,onOpenChange:()=>!o&&n(),children:l.jsxs(Bl,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Hl,{children:[l.jsx($l,{children:"Edit Shipment"}),l.jsxs(Il,{children:["Update shipment details for ",i.vendor_decl_id]})]}),l.jsxs("form",{onSubmit:b,className:"space-y-6 mt-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Vendor Declaration ID"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"vendorDeclId",children:"Vendor Declaration ID *"}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx(pe,{id:"vendorDeclId",type:"text",required:!0,value:d.vendor_decl_id,onChange:j=>w("vendor_decl_id",j.target.value),placeholder:"VD-2025-XXXXX",className:"flex-1"}),l.jsx(K,{type:"button",variant:"outline",onClick:_,title:"Generate new vendor ID",children:l.jsx(Xs,{className:"w-4 h-4"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click refresh to auto-generate a new ID"})]}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 pt-4 border-t",children:"Item Information"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"itemName",children:"Item Name *"}),l.jsx(pe,{id:"itemName",type:"text",required:!0,value:d.item_name,onChange:j=>w("itemName",j.target.value),className:"mt-1"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"quantity",children:"Quantity *"}),l.jsx(pe,{id:"quantity",type:"number",required:!0,min:"1",value:d.quantity,onChange:j=>w("quantity",parseInt(j.target.value)),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"weight",children:"Weight (kg) *"}),l.jsx(pe,{id:"weight",type:"number",required:!0,min:"0",step:"0.1",value:d.weight,onChange:j=>w("weight",parseFloat(j.target.value)),className:"mt-1"})]})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"hsCode",children:"HS Code"}),l.jsx(pe,{id:"hsCode",type:"text",value:d.hs_code,onChange:j=>w("hs_code",j.target.value),className:"mt-1"})]}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 pt-4 border-t",children:"Document Uploads"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"invoice",children:"Invoice (PDF/Image)"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"invoice",type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:j=>E(j,"invoice"),disabled:g,className:"hidden"}),l.jsx(K,{type:"button",variant:"outline",onClick:()=>{var j;return(j=document.getElementById("invoice"))==null?void 0:j.click()},disabled:g,className:"w-full justify-start",children:g?l.jsxs(l.Fragment,{children:[l.jsx(Xs,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"w-4 h-4 mr-2"}),d.invoice_pdf_url?"Replace Invoice":"Upload Invoice"]})}),d.invoice_pdf_url&&l.jsxs("a",{href:d.invoice_pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline mt-1 block",children:[l.jsx(fs,{className:"w-3 h-3 inline mr-1"}),"View current invoice"]})]})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"packingList",children:"Packing List (PDF/Image)"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"packingList",type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:j=>E(j,"packing_list"),disabled:v,className:"hidden"}),l.jsx(K,{type:"button",variant:"outline",onClick:()=>{var j;return(j=document.getElementById("packingList"))==null?void 0:j.click()},disabled:v,className:"w-full justify-start",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Xs,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"w-4 h-4 mr-2"}),d.packing_list_pdf_url?"Replace Packing List":"Upload Packing List"]})}),d.packing_list_pdf_url&&l.jsxs("a",{href:d.packing_list_pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline mt-1 block",children:[l.jsx(fs,{className:"w-3 h-3 inline mr-1"}),"View current packing list"]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Consignee Information"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeName",children:"Full Name *"}),l.jsx(pe,{id:"consigneeName",type:"text",required:!0,value:d.consignee_name,onChange:j=>w("consigneeName",j.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeEmail",children:"Email Address *"}),l.jsx(pe,{id:"consigneeEmail",type:"email",required:!0,value:d.consignee_email,onChange:j=>w("consigneeEmail",j.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneePhone",children:"Phone Number *"}),l.jsx(pe,{id:"consigneePhone",type:"tel",required:!0,value:d.consignee_phone,onChange:j=>w("consigneePhone",j.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeAddress",children:"Delivery Address *"}),l.jsx(ql,{id:"consigneeAddress",required:!0,value:d.consignee_address,onChange:j=>w("consigneeAddress",j.target.value),rows:3,className:"mt-1"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx(K,{type:"button",variant:"outline",onClick:n,disabled:o,children:"Cancel"}),l.jsx(K,{type:"submit",disabled:o,children:o?"Saving...":"Save Changes"})]})]})]})})}function YN({shipment:i,onDispatch:s,onClose:n,isLoading:o}){const[u,d]=G.useState(i.consignee_email||""),f=g=>{g.preventDefault(),s({vendor_decl_id:i.vendor_decl_id,customer_email:u})};return l.jsx(Ll,{open:!0,onOpenChange:()=>!o&&n(),children:l.jsxs(Bl,{className:"sm:max-w-md",children:[l.jsxs(Hl,{children:[l.jsxs($l,{className:"flex items-center",children:[l.jsx(Ht,{className:"w-5 h-5 mr-2 text-blue-600"}),"Dispatch Shipment"]}),l.jsxs(Il,{children:["Create a tracking ID and dispatch ",i.vendor_decl_id," to the customer"]})]}),l.jsxs("form",{onSubmit:f,className:"space-y-6 mt-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Shipment Details"}),l.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Item:"})," ",i.item_name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Vendor Declaration ID:"})," ",l.jsx("span",{className:"font-mono",children:i.vendor_decl_id})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Quantity:"})," ",i.quantity," | ",l.jsx("strong",{children:"Weight:"})," ",i.weight," kg"]})]})]}),l.jsxs("div",{children:[l.jsxs(ue,{htmlFor:"customerEmail",className:"flex items-center",children:[l.jsx(gr,{className:"w-4 h-4 mr-2"}),"Customer Email *"]}),l.jsx(pe,{id:"customerEmail",type:"email",required:!0,value:u,onChange:g=>d(g.target.value),placeholder:"customer@example.com",className:"mt-1"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A tracking ID (TRK-XXXX-XXXXX) will be automatically generated and sent to this email"})]}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsx("p",{className:"text-sm text-green-800",children:" After dispatch, the customer will receive their tracking ID via email to monitor delivery status"})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[l.jsx(K,{type:"button",variant:"outline",onClick:n,disabled:o,children:"Cancel"}),l.jsxs(K,{type:"submit",disabled:o||!u.trim(),className:"flex items-center space-x-2",children:[l.jsx(Ht,{className:"w-4 h-4"}),l.jsx("span",{children:o?"Dispatching...":"Dispatch Shipment"})]})]})]})]})})}function JN({tracking_id:i,vendor_decl_id:s,onUpdate:n,onClose:o,isLoading:u}){const[d,f]=G.useState(""),[g,m]=G.useState(""),[v,y]=G.useState(""),b=w=>{w.preventDefault(),n({tracking_id:i,status:d,location:g.trim()||void 0,notes:v.trim()||void 0})};return l.jsx(Ll,{open:!0,onOpenChange:()=>!u&&o(),children:l.jsxs(Bl,{className:"sm:max-w-md",children:[l.jsxs(Hl,{children:[l.jsxs($l,{className:"flex items-center",children:[l.jsx(Na,{className:"w-5 h-5 mr-2 text-green-600"}),"Update Shipment Status"]}),l.jsxs(Il,{children:["Add a status update for tracking ID: ",l.jsx("span",{className:"font-mono font-semibold",children:i})]})]}),l.jsxs("form",{onSubmit:b,className:"space-y-6 mt-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("strong",{children:"Vendor Declaration:"})," ",l.jsx("span",{className:"font-mono",children:s})]})}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"status",children:"Status *"}),l.jsxs(bf,{value:d,onValueChange:f,required:!0,children:[l.jsx(_f,{id:"status",className:"mt-1",children:l.jsx(wf,{placeholder:"Select status"})}),l.jsxs(jf,{children:[l.jsx(es,{value:"pending",children:"Pending"}),l.jsx(es,{value:"processing",children:"Processing"}),l.jsx(es,{value:"in_transit",children:"In Transit"}),l.jsx(es,{value:"out_for_delivery",children:"Out for Delivery"}),l.jsx(es,{value:"delivered",children:"Delivered"}),l.jsx(es,{value:"failed",children:"Failed Delivery"}),l.jsx(es,{value:"returned",children:"Returned"})]})]})]}),l.jsxs("div",{children:[l.jsxs(ue,{htmlFor:"location",className:"flex items-center",children:[l.jsx(Na,{className:"w-4 h-4 mr-2"}),"Current Location"]}),l.jsx(pe,{id:"location",type:"text",value:g,onChange:w=>m(w.target.value),placeholder:"e.g., Lagos Distribution Center",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsxs(ue,{htmlFor:"notes",className:"flex items-center",children:[l.jsx(fs,{className:"w-4 h-4 mr-2"}),"Notes (Optional)"]}),l.jsx(ql,{id:"notes",value:v,onChange:w=>y(w.target.value),placeholder:"Additional information about this status update...",className:"mt-1",rows:3})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[l.jsx(K,{type:"button",variant:"outline",onClick:o,disabled:u,children:"Cancel"}),l.jsxs(K,{type:"submit",disabled:u||!d,className:"flex items-center space-x-2",children:[l.jsx(Na,{className:"w-4 h-4"}),l.jsx("span",{children:u?"Updating...":"Add Update"})]})]})]})]})})}function ZN({onSuccess:i,onClose:s,isLoading:n,onSubmit:o,containerId:u}){const{toast:d}=Ls(),[f,g]=G.useState({vendor_decl_id:"",item_name:"",quantity:1,weight:0,consignee_name:"",consignee_address:"",consignee_email:"",consignee_phone:"",hs_code:"",invoice_pdf_url:"",packing_list_pdf_url:""}),[m,v]=G.useState(!1),[y,b]=G.useState(!1),[w,_]=G.useState(!1),k=async()=>{_(!0);try{const T=new Date().getFullYear();let R=0;const Q=10;for(;R<Q;){const X=Math.floor(Math.random()*1e5).toString().padStart(5,"0"),J=`VD-${T}-${X}`,{data:P,error:he,count:de}=await re.from("vendor_shipments").select("vendor_decl_id",{count:"exact",head:!1}).eq("vendor_decl_id",J);if(he){console.error("Error checking vendor ID:",he),d({title:"Query Error",description:he.message||"Failed to check vendor ID. Please try again.",variant:"destructive"});return}if(!P||P.length===0){g(Le=>({...Le,vendor_decl_id:J})),d({title:"ID Generated",description:`Vendor ID ${J} is ready to use.`});return}R++}d({title:"Generation Failed",description:"Unable to generate unique vendor ID after 10 attempts. Please try again.",variant:"destructive"})}catch(T){console.error("Error generating vendor ID:",T),d({title:"Generation Failed",description:T.message||"An unexpected error occurred.",variant:"destructive"})}finally{_(!1)}},E=async(T,R)=>{try{const Q=T.name.split(".").pop(),J=`shipment-documents/${`${f.vendor_decl_id||"temp"}_${R}_${Date.now()}.${Q}`}`;R==="invoice"?v(!0):b(!0);const{data:P,error:he}=await re.storage.from("shipment-files").upload(J,T,{cacheControl:"3600",upsert:!1});if(he)throw he;const{data:{publicUrl:de}}=re.storage.from("shipment-files").getPublicUrl(J),Le=R==="invoice"?"invoice_pdf_url":"packing_list_pdf_url";g(Ce=>({...Ce,[Le]:de})),d({title:"Upload Successful",description:`${R==="invoice"?"Invoice":"Packing list"} uploaded successfully.`})}catch(Q){console.error("Upload error:",Q),d({title:"Upload Failed",description:Q.message||"Failed to upload file. Please try again.",variant:"destructive"})}finally{R==="invoice"?v(!1):b(!1)}},j=(T,R)=>{var J;const Q=(J=T.target.files)==null?void 0:J[0];if(!Q)return;if(!["application/pdf","image/png","image/jpeg","image/jpg"].includes(Q.type)){d({title:"Invalid File Type",description:"Please upload PDF or image files (PNG, JPG, JPEG) only.",variant:"destructive"});return}if(Q.size>5*1024*1024){d({title:"File Too Large",description:"File size must be less than 5MB.",variant:"destructive"});return}E(Q,R)},z=T=>{if(T.preventDefault(),!f.vendor_decl_id){k(),d({title:"Vendor ID Required",description:"Click the refresh button to generate a vendor declaration ID first.",variant:"destructive"});return}const R={...f,containerId:u};o(R)},O=(T,R)=>{g(Q=>({...Q,[T]:R}))};return l.jsx(Ll,{open:!0,onOpenChange:()=>!n&&s(),children:l.jsxs(Bl,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Hl,{children:[l.jsxs($l,{className:"flex items-center",children:[l.jsx(Qi,{className:"w-5 h-5 mr-2 text-blue-600"}),"Create Manual Vendor Declaration",u&&l.jsxs(Ot,{variant:"secondary",className:"ml-2",children:["For Container #",u]})]}),l.jsx(Il,{children:u?`Creating a declaration that will be automatically assigned to Container #${u}`:"For walk-in customers or phone orders - Create a shipment declaration without vendor login"})]}),l.jsxs("form",{onSubmit:z,className:"space-y-6 mt-4",children:[l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-3",children:"Vendor Declaration ID"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(pe,{type:"text",required:!0,value:f.vendor_decl_id,onChange:T=>O("vendor_decl_id",T.target.value),placeholder:"VD-2025-XXXXX",className:"flex-1"}),l.jsx(K,{type:"button",variant:"outline",onClick:k,disabled:w,title:"Generate new vendor ID",children:w?l.jsx(Xs,{className:"w-4 h-4 animate-spin"}):l.jsx(Xs,{className:"w-4 h-4"})})]}),l.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Click refresh to auto-generate a unique ID"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Item Information"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"itemName",children:"Item Name *"}),l.jsx(pe,{id:"itemName",type:"text",required:!0,value:f.item_name,onChange:T=>O("item_name",T.target.value),placeholder:"e.g., Electronics, Clothing",className:"mt-1"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"quantity",children:"Quantity *"}),l.jsx(pe,{id:"quantity",type:"number",required:!0,min:"1",value:f.quantity,onChange:T=>O("quantity",parseInt(T.target.value)||1),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"weight",children:"Weight (kg) *"}),l.jsx(pe,{id:"weight",type:"number",required:!0,min:"0.1",step:"0.1",value:f.weight,onChange:T=>O("weight",parseFloat(T.target.value)||0),className:"mt-1"})]})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"hsCode",children:"HS Code"}),l.jsx(pe,{id:"hsCode",type:"text",value:f.hs_code,onChange:T=>O("hs_code",T.target.value),placeholder:"Optional",className:"mt-1"})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Documents (Optional)"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"invoice",className:"text-xs",children:"Invoice"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"invoice",type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:T=>j(T,"invoice"),disabled:m,className:"hidden"}),l.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>{var T;return(T=document.getElementById("invoice"))==null?void 0:T.click()},disabled:m,className:"w-full justify-start",children:m?l.jsxs(l.Fragment,{children:[l.jsx(Xs,{className:"w-3 h-3 mr-2 animate-spin"}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"w-3 h-3 mr-2"}),f.invoice_pdf_url?"Replace":"Upload"," Invoice"]})}),f.invoice_pdf_url&&l.jsxs("a",{href:f.invoice_pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline mt-1 block",children:[l.jsx(fs,{className:"w-3 h-3 inline mr-1"}),"View"]})]})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"packingList",className:"text-xs",children:"Packing List"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("input",{id:"packingList",type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:T=>j(T,"packing_list"),disabled:y,className:"hidden"}),l.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>{var T;return(T=document.getElementById("packingList"))==null?void 0:T.click()},disabled:y,className:"w-full justify-start",children:y?l.jsxs(l.Fragment,{children:[l.jsx(Xs,{className:"w-3 h-3 mr-2 animate-spin"}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"w-3 h-3 mr-2"}),f.packing_list_pdf_url?"Replace":"Upload"," Packing List"]})}),f.packing_list_pdf_url&&l.jsxs("a",{href:f.packing_list_pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline mt-1 block",children:[l.jsx(fs,{className:"w-3 h-3 inline mr-1"}),"View"]})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Consignee Information"}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeName",children:"Full Name *"}),l.jsx(pe,{id:"consigneeName",type:"text",required:!0,value:f.consignee_name,onChange:T=>O("consignee_name",T.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeEmail",children:"Email Address *"}),l.jsx(pe,{id:"consigneeEmail",type:"email",required:!0,value:f.consignee_email,onChange:T=>O("consignee_email",T.target.value),placeholder:"customer@example.com",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneePhone",children:"Phone Number *"}),l.jsx(pe,{id:"consigneePhone",type:"tel",required:!0,value:f.consignee_phone,onChange:T=>O("consignee_phone",T.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"consigneeAddress",children:"Delivery Address *"}),l.jsx(ql,{id:"consigneeAddress",required:!0,value:f.consignee_address,onChange:T=>O("consignee_address",T.target.value),rows:4,className:"mt-1"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[l.jsx(K,{type:"button",variant:"outline",onClick:s,disabled:n,children:"Cancel"}),l.jsxs(K,{type:"submit",disabled:n,className:"flex items-center space-x-2",children:[l.jsx(Qi,{className:"w-4 h-4"}),l.jsx("span",{children:n?"Creating...":"Create Declaration"})]})]})]})]})})}function WN(){const[i,s]=G.useState(""),[n,o]=G.useState("all"),[u,d]=G.useState([]),[f,g]=G.useState(null),[m,v]=G.useState(null),[y,b]=G.useState(null),[w,_]=G.useState(!1),[k,E]=G.useState([]),[j,z]=G.useState(!1),[O,T]=G.useState(""),[R,Q]=G.useState(null),[X,J]=G.useState(!1),[P,he]=G.useState(!1),[de,Le]=G.useState([]),[Ce,Rt]=G.useState([]),{toast:ze}=Ls();Ul(),G.useEffect(()=>{st.mutate({query:"",type:void 0})},[]);const st=Ut({mutationFn:q=>ds.search(q.query),onSuccess:q=>{const xe=Array.isArray(q)?q:q.shipments||[];d(xe)},onError:q=>{console.error("Search error:",q),ze({title:"Search Failed",description:"Unable to search shipments. Please try again.",variant:"destructive"})}}),B=Ut({mutationFn:({id:q,...xe})=>ds.updateShipment(q,xe),onSuccess:()=>{ze({title:"Shipment Updated",description:"Shipment details have been updated successfully."}),g(null),i&&Ke()},onError:q=>{console.error("Update error:",q),ze({title:"Update Failed",description:"Failed to update shipment. Please try again.",variant:"destructive"})}}),F=Ut({mutationFn:q=>ds.deleteShipment(q),onSuccess:()=>{ze({title:"Shipment Deleted",description:"Shipment has been deleted successfully."}),i&&Ke()},onError:q=>{console.error("Delete error:",q),ze({title:"Delete Failed",description:"Failed to delete shipment. Please try again.",variant:"destructive"})}}),V=Ut({mutationFn:q=>ds.dispatch(q),onSuccess:q=>{ze({title:" Shipment Dispatched",description:`Tracking ID ${q.tracking_id} has been created and sent to the customer.`,duration:8e3}),v(null),i&&Ke()},onError:q=>{console.error("Dispatch error:",q),ze({title:"Dispatch Failed",description:"Failed to dispatch shipment. Please try again.",variant:"destructive"})}}),Oe=Ut({mutationFn:q=>ds.updateStatus(q),onSuccess:()=>{ze({title:"Status Updated",description:"Shipment status has been updated successfully."}),b(null),i&&Ke()},onError:q=>{console.error("Status update error:",q),ze({title:"Update Failed",description:"Failed to update status. Please try again.",variant:"destructive"})}}),Re=Ut({mutationFn:q=>ds.createContainer(q),onSuccess:q=>{ze({title:"Container Created",description:`Container "${q.containerName}" has been created.`}),E(xe=>[q,...xe]),T(""),z(!1)},onError:q=>{console.error("Create container error:",q),ze({title:"Creation Failed",description:"Failed to create container. Please try again.",variant:"destructive"})}}),rt=Ut({mutationFn:({id:q,...xe})=>ds.updateContainer(q,xe),onSuccess:q=>{ze({title:"Container Updated",description:`Container "${q.containerName}" has been updated.`}),E(xe=>xe.map(Vt=>Vt.id===q.id?q:Vt)),Q(null),J(!1),i&&Ke()},onError:q=>{console.error("Update container error:",q),ze({title:"Update Failed",description:"Failed to update container. Please try again.",variant:"destructive"})}}),ke=Ut({mutationFn:({trackingId:q,containerId:xe})=>ds.assignShipmentToContainer(q,xe),onSuccess:()=>{ze({title:"Shipment Assigned",description:"Shipment has been assigned to container successfully."}),i&&Ke(),R&&As(R)},onError:q=>{console.error("Assign shipment error:",q),ze({title:"Assignment Failed",description:"Failed to assign shipment to container. Please try again.",variant:"destructive"})}}),oe=Ut({mutationFn:q=>ds.deleteContainer(q),onSuccess:(q,xe)=>{ze({title:"Container Deleted",description:"Container has been deleted and shipments have been released."}),E(Vt=>Vt.filter(ms=>ms.id!==xe)),Q(null),J(!1)},onError:q=>{console.error("Delete container error:",q),ze({title:"Delete Failed",description:"Failed to delete container. Please try again.",variant:"destructive"})}}),Ne=Ut({mutationFn:q=>Ki.declare(q),onSuccess:q=>{ze({title:"Declaration Created",description:`Vendor declaration ${q.vendor_decl_id} has been created successfully.`}),_(!1),Ke()},onError:q=>{console.error("Manual declaration error:",q),ze({title:"Creation Failed",description:"Failed to create declaration. Please try again.",variant:"destructive"})}}),Ke=G.useCallback(()=>{const q=n==="all"?void 0:n;st.mutate({query:i.trim(),type:q})},[i,n]);G.useEffect(()=>{(async()=>{try{const xe=await ds.listContainers();E(xe)}catch(xe){console.error("Failed to load containers:",xe)}})()},[]);const $t=()=>{O.trim()&&Re.mutate(O.trim())},Xe=q=>{Q(q),J(!0)},Js=q=>{R&&rt.mutate({id:R.id,status:q})},It=(q,xe)=>{ke.mutate({trackingId:q,containerId:xe})},As=async q=>{Q(q),he(!0);try{const Vt=(await ds.search("")).filter(jt=>jt.tracking_id),ms=await ds.getContainerShipments(q.id);Le(ms);const wr=Vt.filter(jt=>!ms.find(Mt=>Mt.tracking_id===jt.tracking_id));Rt(wr)}catch(xe){console.error("Failed to load container declarations:",xe),ze({title:"Load Failed",description:"Failed to load container declarations.",variant:"destructive"})}},Bs=q=>{confirm("Are you sure you want to delete this container? All shipments will be released.")&&oe.mutate(q)},Hs=q=>{Q(k.find(xe=>xe.id===q)||null),_(!0)},Vl=(q,xe)=>{ke.mutate({trackingId:q,containerId:xe})},Zs=q=>{g(q)},xr=q=>{confirm(`Are you sure you want to delete shipment ${q.vendor_decl_id}? This action cannot be undone.`)&&F.mutate(q.id.toString())},br=q=>{Ne.mutate(q,{onSuccess:xe=>{q.containerId&&xe.tracking_id&&ke.mutate({trackingId:xe.tracking_id,containerId:q.containerId})}})},Xc=q=>{f&&B.mutate({id:f.id.toString(),...q})};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute top-20 right-20 w-96 h-96 bg-red-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-orange-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse",style:{animationDelay:"1s"}})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8 relative z-10",children:[l.jsx("div",{className:"mb-6 sm:mb-8 animate-in fade-in slide-in-from-top duration-700",children:l.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl p-6 sm:p-8 shadow-2xl",children:l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl sm:text-4xl font-bold text-white flex items-center",children:[l.jsx(Nl,{className:"w-8 h-8 sm:w-10 sm:h-10 mr-3 sm:mr-4 animate-pulse"}),"Admin Dashboard",l.jsx(Gc,{className:"w-6 h-6 ml-3 animate-bounce"})]}),l.jsx("p",{className:"text-sm sm:text-base text-red-100 mt-2 sm:mt-3",children:"Search, edit, and manage all shipment declarations with full control"})]}),l.jsxs(K,{onClick:()=>_(!0),className:"bg-white text-red-600 hover:bg-red-50 shadow-lg font-semibold",children:[l.jsx(Qi,{className:"w-5 h-5 mr-2"}),"Create Manual Declaration"]})]})})}),l.jsx("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-4 gap-4 animate-in fade-in duration-500",children:(()=>{const q=u.length,xe=u.filter(jt=>!jt.tracking_id).length,Vt=u.filter(jt=>!!jt.tracking_id).length,ms=u.slice(0,5),wr=[st.isPending,F.isPending,V.isPending,B.isPending,Oe.isPending].filter(Boolean).length;return l.jsxs(l.Fragment,{children:[l.jsx(_e,{className:"col-span-1 sm:col-span-2 shadow-lg border-0",children:l.jsxs(Ae,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Insights"}),l.jsx("p",{className:"text-sm text-gray-500",children:"High-level metrics for quick monitoring"})]}),l.jsx("div",{className:"text-sm text-gray-400",children:"Updated live"})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"p-3 bg-white/60 rounded-lg text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:q}),l.jsx("div",{className:"text-xs text-gray-500",children:"Total Declarations"})]}),l.jsxs("div",{className:"p-3 bg-white/60 rounded-lg text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-amber-600",children:xe}),l.jsx("div",{className:"text-xs text-gray-500",children:"Pending Dispatch"})]}),l.jsxs("div",{className:"p-3 bg-white/60 rounded-lg text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:Vt}),l.jsx("div",{className:"text-xs text-gray-500",children:"Dispatched"})]})]}),l.jsx("div",{className:"mt-4 text-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"In-flight admin actions"}),l.jsx("span",{className:"font-medium",children:wr})]})})]})}),l.jsx(_e,{className:"col-span-1 sm:col-span-2 shadow-lg border-0",children:l.jsxs(Ae,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Declarations"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Latest 5 by creation time"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[ms.length,"/5"]})]}),l.jsxs("ul",{className:"mt-3 space-y-2",children:[ms.length===0&&l.jsx("li",{className:"text-sm text-gray-500",children:"No recent declarations"}),ms.map(jt=>l.jsxs("li",{className:"flex items-center justify-between bg-white/50 p-2 rounded",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:jt.vendor_decl_id}),l.jsx("div",{className:"text-xs text-gray-500",children:jt.consignee_email||jt.consignee_name})]}),l.jsxs("div",{className:"text-right text-xs",children:[l.jsx("div",{className:"font-medium",children:jt.tracking_id?jt.tracking_id:""}),l.jsx("div",{className:"text-gray-500",children:new Date(jt.created_at).toLocaleString()})]})]},jt.id))]})]})})]})})()}),l.jsxs(_e,{className:"mb-6 sm:mb-8 shadow-xl hover:shadow-2xl transition-shadow duration-300 border-0 animate-in fade-in slide-in-from-bottom duration-700",style:{animationDelay:"200ms"},children:[l.jsxs(et,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-t-lg",children:[l.jsxs(tt,{className:"flex items-center text-lg sm:text-xl",children:[l.jsx(Ys,{className:"w-5 h-5 mr-2"}),"Search Shipments"]}),l.jsx(Ts,{className:"text-blue-100",children:"Search for shipments by various criteria"})]}),l.jsxs(Ae,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(ue,{htmlFor:"searchQuery",children:"Search Query"}),l.jsx(pe,{id:"searchQuery",type:"text",placeholder:"Enter declaration ID, tracking ID, email, etc.",value:i,onChange:q=>s(q.target.value),className:"mt-1",onKeyPress:q=>q.key==="Enter"&&Ke()})]}),l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"searchType",children:"Search Type"}),l.jsxs(bf,{value:n,onValueChange:o,children:[l.jsx(_f,{className:"mt-1",children:l.jsx(wf,{})}),l.jsxs(jf,{children:[l.jsx(es,{value:"all",children:"All Fields"}),l.jsx(es,{value:"vendor_decl_id",children:"Declaration ID"}),l.jsx(es,{value:"tracking_id",children:"Tracking ID"}),l.jsx(es,{value:"vendor_id",children:"Vendor ID"}),l.jsx(es,{value:"consignee_email",children:"Email"})]})]})]})]}),l.jsx("div",{className:"mt-4",children:l.jsxs(K,{onClick:Ke,disabled:st.isPending,className:"flex items-center space-x-2 h-11 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[l.jsx(Ys,{className:"w-4 h-4"}),l.jsx("span",{children:st.isPending?"Searching...":i.trim()?"Search":"Show All"})]})})]})]}),l.jsxs(_e,{className:"shadow-xl border-0 animate-in fade-in duration-500",children:[l.jsxs(et,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-lg",children:[l.jsxs(tt,{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(Fe,{className:"w-5 h-5 mr-2"}),"Container Management (",k.length,")"]}),l.jsxs(K,{onClick:()=>z(!0),size:"sm",className:"bg-white text-purple-600 hover:bg-purple-50",children:[l.jsx(Qi,{className:"w-4 h-4 mr-2"}),"New Container"]})]}),l.jsx(Ts,{className:"text-purple-100",children:"Create and manage shipping containers for bulk operations"})]}),l.jsx(Ae,{children:k.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Fe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No containers created yet"}),l.jsxs(K,{onClick:()=>z(!0),className:"mt-4",variant:"outline",children:[l.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Create First Container"]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(q=>l.jsxs(_e,{className:"border-2 hover:border-purple-300 transition-colors",children:[l.jsxs(et,{className:"pb-3",children:[l.jsxs(tt,{className:"text-lg flex items-center justify-between",children:[l.jsx("span",{className:"truncate",children:q.containerName}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q.status==="pending"?"bg-gray-100 text-gray-800":q.status==="processing"?"bg-blue-100 text-blue-800":q.status==="in_transit"?"bg-yellow-100 text-yellow-800":q.status==="out_for_delivery"?"bg-orange-100 text-orange-800":q.status==="delivered"?"bg-green-100 text-green-800":"bg-gray-200 text-gray-700"}`,children:q.status})]}),l.jsxs(Ts,{children:[q.shipmentCount||0," shipments  Created ",new Date(q.createdAt).toLocaleDateString()]})]}),l.jsx(Ae,{className:"pt-0",children:l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs(K,{size:"sm",variant:"outline",onClick:()=>As(q),className:"flex-1",children:[l.jsx(Fe,{className:"w-4 h-4 mr-1"}),"Manage (",q.shipmentCount||0,")"]}),l.jsxs(K,{size:"sm",variant:"outline",onClick:()=>Xe(q),children:[l.jsx(cf,{className:"w-4 h-4 mr-1"}),"Status"]})]})})]},q.id))})})]}),u.length>0&&l.jsxs(_e,{className:"shadow-xl border-0 animate-in fade-in duration-500",children:[l.jsx(et,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-t-lg",children:l.jsx(tt,{className:"flex items-center justify-between",children:l.jsxs("span",{className:"flex items-center",children:[l.jsx(Fe,{className:"w-5 h-5 mr-2"}),"Search Results (",u.length,")"]})})}),l.jsx(Ae,{children:l.jsx(KN,{shipments:u,containers:k,onEdit:Zs,onDelete:xr,onDispatch:q=>v(q),onUpdateStatus:q=>b(q),onAssignToContainer:It,isDeleting:F.isPending})})]}),u.length===0&&!st.isPending&&l.jsx(_e,{className:"shadow-xl border-0 animate-in fade-in duration-500",children:l.jsxs(Ae,{className:"text-center py-12",children:[l.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Fe,{className:"w-12 h-12 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Shipments Found"}),l.jsx("p",{className:"text-gray-600",children:i?"No shipments found matching your search criteria.":"No shipment declarations in the system yet."})]})}),f&&l.jsx(XN,{shipment:f,onSave:Xc,onClose:()=>g(null),isLoading:B.isPending}),m&&l.jsx(YN,{shipment:m,onDispatch:q=>V.mutate(q),onClose:()=>v(null),isLoading:V.isPending}),y&&y.tracking_id&&l.jsx(JN,{tracking_id:y.tracking_id,vendor_decl_id:y.vendor_decl_id,onUpdate:q=>Oe.mutate(q),onClose:()=>b(null),isLoading:Oe.isPending}),w&&l.jsx(ZN,{onSuccess:()=>_(!1),onClose:()=>{_(!1),Q(null)},isLoading:Ne.isPending,onSubmit:br,containerId:R==null?void 0:R.id}),j&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs(_e,{className:"w-full max-w-md mx-4",children:[l.jsxs(et,{children:[l.jsx(tt,{children:"Create New Container"}),l.jsx(Ts,{children:"Enter a name for the new shipping container"})]}),l.jsx(Ae,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ue,{htmlFor:"containerName",children:"Container Name"}),l.jsx(pe,{id:"containerName",type:"text",placeholder:"e.g., Container-001",value:O,onChange:q=>T(q.target.value),onKeyPress:q=>q.key==="Enter"&&$t()})]}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(K,{variant:"outline",onClick:()=>{z(!1),T("")},children:"Cancel"}),l.jsx(K,{onClick:$t,disabled:!O.trim()||Re.isPending,children:Re.isPending?"Creating...":"Create Container"})]})]})})]})}),X&&R&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs(_e,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs(et,{children:[l.jsxs(tt,{children:["Manage Container: ",R.containerName]}),l.jsx(Ts,{children:"Update container status or assign shipments"})]}),l.jsx(Ae,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ue,{className:"text-base font-medium",children:"Update Container Status"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"This will update the status of all shipments in this container"}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:["pending","processing","in_transit","out_for_delivery","delivered"].map(q=>l.jsx(K,{variant:R.status===q?"default":"outline",size:"sm",onClick:()=>Js(q),disabled:rt.isPending,children:q.replace("_"," ").toUpperCase()},q))})]}),l.jsxs("div",{children:[l.jsx(ue,{className:"text-base font-medium",children:"Shipments in Container"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[R.shipmentCount||0," shipments currently assigned"]}),R.shipmentCount===0&&l.jsx("p",{className:"text-gray-500 italic",children:"No shipments assigned to this container yet"})]}),l.jsxs("div",{className:"flex gap-2 justify-between pt-4 border-t",children:[l.jsxs(K,{variant:"destructive",onClick:()=>Bs(R.id),disabled:oe.isPending,className:"flex items-center space-x-2",children:[l.jsx(uf,{className:"w-4 h-4"}),l.jsx("span",{children:oe.isPending?"Deleting...":"Delete Container"})]}),l.jsx(K,{variant:"outline",onClick:()=>{J(!1),Q(null)},children:"Close"})]})]})})]})}),P&&R&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs(_e,{className:"w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs(et,{children:[l.jsxs(tt,{className:"flex items-center justify-between",children:[l.jsxs("span",{children:["Manage Declarations: ",R.containerName]}),l.jsx(Ot,{variant:"outline",children:R.status})]}),l.jsx(Ts,{children:"Add new declarations or attach existing ones to this container"})]}),l.jsx(Ae,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex gap-3 flex-wrap",children:[l.jsxs(K,{onClick:()=>Hs(R.id),className:"bg-green-600 hover:bg-green-700",children:[l.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Create New Declaration"]}),l.jsxs(K,{variant:"outline",onClick:()=>{ds.search("").then(q=>{const xe=q.filter(Vt=>Vt.tracking_id);Rt(xe)})},children:[l.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Refresh Available"]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Declarations in Container (",de.length,")"]}),de.length===0?l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[l.jsx(Fe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No declarations in this container yet"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create a new declaration or attach existing ones"})]}):l.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[de.slice(0,10).map(q=>l.jsx(_e,{className:"p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ot,{variant:"outline",children:q.vendor_decl_id}),l.jsx("span",{className:"font-medium",children:q.item_name}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",q.quantity]})]}),l.jsx(K,{size:"sm",variant:"outline",onClick:()=>It(q.tracking_id,null),className:"text-red-600 hover:text-red-700",children:"Remove"})]})},q.id)),de.length>10&&l.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["And ",de.length-10," more declarations..."]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Available Declarations (",Ce.length,")"]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"These are dispatched shipments that aren't currently assigned to any container"}),Ce.length===0?l.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:l.jsx("p",{className:"text-gray-500",children:"No available declarations to attach"})}):l.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[Ce.slice(0,10).map(q=>l.jsx(_e,{className:"p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ot,{variant:"outline",children:q.vendor_decl_id}),l.jsx("span",{className:"font-medium",children:q.item_name}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",q.quantity]}),q.tracking_id&&l.jsx(Ot,{variant:"secondary",className:"text-xs",children:q.tracking_id})]}),l.jsx(K,{size:"sm",onClick:()=>Vl(q.tracking_id,R.id),disabled:ke.isPending,children:ke.isPending?"Attaching...":"Attach"})]})},q.id)),Ce.length>10&&l.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["And ",Ce.length-10," more available declarations..."]})]})]}),l.jsx("div",{className:"flex gap-2 justify-end pt-4 border-t",children:l.jsx(K,{variant:"outline",onClick:()=>{he(!1),Q(null),Le([]),Rt([])},children:"Close"})})]})})]})})]})]})}function Av({children:i,redirectTo:s="/login"}){const[n,o]=yt.useState(!0),[u,d]=yt.useState(!1);return yt.useEffect(()=>{let f=!0,g=!1;async function m(){try{console.log("ProtectedRoute: Checking authentication...");const{data:{session:b},error:w}=await re.auth.getSession();if(g=!0,!f)return;w?(console.error("ProtectedRoute: Session check error:",w),d(!1),o(!1)):b?(console.log("ProtectedRoute: Valid session found for user:",b.user.email),d(!0),o(!1)):(console.log("ProtectedRoute: No valid session"),d(!1),o(!1))}catch(b){console.error("ProtectedRoute: Auth check error:",b),g=!0,f&&(d(!1),o(!1))}}m();const v=setTimeout(()=>{!g&&f&&(console.warn("ProtectedRoute: Auth check timeout, assuming no session"),d(!1),o(!1))},5e3),{data:y}=re.auth.onAuthStateChange((b,w)=>{console.log("ProtectedRoute: Auth state changed -",b,"Session:",!!w),f&&(b==="SIGNED_OUT"?(console.log("ProtectedRoute: User signed out"),d(!1)):b==="SIGNED_IN"&&w?(console.log("ProtectedRoute: User signed in"),d(!0)):b==="TOKEN_REFRESHED"&&w?(console.log("ProtectedRoute: Token refreshed"),d(!0)):w?(console.log("ProtectedRoute: Session exists, authenticated"),d(!0)):b==="INITIAL_SESSION"&&!w&&(console.log("ProtectedRoute: Initial session check - no session"),d(!1)),o(!1))});return()=>{var b;f=!1,clearTimeout(v),(b=y==null?void 0:y.subscription)!=null&&b.unsubscribe&&y.subscription.unsubscribe()}},[]),n?l.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("div",{className:"text-gray-600",children:"Loading..."})]})}):u?l.jsx(l.Fragment,{children:i}):l.jsx(g_,{to:s,replace:!0})}function eE(){const[i,s]=yt.useState(""),[n,o]=yt.useState(""),[u,d]=yt.useState(!1),[f,g]=yt.useState(0),m=fr(),{toast:v}=Ls(),y=yt.useRef(null);yt.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);async function b(_){if(_.preventDefault(),!i||!n){v({title:"Missing fields",description:"Please provide email and password."});return}d(!0),y.current=setTimeout(()=>{d(!1),g(k=>k+1),v({title:"Login Timeout",description:"Login is taking too long. Please try again.",variant:"destructive"})},15e3);try{console.log("Attempting login...");const{data:k,error:E}=await re.auth.signInWithPassword({email:i,password:n});if(E){console.error("Login error:",E),v({title:"Login Failed",description:E.message||"Invalid email or password.",variant:"destructive"}),d(!1);return}if(!(k!=null&&k.session)||!(k!=null&&k.user)){console.error("No session returned from login"),v({title:"Login Failed",description:"Could not establish session. Please try again.",variant:"destructive"}),d(!1);return}console.log("Login successful, user:",k.user.email),y.current&&clearTimeout(y.current),await new Promise(R=>setTimeout(R,200));const{data:j,error:z}=await re.from("profiles").select("role,vendor_id").eq("id",k.user.id).single();z&&(console.error("Failed to fetch profile:",z),v({title:"Warning",description:"Could not fetch user profile. Redirecting to home page.",variant:"destructive"}));const O=(j==null?void 0:j.role)||"receiver",T=O==="vendor"?"/vendor":O==="admin"?"/admin":"/";console.log("User role:",O,"| Navigating to:",T),v({title:"Login Successful",description:`Welcome back${O!=="receiver"?" to "+O+" portal":""}!`}),g(0),m(T,{replace:!0}),d(!1)}catch(k){console.error("Login error:",k),y.current&&clearTimeout(y.current),g(E=>E+1),v({title:"Login Error",description:k.message||"An error occurred during login. Please try again.",variant:"destructive"}),d(!1)}}async function w(){if(!i){v({title:"Missing email",description:"Enter your email first"});return}d(!0);try{const{error:_}=await re.auth.signInWithOtp({email:i});_?(console.error("Magic link error:",_),v({title:"Error",description:_.message,variant:"destructive"})):v({title:"Magic Link Sent",description:"Check your email for a sign-in link."})}catch(_){console.error("Magic link unexpected error:",_),v({title:"Error",description:_.message||"Failed to send magic link.",variant:"destructive"})}finally{d(!1)}}return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 flex items-center justify-center py-12 px-4",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse",style:{animationDelay:"1s"}})]}),l.jsxs("div",{className:"max-w-md w-full relative z-10",children:[l.jsxs("div",{className:"text-center mb-8 animate-in fade-in slide-in-from-top duration-700",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 p-3 rounded-2xl shadow-lg",children:l.jsx(Lh,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to access your account"})]}),l.jsxs(_e,{className:"shadow-2xl border-0 animate-in fade-in slide-in-from-bottom duration-700",style:{animationDelay:"200ms"},children:[l.jsxs(et,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-t-lg",children:[l.jsxs(tt,{className:"flex items-center text-xl",children:[l.jsx(Dc,{className:"w-5 h-5 mr-2"}),"Sign In"]}),l.jsx(Ts,{className:"text-purple-100",children:"Enter your credentials to continue"})]}),l.jsxs(Ae,{className:"pt-6",children:[l.jsxs("form",{onSubmit:b,className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[l.jsx(gr,{className:"w-4 h-4 mr-2 text-purple-500"}),"Email Address"]}),l.jsx(pe,{id:"email",name:"email",value:i,onChange:_=>s(_.target.value),type:"email",autoComplete:"email",placeholder:"you@example.com",className:"h-11 focus:ring-2 focus:ring-purple-500 transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[l.jsx(Lh,{className:"w-4 h-4 mr-2 text-purple-500"}),"Password"]}),l.jsx(pe,{id:"password",name:"password",value:n,onChange:_=>o(_.target.value),type:"password",autoComplete:"current-password",placeholder:"",className:"h-11 focus:ring-2 focus:ring-purple-500 transition-all"})]}),l.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[l.jsx(K,{type:"submit",disabled:u,className:"w-full h-12 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:u?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsx(Dc,{className:"w-5 h-5 mr-2"}),"Sign In",f>0&&` (Retry ${f})`]})}),l.jsxs(K,{type:"button",variant:"outline",disabled:u,onClick:w,className:"w-full h-12 border-2 border-purple-200 hover:border-purple-400 hover:bg-purple-50 transition-all duration-300",children:[l.jsx(Gc,{className:"w-5 h-5 mr-2"}),"Send Magic Link"]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx(vt,{to:"/register",className:"font-medium text-purple-600 hover:text-purple-500 transition-colors",children:"Sign up"})]})})]})]})]})]})}function tE(){const[i,s]=yt.useState(""),[n,o]=yt.useState(""),[u,d]=yt.useState(""),[f,g]=yt.useState(!1),m=fr(),{toast:v}=Ls();async function y(b){if(b.preventDefault(),!i||!n){v({title:"Missing fields",description:"Please provide email and password."});return}if(n!==u){v({title:"Password mismatch",description:"Password and confirmation do not match."});return}g(!0);try{const{data:w,error:_}=await re.auth.signUp({email:i,password:n});if(_){v({title:"Registration error",description:_.message}),g(!1);return}w!=null&&w.session?(v({title:"Registration successful",description:"You are signed in."}),m("/")):(v({title:"Registration successful",description:"Please check your email for a confirmation link before signing in."}),m("/login"))}catch(w){console.error("Sign up error:",w),v({title:"Error",description:String(w)}),g(!1)}}return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 flex items-center justify-center py-12 px-4",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse"}),l.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse",style:{animationDelay:"1s"}})]}),l.jsxs("div",{className:"max-w-md w-full relative z-10",children:[l.jsxs("div",{className:"text-center mb-8 animate-in fade-in slide-in-from-top duration-700",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 p-3 rounded-2xl shadow-lg",children:l.jsx(Q0,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Create Account"}),l.jsx("p",{className:"text-gray-600",children:"Join us and start shipping today"})]}),l.jsxs(_e,{className:"shadow-2xl border-0 animate-in fade-in slide-in-from-bottom duration-700",style:{animationDelay:"200ms"},children:[l.jsxs(et,{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-t-lg",children:[l.jsxs(tt,{className:"flex items-center text-xl",children:[l.jsx(Gc,{className:"w-5 h-5 mr-2"}),"Sign Up"]}),l.jsx(Ts,{className:"text-green-100",children:"Create your account to get started"})]}),l.jsxs(Ae,{className:"pt-6",children:[l.jsxs("form",{onSubmit:y,className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[l.jsx(gr,{className:"w-4 h-4 mr-2 text-green-500"}),"Email Address"]}),l.jsx(pe,{id:"email",name:"email",value:i,onChange:b=>s(b.target.value),type:"email",autoComplete:"email",placeholder:"you@example.com",className:"h-11 focus:ring-2 focus:ring-green-500 transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[l.jsx(Lh,{className:"w-4 h-4 mr-2 text-green-500"}),"Password"]}),l.jsx(pe,{id:"password",name:"password",value:n,onChange:b=>o(b.target.value),type:"password",autoComplete:"new-password",placeholder:"",className:"h-11 focus:ring-2 focus:ring-green-500 transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[l.jsx(Nl,{className:"w-4 h-4 mr-2 text-green-500"}),"Confirm Password"]}),l.jsx(pe,{id:"confirm-password",name:"confirm-password",value:u,onChange:b=>d(b.target.value),type:"password",autoComplete:"new-password",placeholder:"",className:"h-11 focus:ring-2 focus:ring-green-500 transition-all"})]}),l.jsx("div",{className:"pt-2",children:l.jsx(K,{type:"submit",disabled:f,className:"w-full h-12 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:f?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsx(Q0,{className:"w-5 h-5 mr-2"}),"Create Account"]})})})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(vt,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors",children:"Sign in"})]})})]})]})]})]})}const sE=new F_({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,refetchOnMount:"always",staleTime:0}}});function aE(){return l.jsxs(p_,{children:[l.jsx(TN,{children:l.jsxs(v_,{children:[l.jsx(Rn,{path:"/",element:l.jsx(AN,{})}),l.jsx(Rn,{path:"/vendor",element:l.jsx(Av,{children:l.jsx(IN,{})})}),l.jsx(Rn,{path:"/login",element:l.jsx(eE,{})}),l.jsx(Rn,{path:"/register",element:l.jsx(tE,{})}),l.jsx(Rn,{path:"/tracking",element:l.jsx(VN,{})}),l.jsx(Rn,{path:"/tracking/:trackingId",element:l.jsx(PN,{})}),l.jsx(Rn,{path:"/admin",element:l.jsx(Av,{children:l.jsx(WN,{})})})]})}),l.jsx(oS,{})]})}function nE(){return l.jsx(K_,{client:sE,children:l.jsx(aE,{})})}S_.createRoot(document.getElementById("root")).render(l.jsx(yt.StrictMode,{children:l.jsx(nE,{})}));
